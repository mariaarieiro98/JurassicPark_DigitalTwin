{"ast":null,"code":"var _jsxFileName = \"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Table/JPTable.tsx\";\nimport React, { useState, useCallback } from 'react';\nimport { withStyles, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Box, Button } from '@material-ui/core';\nimport { ArrowDropUp, ArrowDropDown, Delete, Edit, AddBoxOutlined, Settings } from '@material-ui/icons';\nimport { useMountEffect } from '../../../utils/main';\nimport { useGlobalStyles } from '../../../styles/main';\nimport './JPTable.css';\nimport { ConfirmActionStateLabel, ConfirmAction } from '../ConfirmAction/ConfirmAction';\nconst StyledTableCell = withStyles(theme => createStyles({\n  head: {\n    color: theme.palette.primary.main,\n    fontWeight: 'bold',\n    fontSize: 16\n  },\n  body: {\n    fontSize: 12\n  }\n}))(TableCell);\nconst StyledTableRow = withStyles(theme => createStyles({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.background.default\n    }\n  }\n}))(TableRow);\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700\n  },\n  tableHeader: {\n    cursor: 'pointer'\n  }\n});\nexport const JPTable = props => {\n  var _props$extra6, _props$extra7, _props$extra7$delete, _props$extra8, _props$extra9, _props$extra9$delete, _props$extra10, _props$extra11, _props$extra11$delete;\n\n  const classes = useStyles();\n  const globalClasses = useGlobalStyles();\n  const [orderBy, setOrderBy] = useState('');\n  const [previousOrderBy, setPreviousOrderBy] = useState('');\n  const [asc, setAsc] = useState(false);\n  const [deleting, setDeleting] = useState(undefined);\n\n  const sort = criteria => {\n    if (!props.data.length) return; // const criteria = props.indexes[criteriaIndex].key\n\n    let newAsc = true;\n    const sorted = [...props.data.sort((a, b) => {\n      var _a$criteria$key, _b$criteria$key;\n\n      let elementA = (_a$criteria$key = a[criteria].key) !== null && _a$criteria$key !== void 0 ? _a$criteria$key : a[criteria];\n      let elementB = (_b$criteria$key = b[criteria].key) !== null && _b$criteria$key !== void 0 ? _b$criteria$key : b[criteria];\n\n      if (typeof a[criteria] === 'string') {\n        var _a$criteria$key2, _b$criteria$key2;\n\n        elementA = ((_a$criteria$key2 = a[criteria].key) !== null && _a$criteria$key2 !== void 0 ? _a$criteria$key2 : a[criteria]).toLocaleLowerCase();\n        elementB = ((_b$criteria$key2 = b[criteria].key) !== null && _b$criteria$key2 !== void 0 ? _b$criteria$key2 : b[criteria]).toLocaleLowerCase();\n      }\n\n      const greater = elementA >= elementB;\n      const equal = elementA === elementB;\n      if (criteria === orderBy) newAsc = !asc;\n      return equal ? 0 : newAsc ? greater ? 1 : -1 : greater ? -1 : 1;\n    })];\n    setPreviousOrderBy(orderBy);\n    setOrderBy(criteria);\n    setAsc(newAsc);\n    props.updateData(sorted);\n  };\n\n  useMountEffect(() => sort(props.sortedkey ? props.sortedkey : props.indexes[0].key));\n  const setDeletingElement = useCallback(element => () => setDeleting(element), []);\n\n  const triggerEditElement = element => () => props.extra && props.extra.edit ? props.extra.edit.action(element) : {};\n\n  const triggerDetailsElement = element => () => props.extra && props.extra.details ? props.extra.details.action(element) : {};\n\n  const triggerAddElement = element => () => props.extra && props.extra.add ? props.extra.add.action(element) : {};\n\n  const deleteLine = useCallback(() => {\n    return new Promise((res, rej) => {\n      var _props$extra;\n\n      if (!((_props$extra = props.extra) === null || _props$extra === void 0 ? void 0 : _props$extra.delete) || !deleting) {\n        rej('');\n        return;\n      }\n\n      props.extra.delete.action(deleting).then(_ => {\n        var _props$extra2, _props$extra3, _props$extra3$delete;\n\n        res(`Correctly deleted ${props.tName} \\n${deleting && ((_props$extra2 = props.extra) === null || _props$extra2 === void 0 ? void 0 : _props$extra2.delete) ? deleting[(_props$extra3 = props.extra) === null || _props$extra3 === void 0 ? void 0 : (_props$extra3$delete = _props$extra3.delete) === null || _props$extra3$delete === void 0 ? void 0 : _props$extra3$delete.labelKey] : ''}.`);\n      }).catch(_ => {\n        var _props$extra4, _props$extra5, _props$extra5$delete;\n\n        rej(`Error deleting ${props.tName} \\n${deleting && ((_props$extra4 = props.extra) === null || _props$extra4 === void 0 ? void 0 : _props$extra4.delete) ? deleting[(_props$extra5 = props.extra) === null || _props$extra5 === void 0 ? void 0 : (_props$extra5$delete = _props$extra5.delete) === null || _props$extra5$delete === void 0 ? void 0 : _props$extra5$delete.labelKey] : ''}.`);\n      });\n    });\n  }, [deleting, props.extra, props.tName]);\n  const confirmActionStatesToRemove = {\n    start: {\n      label: `Delete ${props.tName} \\n${deleting && ((_props$extra6 = props.extra) === null || _props$extra6 === void 0 ? void 0 : _props$extra6.delete) ? deleting[(_props$extra7 = props.extra) === null || _props$extra7 === void 0 ? void 0 : (_props$extra7$delete = _props$extra7.delete) === null || _props$extra7$delete === void 0 ? void 0 : _props$extra7$delete.labelKey] : ''}?`,\n      positiveLabel: 'Yes',\n      negativeLabel: 'No',\n      state: ConfirmActionStateLabel.start\n    },\n    executing: {\n      label: '',\n      state: ConfirmActionStateLabel.executing\n    },\n    success: {\n      label: `Correctly deleted ${props.tName} \\n${deleting && ((_props$extra8 = props.extra) === null || _props$extra8 === void 0 ? void 0 : _props$extra8.delete) ? deleting[(_props$extra9 = props.extra) === null || _props$extra9 === void 0 ? void 0 : (_props$extra9$delete = _props$extra9.delete) === null || _props$extra9$delete === void 0 ? void 0 : _props$extra9$delete.labelKey] : ''}.`,\n      state: ConfirmActionStateLabel.success,\n      positiveLabel: 'Ok'\n    },\n    error: {\n      label: `Error deleting ${props.tName} \\n${deleting && ((_props$extra10 = props.extra) === null || _props$extra10 === void 0 ? void 0 : _props$extra10.delete) ? deleting[(_props$extra11 = props.extra) === null || _props$extra11 === void 0 ? void 0 : (_props$extra11$delete = _props$extra11.delete) === null || _props$extra11$delete === void 0 ? void 0 : _props$extra11$delete.labelKey] : ''}.`,\n      state: ConfirmActionStateLabel.error,\n      positiveLabel: 'Ok'\n    }\n  };\n\n  const onCancel = () => setDeleting(undefined);\n\n  const onError = () => setDeleting(undefined);\n\n  const onSuccess = () => {\n    var _props$extra12, _props$extra12$delete;\n\n    props.updateData(props.data.filter(cElement => cElement !== deleting));\n    if (deleting) (_props$extra12 = props.extra) === null || _props$extra12 === void 0 ? void 0 : (_props$extra12$delete = _props$extra12.delete) === null || _props$extra12$delete === void 0 ? void 0 : _props$extra12$delete.onSuccessDelete(deleting);\n  };\n\n  const confirmActionPropsDeleting = {\n    title: `Deleting ${props.tName}`,\n    states: confirmActionStatesToRemove,\n    currentState: confirmActionStatesToRemove.start,\n    onCancel: onCancel,\n    onError: onError,\n    onSuccess: onSuccess,\n    action: deleteLine\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, deleting ? /*#__PURE__*/React.createElement(ConfirmAction, Object.assign({}, confirmActionPropsDeleting, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 19\n    }\n  })) : null, /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    size: \"small\",\n    \"aria-label\": \"customized table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, props.indexes.map((element, index) => /*#__PURE__*/React.createElement(StyledTableCell, {\n    className: classes.tableHeader,\n    onClick: () => sort(element.key),\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: globalClasses.hoverOpacity,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 31\n    }\n  }, element.label, element.key === orderBy ? asc ? /*#__PURE__*/React.createElement(ArrowDropUp, {\n    className: previousOrderBy === orderBy ? \"arrow-up\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 68\n    }\n  }) : /*#__PURE__*/React.createElement(ArrowDropDown, {\n    className: element.key === orderBy ? \"arrow-down\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 143\n    }\n  }) : /*#__PURE__*/React.createElement(ArrowDropUp, {\n    className: `${globalClasses.hiddenHoverOpacity}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 218\n    }\n  })))), props.extra ? props.extra.details ? /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 51\n    }\n  }) : null : null, props.extra ? props.extra.add ? /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 47\n    }\n  }) : null : null, props.extra ? props.extra.edit ? /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 48\n    }\n  }) : null : null, props.extra ? props.extra.delete ? /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 50\n    }\n  }) : null : null)), !!props.data.length ? /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, props.data.map((row, elIndex) => {\n    var _row$detailsDisabled, _row$addDisabled, _row$editDisabled, _row$deleteDisabled;\n\n    return /*#__PURE__*/React.createElement(StyledTableRow, {\n      key: elIndex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }, props.indexes.map((element, valIndex) => {\n      var _row$element$key$data, _row$element$key;\n\n      return /*#__PURE__*/React.createElement(StyledTableCell, {\n        key: valIndex,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 105\n        }\n      }, (_row$element$key$data = (_row$element$key = row[element.key]) === null || _row$element$key === void 0 ? void 0 : _row$element$key.data) !== null && _row$element$key$data !== void 0 ? _row$element$key$data : row[element.key]);\n    }), props.extra ? props.extra.details ? /*#__PURE__*/React.createElement(StyledTableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: (_row$detailsDisabled = row.detailsDisabled) !== null && _row$detailsDisabled !== void 0 ? _row$detailsDisabled : false,\n      onClick: triggerDetailsElement(row),\n      style: {\n        minWidth: 0\n      },\n      variant: \"text\",\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 48\n      }\n    }, /*#__PURE__*/React.createElement(Settings, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 182\n      }\n    }))) : null : null, props.extra ? props.extra.add ? /*#__PURE__*/React.createElement(StyledTableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: (_row$addDisabled = row.addDisabled) !== null && _row$addDisabled !== void 0 ? _row$addDisabled : false,\n      onClick: triggerAddElement(row),\n      style: {\n        minWidth: 0\n      },\n      variant: \"text\",\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 48\n      }\n    }, /*#__PURE__*/React.createElement(AddBoxOutlined, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 174\n      }\n    }))) : null : null, props.extra ? props.extra.edit ? /*#__PURE__*/React.createElement(StyledTableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: (_row$editDisabled = row.editDisabled) !== null && _row$editDisabled !== void 0 ? _row$editDisabled : false,\n      onClick: triggerEditElement(row),\n      style: {\n        minWidth: 0\n      },\n      variant: \"text\",\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 48\n      }\n    }, /*#__PURE__*/React.createElement(Edit, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 176\n      }\n    }))) : null : null, props.extra ? props.extra.delete ? /*#__PURE__*/React.createElement(StyledTableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: (_row$deleteDisabled = row.deleteDisabled) !== null && _row$deleteDisabled !== void 0 ? _row$deleteDisabled : false,\n      onClick: setDeletingElement(row),\n      style: {\n        minWidth: 0\n      },\n      variant: \"text\",\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 48\n      }\n    }, /*#__PURE__*/React.createElement(Delete, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 178\n      }\n    }))) : null : null);\n  })) : null)));\n};","map":{"version":3,"sources":["/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Table/JPTable.tsx"],"names":["React","useState","useCallback","withStyles","createStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Box","Button","ArrowDropUp","ArrowDropDown","Delete","Edit","AddBoxOutlined","Settings","useMountEffect","useGlobalStyles","ConfirmActionStateLabel","ConfirmAction","StyledTableCell","theme","head","color","palette","primary","main","fontWeight","fontSize","body","StyledTableRow","root","backgroundColor","background","default","useStyles","table","minWidth","tableHeader","cursor","JPTable","props","classes","globalClasses","orderBy","setOrderBy","previousOrderBy","setPreviousOrderBy","asc","setAsc","deleting","setDeleting","undefined","sort","criteria","data","length","newAsc","sorted","a","b","elementA","key","elementB","toLocaleLowerCase","greater","equal","updateData","sortedkey","indexes","setDeletingElement","element","triggerEditElement","extra","edit","action","triggerDetailsElement","details","triggerAddElement","add","deleteLine","Promise","res","rej","delete","then","_","tName","labelKey","catch","confirmActionStatesToRemove","start","label","positiveLabel","negativeLabel","state","executing","success","error","onCancel","onError","onSuccess","filter","cElement","onSuccessDelete","confirmActionPropsDeleting","title","states","currentState","map","index","hoverOpacity","hiddenHoverOpacity","row","elIndex","valIndex","detailsDisabled","addDisabled","editDisabled","deleteDisabled"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react'\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport { Box, Button } from '@material-ui/core'\nimport { ArrowDropUp,ArrowDropDown,Delete,Edit, SettingsApplications, Add, AddBox, AddBoxOutlined, Settings } from '@material-ui/icons'\nimport { useMountEffect } from '../../../utils/main'\nimport {useGlobalStyles} from '../../../styles/main'\nimport './JPTable.css'\nimport { ConfirmActionStateLabel, ConfirmActionProps, ConfirmAction } from '../ConfirmAction/ConfirmAction'\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      color: theme.palette.primary.main,\n      fontWeight: 'bold',\n      fontSize: 16,\n    },\n    body: {\n      fontSize: 12,\n    },\n    \n  }),\n)(TableCell)\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.background.default,\n      },\n    },\n  }),\n)(TableRow)\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700,\n  },\n  tableHeader: {\n    cursor:'pointer'\n  }\n})\n\nexport const JPTable = (props: {\n      data: any[], updateData: ((data: any[]) => void)\n      indexes : {label:string, key: string}[]\n      tName: string\n      extra?: {\n        delete? :{\n          action: (element:any) => Promise<any> \n          labelKey: string,\n          onSuccessDelete: (element: any) => void\n        },\n        edit?: {\n          action: (element: any) => void\n        } \n        details? :{\n          action: (element: any) => void\n        },\n        add? :{\n          action: (element: any) => void\n        },\n      }\n      sortedkey? : string}) => {\n    \n    const classes = useStyles()\n    const globalClasses = useGlobalStyles()\n    const [orderBy, setOrderBy] : [string | '', Function] = useState('')\n    const [previousOrderBy, setPreviousOrderBy] : [string | '', Function] = useState('')\n    const [asc, setAsc] : [boolean, Function] = useState(false)\n    const [deleting, setDeleting] : [string | undefined, Function] = useState(undefined)\n\n    const sort = (criteria: string) => {\n\n      if(!props.data.length)\n        return\n        \n      // const criteria = props.indexes[criteriaIndex].key\n      let newAsc = true\n      \n      const sorted : [] = [...props.data.sort((a:any, b:any) => {\n        \n        let elementA = a[criteria].key ?? a[criteria]\n        let elementB = b[criteria].key ?? b[criteria]\n        if(typeof a[criteria] === 'string') {\n          elementA = (a[criteria].key ?? a[criteria] as string).toLocaleLowerCase()\n          elementB = (b[criteria].key ?? b[criteria] as string).toLocaleLowerCase()\n        }\n        \n        const greater = elementA >= elementB\n        const equal = elementA === elementB\n\n        if(criteria === orderBy)\n          newAsc = !asc\n          \n        return equal ? 0 : newAsc ? greater ? 1 : -1 : greater ? -1 : 1\n  \n      })] as []\n      \n      setPreviousOrderBy(orderBy)\n      setOrderBy(criteria)\n      setAsc(newAsc)\n      \n      props.updateData(sorted)\n\n    }\n\n    useMountEffect(() => sort(props.sortedkey ? props.sortedkey : props.indexes[0].key))\n\n    const setDeletingElement = useCallback((element: any) => () => setDeleting(element),[])\n    const triggerEditElement = (element: any) => () => props.extra && props.extra.edit ? props.extra.edit.action(element) : {}\n    const triggerDetailsElement = (element: any) => () => props.extra && props.extra.details ? props.extra.details.action(element) : {}\n    const triggerAddElement = (element: any) => () => props.extra && props.extra.add ? props.extra.add.action(element) : {}\n\n    const deleteLine = useCallback(() : Promise<string> => {\n\n      return new Promise((res:Function, rej:Function) => {\n\n        if(!(props.extra?.delete) || !deleting) {\n          rej('')\n          return\n        }\n        \n        props.extra.delete.action(deleting)\n\n          .then(_ => {\n            res(`Correctly deleted ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}.`)\n          })\n          .catch(_ => {\n            rej(`Error deleting ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}.`)\n          })\n      })\n\n    },[deleting,props.extra,props.tName])\n\n    const confirmActionStatesToRemove = {\n\n      start: {\n        label: `Delete ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}?`,\n        positiveLabel: 'Yes',\n        negativeLabel: 'No',\n        state: ConfirmActionStateLabel.start\n      },\n      executing: {\n        label: '',\n        state: ConfirmActionStateLabel.executing,\n      },\n      success: {\n        label: `Correctly deleted ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}.`,\n        state: ConfirmActionStateLabel.success,\n        positiveLabel: 'Ok'\n      },\n      error: {\n        label: `Error deleting ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}.`,\n        state: ConfirmActionStateLabel.error,\n        positiveLabel: 'Ok'\n      },\n    }\n\n    const onCancel = () => setDeleting(undefined)\n    const onError = () => setDeleting(undefined)\n    const onSuccess = () => {\n      props.updateData(props.data.filter((cElement: any) => cElement !== deleting))\n      if(deleting)\n        props.extra?.delete?.onSuccessDelete(deleting)\n    }\n  \n    const confirmActionPropsDeleting : ConfirmActionProps = {\n      \n      title: `Deleting ${props.tName}`,\n      states: confirmActionStatesToRemove,\n      currentState: confirmActionStatesToRemove.start,\n      onCancel: onCancel,\n      onError: onError,\n      onSuccess: onSuccess,\n      action:deleteLine,\n    \n    }\n\n    return (\n      <>\n      {deleting ? <ConfirmAction {...confirmActionPropsDeleting} /> : null }\n      <TableContainer component={Paper}>\n          <Table className={classes.table} size=\"small\" aria-label=\"customized table\">\n              <TableHead>\n                  <TableRow>\n                      {props.indexes.map((element: {key: string, label: string}, index: number) => \n                          <StyledTableCell className={classes.tableHeader} onClick={() => sort(element.key)} key={index}>\n                              <Box className={globalClasses.hoverOpacity} display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n                                  {element.label}\n                                  {element.key === orderBy ? asc ? <ArrowDropUp className={previousOrderBy === orderBy ? \"arrow-up\" : \"\"}/> : <ArrowDropDown className={element.key === orderBy ? \"arrow-down\" : \"\"}/> : <ArrowDropUp className={`${globalClasses.hiddenHoverOpacity}`} />}\n                              </Box> \n                          </StyledTableCell>)\n                      }\n                      {props.extra \n                          ? props.extra.details ? <StyledTableCell></StyledTableCell> : null\n                          : null\n                      }\n                      {props.extra \n                          ? props.extra.add ? <StyledTableCell></StyledTableCell> : null\n                          : null\n                      }\n                      {props.extra \n                          ? props.extra.edit ? <StyledTableCell></StyledTableCell> : null\n                          : null\n                      }\n                      {props.extra \n                          ? props.extra.delete ? <StyledTableCell></StyledTableCell> : null\n                          : null\n                      }\n                  </TableRow>\n              </TableHead>\n              {!!props.data.length ?\n                <TableBody>\n                {props.data.map((row:any, elIndex:number) => (\n                    <StyledTableRow key={elIndex}>\n                        {props.indexes.map((element: {key: string, label: string}, valIndex: number) => <StyledTableCell key={valIndex}>{row[element.key]?.data ?? row[element.key] }</StyledTableCell>)}\n                        {props.extra \n                          \n                          ? props.extra.details\n                            ? <StyledTableCell><Button disabled={row.detailsDisabled ?? false} onClick={triggerDetailsElement(row)} style={{minWidth:0}} variant=\"text\" size=\"small\"><Settings fontSize=\"small\"/></Button></StyledTableCell> \n                            : null\n                          : null\n                        }\n                           {props.extra \n                          \n                          ? props.extra.add\n                            ? <StyledTableCell><Button disabled={row.addDisabled ?? false} onClick={triggerAddElement(row)} style={{minWidth:0}} variant=\"text\" size=\"small\"><AddBoxOutlined fontSize=\"small\"/></Button></StyledTableCell> \n                            : null\n                          : null\n                        }\n                        {props.extra \n                          \n                          ? props.extra.edit \n                            ? <StyledTableCell><Button disabled={row.editDisabled ?? false} onClick={triggerEditElement(row)} style={{minWidth:0}} variant=\"text\" size=\"small\"><Edit fontSize=\"small\"/></Button></StyledTableCell> \n                            : null\n                          : null\n                        }\n                        {props.extra \n                          \n                          ? props.extra.delete \n                            ? <StyledTableCell><Button disabled={row.deleteDisabled ?? false} onClick={setDeletingElement(row)} style={{minWidth:0}} variant=\"text\" size=\"small\"><Delete fontSize=\"small\"/></Button></StyledTableCell> \n                            : null\n                          : null\n                        }\n                    </StyledTableRow>\n                ))}\n                </TableBody>\n                : null\n              }\n          </Table>\n      </TableContainer>\n      </>\n    )\n}"]},"metadata":{},"sourceType":"module"}