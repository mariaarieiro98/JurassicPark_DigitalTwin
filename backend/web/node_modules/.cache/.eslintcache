[{"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/index.tsx":"1","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/serviceWorker.ts":"2","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/App.tsx":"3","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/styles/main.ts":"4","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/redux/actions.ts":"5","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/redux/reducers.ts":"6","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/utils/main.ts":"7","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/services/socket/socket.ts":"8","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinMonitoring.tsx":"9","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityDetails.tsx":"10","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/List/List.tsx":"11","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/NewFunctionBlock.tsx":"12","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/List/List.tsx":"13","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Store/Store.tsx":"14","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/EditFunctionBlock.tsx":"15","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/SmartComponent/SmartComponent.tsx":"16","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/List.tsx":"17","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/utils/digitalTwins.ts":"18","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/style.ts":"19","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/style.ts":"20","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/utils/functionBlock.ts":"21","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/services/api/function-block.ts":"22","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/services/api/digital-twin.ts":"23","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Navigator/Navigator.tsx":"24","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/LazyComponent/LazyComponent.tsx":"25","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/ConfirmAction.tsx":"26","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/FunctionBlockForm.tsx":"27","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Table/JPTable.tsx":"28","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Gauge.tsx":"29","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Bars.tsx":"30","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/services/api/api.ts":"31","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/style.ts":"32","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/style.ts":"33","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Event.tsx":"34","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Variable.tsx":"35","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/index.ts":"36","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/style.ts":"37","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Search/SearchableList.tsx":"38","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/DigitalTwin.ts":"39","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/Tables.ts":"40","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/User.ts":"41","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/SmartComponent.ts":"42","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/FunctionBlock.ts":"43","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/EventVariable.ts":"44","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/Error.ts":"45","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinForm.tsx":"46","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/NewDigitalTwin.tsx":"47","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityForm.tsx":"48","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/index.tsx":"49","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/serviceWorker.ts":"50","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/App.tsx":"51","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/redux/reducers.ts":"52","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/main.ts":"53","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/redux/actions.ts":"54","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/styles/main.ts":"55","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/socket/socket.ts":"56","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/NewDigitalTwin.tsx":"57","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/List/List.tsx":"58","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/NewFunctionBlock.tsx":"59","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityDetails.tsx":"60","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/List/List.tsx":"61","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Store/Store.tsx":"62","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/SmartComponent/SmartComponent.tsx":"63","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/EditFunctionBlock.tsx":"64","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/List.tsx":"65","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinMonitoring.tsx":"66","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/digitalTwins.ts":"67","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/style.ts":"68","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/functionBlock.ts":"69","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/style.ts":"70","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/digital-twin.ts":"71","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/function-block.ts":"72","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/style.ts":"73","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinForm.tsx":"74","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityForm.tsx":"75","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Navigator/Navigator.tsx":"76","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/ConfirmAction.tsx":"77","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/LazyComponent/LazyComponent.tsx":"78","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/FunctionBlockForm.tsx":"79","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Table/JPTable.tsx":"80","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Gauge.tsx":"81","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Bars.tsx":"82","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/api.ts":"83","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/style.ts":"84","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Event.tsx":"85","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/style.ts":"86","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Variable.tsx":"87","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/index.ts":"88","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Search/SearchableList.tsx":"89","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/DigitalTwin.ts":"90","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/Tables.ts":"91","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/User.ts":"92","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/FunctionBlock.ts":"93","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/SmartComponent.ts":"94","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/EventVariable.ts":"95","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/Error.ts":"96","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/smartComponents.ts":"97","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/smart-component.ts":"98","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/AssociatedSmartComponent.ts":"99","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/associatedSmartComponents.ts":"100","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/SmartComponent.tsx":"101","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/MonitoredVariable.ts":"102","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/MonitoredEvent.ts":"103"},{"size":452,"mtime":1616239754000,"results":"104","hashOfConfig":"105"},{"size":5295,"mtime":1616239754000,"results":"106","hashOfConfig":"105"},{"size":4655,"mtime":1617299746804,"results":"107","hashOfConfig":"105"},{"size":1053,"mtime":1616239754000,"results":"108","hashOfConfig":"105"},{"size":3918,"mtime":1616492844000,"results":"109","hashOfConfig":"105"},{"size":2389,"mtime":1617121725223,"results":"110","hashOfConfig":"105"},{"size":1296,"mtime":1615796512000,"results":"111","hashOfConfig":"105"},{"size":2617,"mtime":1616853543298,"results":"112","hashOfConfig":"105"},{"size":20140,"mtime":1617371819661,"results":"113","hashOfConfig":"105"},{"size":1131,"mtime":1617299246955,"results":"114","hashOfConfig":"105"},{"size":3819,"mtime":1616493374000,"results":"115","hashOfConfig":"105"},{"size":5409,"mtime":1616578380000,"results":"116","hashOfConfig":"105"},{"size":5200,"mtime":1615872672000,"results":"117","hashOfConfig":"105"},{"size":1065,"mtime":1615796512000,"results":"118","hashOfConfig":"105"},{"size":8586,"mtime":1615796510000,"results":"119","hashOfConfig":"105"},{"size":12587,"mtime":1615796512000,"results":"120","hashOfConfig":"105"},{"size":13191,"mtime":1617034720424,"results":"121","hashOfConfig":"105"},{"size":1132,"mtime":1616944325018,"results":"122","hashOfConfig":"105"},{"size":824,"mtime":1615796512000,"results":"123","hashOfConfig":"105"},{"size":375,"mtime":1617280496811,"results":"124","hashOfConfig":"105"},{"size":8322,"mtime":1616494052000,"results":"125","hashOfConfig":"105"},{"size":1644,"mtime":1615796512000,"results":"126","hashOfConfig":"105"},{"size":1533,"mtime":1617280164374,"results":"127","hashOfConfig":"105"},{"size":5310,"mtime":1617197110672,"results":"128","hashOfConfig":"105"},{"size":436,"mtime":1616397982000,"results":"129","hashOfConfig":"105"},{"size":5257,"mtime":1615796512000,"results":"130","hashOfConfig":"105"},{"size":24437,"mtime":1615796512000,"results":"131","hashOfConfig":"105"},{"size":10354,"mtime":1617297760439,"results":"132","hashOfConfig":"105"},{"size":1164,"mtime":1615796512000,"results":"133","hashOfConfig":"105"},{"size":1093,"mtime":1615796512000,"results":"134","hashOfConfig":"105"},{"size":4240,"mtime":1616944550248,"results":"135","hashOfConfig":"105"},{"size":1232,"mtime":1615796512000,"results":"136","hashOfConfig":"105"},{"size":1007,"mtime":1615796512000,"results":"137","hashOfConfig":"105"},{"size":5125,"mtime":1615796512000,"results":"138","hashOfConfig":"105"},{"size":5008,"mtime":1617189449179,"results":"139","hashOfConfig":"105"},{"size":241,"mtime":1616729330999,"results":"140","hashOfConfig":"105"},{"size":254,"mtime":1615796512000,"results":"141","hashOfConfig":"105"},{"size":1001,"mtime":1615872396000,"results":"142","hashOfConfig":"105"},{"size":626,"mtime":1617371336764,"results":"143","hashOfConfig":"105"},{"size":484,"mtime":1616729172886,"results":"144","hashOfConfig":"105"},{"size":90,"mtime":1616729177335,"results":"145","hashOfConfig":"105"},{"size":649,"mtime":1617371369360,"results":"146","hashOfConfig":"105"},{"size":959,"mtime":1616729238315,"results":"147","hashOfConfig":"105"},{"size":882,"mtime":1616729234983,"results":"148","hashOfConfig":"105"},{"size":310,"mtime":1616729144274,"results":"149","hashOfConfig":"105"},{"size":4422,"mtime":1617366235471,"results":"150","hashOfConfig":"105"},{"size":2892,"mtime":1617366737699,"results":"151","hashOfConfig":"105"},{"size":6907,"mtime":1617299824575,"results":"152","hashOfConfig":"105"},{"size":452,"mtime":1616239754000,"results":"153","hashOfConfig":"154"},{"size":5295,"mtime":1616239754000,"results":"155","hashOfConfig":"154"},{"size":5629,"mtime":1620495956457,"results":"156","hashOfConfig":"154"},{"size":5059,"mtime":1621335701745,"results":"157","hashOfConfig":"154"},{"size":1296,"mtime":1615796512000,"results":"158","hashOfConfig":"154"},{"size":8072,"mtime":1621347713710,"results":"159","hashOfConfig":"154"},{"size":1053,"mtime":1616239754000,"results":"160","hashOfConfig":"154"},{"size":2970,"mtime":1621007054088,"results":"161","hashOfConfig":"154"},{"size":4446,"mtime":1620495792762,"results":"162","hashOfConfig":"154"},{"size":3819,"mtime":1620229031978,"results":"163","hashOfConfig":"154"},{"size":5409,"mtime":1616578380000,"results":"164","hashOfConfig":"154"},{"size":16016,"mtime":1621636160388,"results":"165","hashOfConfig":"154"},{"size":5236,"mtime":1620741049180,"results":"166","hashOfConfig":"154"},{"size":1065,"mtime":1615796512000,"results":"167","hashOfConfig":"154"},{"size":12587,"mtime":1619891597540,"results":"168","hashOfConfig":"154"},{"size":8586,"mtime":1619370152498,"results":"169","hashOfConfig":"154"},{"size":13191,"mtime":1617034720424,"results":"170","hashOfConfig":"154"},{"size":31323,"mtime":1621588803918,"results":"171","hashOfConfig":"154"},{"size":2051,"mtime":1619374390060,"results":"172","hashOfConfig":"154"},{"size":824,"mtime":1615796512000,"results":"173","hashOfConfig":"154"},{"size":8320,"mtime":1618327954841,"results":"174","hashOfConfig":"154"},{"size":375,"mtime":1617280496811,"results":"175","hashOfConfig":"154"},{"size":3338,"mtime":1621338369377,"results":"176","hashOfConfig":"154"},{"size":1644,"mtime":1615796512000,"results":"177","hashOfConfig":"154"},{"size":1007,"mtime":1615796512000,"results":"178","hashOfConfig":"154"},{"size":6784,"mtime":1618917244160,"results":"179","hashOfConfig":"154"},{"size":6185,"mtime":1620990191945,"results":"180","hashOfConfig":"154"},{"size":5310,"mtime":1619026842308,"results":"181","hashOfConfig":"154"},{"size":5257,"mtime":1615796512000,"results":"182","hashOfConfig":"154"},{"size":436,"mtime":1616397982000,"results":"183","hashOfConfig":"154"},{"size":24509,"mtime":1618844547091,"results":"184","hashOfConfig":"154"},{"size":11918,"mtime":1621425012029,"results":"185","hashOfConfig":"154"},{"size":1164,"mtime":1615796512000,"results":"186","hashOfConfig":"154"},{"size":1093,"mtime":1615796512000,"results":"187","hashOfConfig":"154"},{"size":5330,"mtime":1621338050800,"results":"188","hashOfConfig":"154"},{"size":1232,"mtime":1615796512000,"results":"189","hashOfConfig":"154"},{"size":5125,"mtime":1615796512000,"results":"190","hashOfConfig":"154"},{"size":254,"mtime":1615796512000,"results":"191","hashOfConfig":"154"},{"size":5008,"mtime":1617189449179,"results":"192","hashOfConfig":"154"},{"size":372,"mtime":1620495798274,"results":"193","hashOfConfig":"154"},{"size":1001,"mtime":1615872396000,"results":"194","hashOfConfig":"154"},{"size":717,"mtime":1618679395546,"results":"195","hashOfConfig":"154"},{"size":484,"mtime":1616729172886,"results":"196","hashOfConfig":"154"},{"size":90,"mtime":1616729177335,"results":"197","hashOfConfig":"154"},{"size":959,"mtime":1616729238315,"results":"198","hashOfConfig":"154"},{"size":1027,"mtime":1620314613998,"results":"199","hashOfConfig":"154"},{"size":882,"mtime":1618673887736,"results":"200","hashOfConfig":"154"},{"size":310,"mtime":1616729144274,"results":"201","hashOfConfig":"154"},{"size":1202,"mtime":1620126244484,"results":"202","hashOfConfig":"154"},{"size":636,"mtime":1620126435446,"results":"203","hashOfConfig":"154"},{"size":187,"mtime":1618565651619,"results":"204","hashOfConfig":"154"},{"size":713,"mtime":1618684348870,"results":"205","hashOfConfig":"154"},{"size":5864,"mtime":1620068663700,"results":"206","hashOfConfig":"154"},{"size":198,"mtime":1621347478719,"results":"207","hashOfConfig":"154"},{"size":190,"mtime":1619626465132,"results":"208","hashOfConfig":"154"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},"12btwlu",{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"216","messages":"217","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"218","messages":"219","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"220","messages":"221","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"222","messages":"223","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"224","usedDeprecatedRules":"211"},{"filePath":"225","messages":"226","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"227","messages":"228","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"229"},{"filePath":"230","messages":"231","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"232","usedDeprecatedRules":"211"},{"filePath":"233","messages":"234","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"235","messages":"236","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"237","messages":"238","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"239","messages":"240","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"241","messages":"242","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"243","messages":"244","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"245","messages":"246","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"247","usedDeprecatedRules":"211"},{"filePath":"248","messages":"249","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"250","messages":"251","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"252","messages":"253","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"254","messages":"255","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"256","usedDeprecatedRules":"211"},{"filePath":"257","messages":"258","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"259","messages":"260","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"261","messages":"262","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"263","messages":"264","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"265","messages":"266","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"267","messages":"268","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"269","usedDeprecatedRules":"211"},{"filePath":"270","messages":"271","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"272","usedDeprecatedRules":"211"},{"filePath":"273","messages":"274","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"275","messages":"276","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"277","messages":"278","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"279","messages":"280","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"281","messages":"282","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"283","messages":"284","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"285","messages":"286","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"287","usedDeprecatedRules":"211"},{"filePath":"288","messages":"289","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"290","messages":"291","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"292","messages":"293","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"294","messages":"295","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"296"},{"filePath":"297","messages":"298","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"299","messages":"300","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"301","messages":"302","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"303","messages":"304","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"305","messages":"306","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"307","messages":"308","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"211"},{"filePath":"309","messages":"310","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"311","usedDeprecatedRules":"211"},{"filePath":"312","messages":"313","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"314","messages":"315","errorCount":0,"warningCount":30,"fixableErrorCount":0,"fixableWarningCount":0,"source":"316","usedDeprecatedRules":"211"},{"filePath":"317","messages":"318","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},"1u02fxv",{"filePath":"320","messages":"321","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"322","messages":"323","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"324","messages":"325","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"326","messages":"327","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"224","usedDeprecatedRules":"319"},{"filePath":"328","messages":"329","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"330","messages":"331","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"332","messages":"333","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"334","usedDeprecatedRules":"319"},{"filePath":"335","messages":"336","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"337","usedDeprecatedRules":"319"},{"filePath":"338","messages":"339","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"340","messages":"341","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"342","messages":"343","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"344","messages":"345","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"346","messages":"347","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"348","messages":"349","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"350","messages":"351","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"352","messages":"353","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"247","usedDeprecatedRules":"319"},{"filePath":"354","messages":"355","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"356","usedDeprecatedRules":"319"},{"filePath":"357","messages":"358","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"359","messages":"360","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"361","messages":"362","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"363","usedDeprecatedRules":"319"},{"filePath":"364","messages":"365","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"366","messages":"367","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"368","messages":"369","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"370","messages":"371","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"372","messages":"373","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"374","usedDeprecatedRules":"319"},{"filePath":"375","messages":"376","errorCount":0,"warningCount":30,"fixableErrorCount":0,"fixableWarningCount":0,"source":"377","usedDeprecatedRules":"319"},{"filePath":"378","messages":"379","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"380","messages":"381","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"382","messages":"383","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"384","messages":"385","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"386","usedDeprecatedRules":"319"},{"filePath":"387","messages":"388","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"389","messages":"390","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"391","messages":"392","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"393","messages":"394","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"395","messages":"396","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"397","messages":"398","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"399","messages":"400","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"401","messages":"402","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"287","usedDeprecatedRules":"319"},{"filePath":"403","messages":"404","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"405","messages":"406","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"407","messages":"408","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"409","usedDeprecatedRules":"319"},{"filePath":"410","messages":"411","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"412","messages":"413","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"414","messages":"415","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"416","messages":"417","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"418","messages":"419","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"420","messages":"421","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"422","messages":"423","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"424","messages":"425","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"426","messages":"427","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"428","messages":"429","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"430","messages":"431","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"432","usedDeprecatedRules":"319"},{"filePath":"433","messages":"434","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},{"filePath":"435","messages":"436","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"319"},"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/index.tsx",[],["437","438"],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/serviceWorker.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/App.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/styles/main.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/redux/actions.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/redux/reducers.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/utils/main.ts",["439"],"import { EffectCallback, useEffect } from \"react\"\n\nexport type Order = 'asc' | 'desc'\n\nexport const useMountEffect = (actionOnMount: EffectCallback, actionOnUnmount?:any) => {\n    \n    const action : EffectCallback = () => {\n        actionOnMount()\n        return actionOnUnmount\n    }\n\n    useEffect(action,[])\n    \n}\n\nexport const setField = (setState:Function, fieldName: string, state:any) => (event: any) => setState({...state, [fieldName]: event.target.value})\n\nexport const setSimpleField = (updateFunction: Function, extraJob?: () => void) => (event:any) => {\n    if(extraJob)\n        extraJob()\n    updateFunction(event.target.value)\n}\n\nexport const toBase64 = (file: File) : Promise<string> => {\n\n    return new Promise((res:Function, rej: Function) => {\n\n        const reader = new FileReader()\n        reader.readAsDataURL(file)\n        reader.onload = () => res(reader.result)\n        reader.onerror = error => rej(error)\n\n    })\n\n}\n\nexport const readLocalFile = (file: File) : Promise<string> => {\n    \n    return new Promise((res:Function, rej:Function) => {\n        \n        const fileReader = new FileReader()\n        fileReader.readAsText(file)\n        fileReader.onload = (result:any) => res(result.target.result)\n        fileReader.onerror = (e:any) => rej('Error')\n\n    })\n\n}","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/services/socket/socket.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinMonitoring.tsx",["440","441","442","443","444"],"import React, { useState } from 'react'\r\nimport { Navigator } from '../templates/Navigator/Navigator'\r\nimport { ConfirmAction, ConfirmActionState, ConfirmActionStateLabel, ConfirmActionProps } from '../templates/ConfirmAction/ConfirmAction'\r\nimport { LazyComponent } from '../templates/LazyComponent/LazyComponent'\r\nimport { JPTable } from '../templates/Table/JPTable'\r\nimport { Functionality, DigitalTwin} from '../../model'\r\nimport { useMountEffect } from '../../utils/main'\r\nimport { getOrDownloadDigitalTwins, getOrDownloadFunctionalities} from '../../utils/digitalTwins'\r\nimport { useStore } from '../templates/Store/Store'\r\nimport { FunctionalityActions , DigitalTwinActions} from '../../redux/actions'\r\nimport { RequestResponseState } from '../../services/api/api'\r\nimport { TextField, Grid, Button, Box, Dialog, DialogTitle, CircularProgress , Select, InputLabel, MenuItem, FormControl, Input, FormHelperText } from '@material-ui/core'\r\nimport { createFunctionality, updateFunctionality } from '../../services/api/digital-twin'\r\nimport { deleteFunctionality} from '../../services/api/digital-twin'\r\nimport { useDialogStyles } from '../FunctionBlockCategories/List/style'\r\nimport { CheckCircle, Error } from '@material-ui/icons'\r\nimport { useFunctionBlockStyles } from '../FunctionBlocks/FunctionBlock/style'\r\nimport { routes } from '../../App'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst NEW_FUNCTIONALITY_RE = /[a-zA-Z0-9]{3,}/\r\n\r\nlet functionalityId = -1\r\nconst funcUserId = 1\r\n\r\nconst EditFunctionalityDialog = (props: {func: Functionality, onGood: (newFunc: Functionality) => void, onError: () => void, onCancel: () => void}) => {\r\n\r\n  const [newFuncName, setNewFuncName] : [string,Function] = useState(props.func.funcName)\r\n\r\n  const classes = useDialogStyles()\r\n\r\n  const [sending, setSending] : [boolean, Function] = useState(false)\r\n\r\n  const [result, setResult] : [{done: boolean, good?: boolean, message?: string},Function] = useState({done:false})\r\n\r\n  const action = () => {\r\n\r\n      if(props.func.funcId) {\r\n\r\n          if(!result.done) {\r\n\r\n              setSending(true)\r\n  \r\n              updateFunctionality(props.func.funcId, newFuncName)\r\n\r\n                  .then((response: RequestResponseState) => {\r\n                      setResult({done:true, good: true, message: response.msg})\r\n                  })\r\n\r\n                  .catch((error: RequestResponseState) => {\r\n                      setResult({done: true, good: false, message: error.msg})\r\n                  })\r\n\r\n                  .finally(() => setSending(false))\r\n\r\n          }\r\n\r\n          else {\r\n\r\n              if(result.good)\r\n                  props.onGood({...props.func, funcName: newFuncName})\r\n              \r\n              else\r\n                  props.onError()\r\n\r\n          }\r\n\r\n      }\r\n\r\n  }\r\n\r\n  return (\r\n      <Dialog open={true}>\r\n          <DialogTitle>Edit Functionality</DialogTitle>\r\n          <Box className={classes.box}>\r\n              {\r\n                  !result.done \r\n                      ?\r\n                          <TextField \r\n                              disabled={sending}\r\n                              value={newFuncName}\r\n                              onChange={(event) => setNewFuncName(event.target.value)}\r\n                          />\r\n                      :    <Grid container justify=\"center\">\r\n                              <Grid item>\r\n                                  {\r\n                                      result.good \r\n                                          ?   <CheckCircle color=\"primary\" />\r\n                                          :   <Error color=\"error\" />\r\n                                  }\r\n                              </Grid>\r\n                              <Grid item>\r\n                                  <Box className={result.good ? classes.good : classes.error} textAlign=\"center\">{result.message}</Box>\r\n                              </Grid>\r\n                          </Grid> \r\n              }\r\n          </Box>\r\n          <Grid className={classes.buttons} container direction=\"row\" justify=\"space-between\">\r\n              <Grid item>\r\n                  {sending \r\n                      ? <CircularProgress color=\"primary\" />\r\n                      : <Button onClick={action}>Ok</Button>\r\n                  }\r\n              </Grid>\r\n              <Grid item>\r\n                  <Button disabled={sending} onClick={props.onCancel}>Cancel</Button>\r\n              </Grid>\r\n          </Grid>\r\n      </Dialog>\r\n  )\r\n\r\n}\r\n\r\nconst AddFunctionalityDetails = (props: {func: Functionality, onGood: (newFunc: Functionality) => void, onError: () => void, onCancel: () => void}) => {\r\n\r\n    const [newFuncName, setNewFuncName] : [string,Function] = useState(props.func.funcName)\r\n  \r\n    const classes = useDialogStyles()\r\n  \r\n    const [sending, setSending] : [boolean, Function] = useState(false)\r\n  \r\n    const [result, setResult] : [{done: boolean, good?: boolean, message?: string},Function] = useState({done:false})\r\n  \r\n    const action = () => {\r\n  \r\n        if(props.func.funcId) {\r\n  \r\n            if(!result.done) {\r\n  \r\n                setSending(true)\r\n    \r\n                updateFunctionality(props.func.funcId, newFuncName)\r\n  \r\n                    .then((response: RequestResponseState) => {\r\n                        setResult({done:true, good: true, message: response.msg})\r\n                    })\r\n  \r\n                    .catch((error: RequestResponseState) => {\r\n                        setResult({done: true, good: false, message: error.msg})\r\n                    })\r\n  \r\n                    .finally(() => setSending(false))\r\n  \r\n            }\r\n  \r\n            else {\r\n  \r\n                if(result.good)\r\n                    props.onGood({...props.func, funcName: newFuncName})\r\n                \r\n                else\r\n                    props.onError()\r\n  \r\n            }\r\n  \r\n        }\r\n  \r\n    }\r\n  \r\n    return (\r\n        <Dialog open={true}>\r\n            <DialogTitle>Add Functionality Details</DialogTitle>\r\n            <Box className={classes.box}>\r\n            <Grid item> \r\n                <Grid container item xs>\r\n                    <Grid className={classes.box} spacing={3} item container direction=\"column\" alignItems=\"flex-start\">\r\n                        {/* <InputLabel id={`digital-twin-label-${newFunc}`}>DINASORE</InputLabel>\r\n                                <Select labelId={`digital-twin-label-${newFunc}`} value={digitalTwinChoice} onChange={handleDigitalTwinChoice}>\r\n                                {(digitalTwins || []).map((digitalTwin: any) => {return <MenuItem key={digitalTwin.dtId} value={digitalTwin.dtName}>{digitalTwin.dtName}</MenuItem>})}\r\n                                </Select> */}\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Dinasore\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Function Block\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Variable/Event\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Display Name\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid className={classes.buttons} container direction=\"row\" justify=\"space-between\">\r\n                <Grid item>\r\n                    {sending \r\n                        ? <CircularProgress color=\"primary\" />\r\n                        : <Button onClick={action}>Ok</Button>\r\n                    }\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button disabled={sending} onClick={props.onCancel}>Cancel</Button>\r\n                </Grid>\r\n            </Grid>\r\n         </Box>\r\n        </Dialog>\r\n    )\r\n  \r\n}\r\n  \r\n\r\nexport const DigitalTwinMonitoring = () => {\r\n    \r\n  const classes = useFunctionBlockStyles()\r\n\r\n  const [fetching,setFetching] = useState(true)\r\n  const [error,setError] = useState('')\r\n  const [newFunc,setNewFunc] : [string,Function] = useState('')\r\n\r\n  const [confirmEditing,setConfirmEditing] : [boolean, Function] = useState(false)\r\n  const [confirmAddFunc,setConfirmAddFunc] : [boolean, Function] = useState(false)\r\n\r\n  const [validNewFunc, setValidNewFunc] : [boolean,Function] = useState(true)\r\n\r\n  const errorFetchingFunctionalityState : ConfirmActionState = {\r\n    label: error,\r\n    state: ConfirmActionStateLabel.error,\r\n    positiveLabel: 'Ok'\r\n  }\r\n\r\n  const [redirectTo, setRedirectTo] : [string, Function] = useState(\"\")\r\n\r\n  const {data:functionalities, dispatchAction:dispatchFunctionalityActions} = useStore('functionalities')\r\n  const {data:digitalTwins, dispatchAction:dispatchDigitalTwinActions} = useStore('digitalTwins')\r\n\r\n  const onCancel = () => setError('')\r\n\r\n  const updateFunctionalities = (funcs: Functionality[]) => dispatchFunctionalityActions(FunctionalityActions.updateFunctionalities(funcs))\r\n  const updateDigitalTwins = (dts: DigitalTwin[]) => dispatchDigitalTwinActions(DigitalTwinActions.updateDigitalTwins(dts))\r\n  const addFunc = () => dispatchFunctionalityActions(FunctionalityActions.addFunctionality({funcId: functionalityId, funcUserId: 1 , funcName: newFunc, funcdtId: 1}))\r\n \r\n  const [editingFunc, setEditingFunc] : [Functionality | null,Function] = useState(null)\r\n  const [addDetailsFunc, setAddDetailsFunc] : [Functionality | null,Function] = useState(null)\r\n\r\n\r\n  const indexes = [\r\n    {label: 'Functionality', key: 'funcName'},\r\n    {label: 'Digital Twin', key: 'dtName'},\r\n    {label: 'State', key: 'dtDescription'},\r\n    {label: 'AssociatedSmartComponents', key: 'dtSmartComponents'},\r\n    {label: 'Monitored Variables/Events', key: 'dtMonitoredVariableEvent'},\r\n  ]\r\n\r\n  // Recuperar da base de dados as funcionalidades (Functionality)\r\n  useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n\r\n    setFetching(true)\r\n    getOrDownloadFunctionalities(functionalities)\r\n        .then((result: Functionality[]) => updateFunctionalities(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n  })\r\n\r\n  \r\n  // Recuperar da base de dados os digital twins (DigitalTwin)\r\n  useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n\r\n    setFetching(true)\r\n    getOrDownloadDigitalTwins(digitalTwins)\r\n        .then((result: DigitalTwin[]) => updateDigitalTwins(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n  })\r\n\r\n  const isFunctionalityValid = (func:string) => NEW_FUNCTIONALITY_RE.test(func)\r\n\r\n  const validateAndCreate = () => {\r\n\r\n  const validFunc= isFunctionalityValid(newFunc)\r\n\r\n    if(!validFunc)\r\n      setValidNewFunc(false)\r\n    else\r\n      setConfirmAddFunc(true)\r\n\r\n  }\r\n\r\n  const buildFunctionality = () : Functionality => ({\r\n    funcName: newFunc, funcId: functionalityId,\r\n    funcdtId: digitalTwinIdChoice , funcUserId, funcdtName: digitalTwinChoice,\r\n  })\r\n\r\n\r\n  const addNewFunctionalityAction = () : Promise<string> => {\r\n\r\n    const functionality : Functionality = buildFunctionality()\r\n\r\n    return new Promise<string>((res:Function, rej:Function)  => {\r\n\r\n        console.log(functionality)\r\n\r\n        createFunctionality(functionality)\r\n\r\n            .then((result: RequestResponseState) => {\r\n            functionalityId = result.extra.lastInsertedId\r\n                res('Functionality created')\r\n            })\r\n\r\n            .catch((e:RequestResponseState) => rej(e.msg))\r\n\r\n    })\r\n  }\r\n\r\n  const confirmFunctionalityCreationActionStates = {\r\n    start: {\r\n      label: `Confirm creation of new functionality: ${newFunc} ?`,\r\n      positiveLabel: 'Ok',\r\n      negativeLabel: 'Cancel',\r\n      state: ConfirmActionStateLabel.start\r\n    },\r\n    executing: {\r\n      label: '',\r\n      state: ConfirmActionStateLabel.executing,\r\n    },\r\n    success: {\r\n      label: 'Functionality Created',\r\n      state: ConfirmActionStateLabel.success,\r\n      positiveLabel: 'Ok'\r\n    },\r\n    error: {\r\n      label: 'Error Creating Functionality',\r\n      state: ConfirmActionStateLabel.error,\r\n      positiveLabel: 'Ok'\r\n    },\r\n  }\r\n\r\n  const confirmActionProps : ConfirmActionProps = {\r\n\r\n    title: 'Add Functionality',\r\n    states: confirmFunctionalityCreationActionStates,\r\n    currentState: confirmFunctionalityCreationActionStates.start,\r\n    onCancel: () => setConfirmAddFunc(false),\r\n    onError: () => setConfirmAddFunc(false),\r\n    onSuccess: () => {\r\n        addFunc()\r\n        setNewFunc('')\r\n    },\r\n    action: addNewFunctionalityAction,\r\n  }\r\n\r\n  const getDataFunctionality = () => functionalities.map((functionality: Functionality) => {\r\n\r\n    return {\r\n          ...functionality,\r\n    }\r\n  })\r\n\r\n  const deleteFunctionalityAction = (func: Functionality) : Promise<any> => {\r\n\r\n    return new Promise(async(res:Function,rej:Function) => {\r\n\r\n        if(!func.funcId) {\r\n            rej('Error')\r\n            return\r\n        }\r\n\r\n        try {\r\n            const response : RequestResponseState = await deleteFunctionality(func.funcId)\r\n            res(response)\r\n          }\r\n\r\n        catch(err) {\r\n            rej(err)\r\n        }\r\n    })\r\n  }\r\n\r\n  //Adicionar Detalhes à Funcionalidade\r\n  const cancelAddDetails = () => setAddDetailsFunc(null);\r\n  const showAddDetails = (func: Functionality) => setAddDetailsFunc(func)\r\n  \r\n  //Editar a Funcionalidade\r\n  const cancelEditing = () => setEditingFunc(null)\r\n  const showEditing = (func: Functionality) => setEditingFunc(func)\r\n\r\n  const onGoodEditing = (editingFunctionality: Functionality) => {\r\n      \r\n    const newFunctionalities = functionalities.map((func: Functionality) => {\r\n\r\n    if(func.funcId === editingFunctionality.funcId)\r\n        return {...func, funcName: editingFunctionality.funcName, funcdtId: editingFunctionality.funcdtId}\r\n    return func\r\n\r\n    })\r\n  \r\n    cancelEditing()\r\n    dispatchFunctionalityActions(FunctionalityActions.updateFunctionalities(newFunctionalities))\r\n  }\r\n\r\n  // Associar um digital twin à nova funcionalidade criada\r\n  const [digitalTwinChoice, setDigitalTwinChoice] = useState('')\r\n  const [digitalTwinIdChoice, setDigitalTwinIdChoice] = useState(0)\r\n\r\n  const handleDigitalTwinChoice = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n    setDigitalTwinChoice(event.target.value as string);\r\n    let i = 0;\r\n    while(i < digitalTwins.length)\r\n    {\r\n        if(digitalTwins[i].dtName === (event.target.value as string))\r\n        {\r\n            setDigitalTwinIdChoice(digitalTwins[i].dtId)\r\n        }\r\n        i++;\r\n    }\r\n   \r\n  };\r\n\r\n  const redirectToList = () => setRedirectTo(routes.functionalityDetails)\r\n  \r\n  if(redirectTo !== \"\") \r\n  return <Redirect to={redirectTo} push={true} />\r\n\r\n  return (\r\n    <Navigator title=\"New Digital Twin Functionality\">\r\n     <> \r\n        {error !== ''\r\n                ? <ConfirmAction title='Fetching Functionalities' currentState={errorFetchingFunctionalityState} states={{error: errorFetchingFunctionalityState}} onCancel={onCancel}/>\r\n                : null \r\n        }\r\n         <LazyComponent loaded={!fetching}>\r\n             <>\r\n                {confirmEditing\r\n                     ? <ConfirmAction {...confirmActionProps} /> \r\n                     : editingFunc\r\n                         ?  <EditFunctionalityDialog\r\n                             onGood={onGoodEditing}\r\n                             func={editingFunc}\r\n                             onError={cancelEditing}\r\n                             onCancel={cancelEditing} />\r\n                         : null\r\n                 }\r\n                {confirmAddFunc \r\n                     ? <ConfirmAction {...confirmActionProps} /> \r\n                     : addDetailsFunc\r\n                         ?  <AddFunctionalityDetails\r\n                             onGood={onGoodEditing}\r\n                             func={addDetailsFunc}\r\n                             onError={cancelAddDetails}\r\n                             onCancel={cancelAddDetails} />\r\n                         : null\r\n                 }\r\n                 <Grid container direction=\"column\" spacing={2}>\r\n                      <Grid item>\r\n                        <JPTable\r\n                            sortedkey=\"funcName\"\r\n                            data={getDataFunctionality()} \r\n                            updateData={updateFunctionalities} \r\n                            indexes={indexes} \r\n                            tName='Functionality'\r\n                            extra={{\r\n                                delete: {\r\n                                    action: deleteFunctionalityAction,\r\n                                    labelKey: 'funcName',\r\n                                    onSuccessDelete: () => {}\r\n                                },\r\n                                edit: {\r\n                                    action: showEditing\r\n                                },\r\n                                details: {\r\n                                    action: redirectToList\r\n                                },\r\n                                add: {\r\n                                    action: showAddDetails\r\n                                }\r\n                              }} \r\n                        />\r\n                      </Grid>\r\n                    <Grid item xs>\r\n                        New Functionality\r\n                    </Grid>\r\n                     <Grid item> \r\n                        <Grid container item xs>\r\n                            <Grid className={classes.box} spacing={1} item container direction=\"row\">\r\n                            <Grid item xs={4}>\r\n                                <TextField\r\n                                    helperText={!validNewFunc ? NEW_FUNCTIONALITY_RE.toString() : ''}\r\n                                    error={!validNewFunc}\r\n                                    label=\"Insert new functionality name\" \r\n                                    required\r\n                                    onChange={(event) => {\r\n                                        setNewFunc(event.target.value)\r\n                                        if(!validNewFunc)\r\n                                            setValidNewFunc(isFunctionalityValid(event.target.value.trim()))\r\n                                    }}\r\n                                    fullWidth\r\n                                    value={newFunc}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={4}>\r\n                                <InputLabel id={`digital-twin-label-${newFunc}`}>Digital Twin</InputLabel>\r\n                                <Select labelId={`digital-twin-label-${newFunc}`} value={digitalTwinChoice} onChange={handleDigitalTwinChoice}>\r\n                                {(digitalTwins || []).map((digitalTwin: any) => {return <MenuItem key={digitalTwin.dtId} value={digitalTwin.dtName}>{digitalTwin.dtName}</MenuItem>})}\r\n                                </Select>\r\n                            </Grid>\r\n                            <Grid container justify=\"flex-end\" spacing={1}>\r\n                             <Grid item>\r\n                                 <Button\r\n                                    color=\"primary\"\r\n                                    variant=\"contained\"\r\n                                    onClick={validateAndCreate}\r\n                                 >\r\n                                    Add Functionality\r\n                                 </Button>\r\n                             </Grid>\r\n                         </Grid>\r\n                        </Grid>\r\n                        </Grid>\r\n                     </Grid>\r\n                 </Grid>\r\n             </>\r\n         </LazyComponent>\r\n     </>\r\n </Navigator>\r\n )\r\n}\r\n","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityDetails.tsx",["445","446","447"],"import { Button, Grid } from '@material-ui/core'\r\nimport { Clear } from '@material-ui/icons'\r\nimport React, { useState } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { routes } from '../../App'\r\nimport { Navigator } from '../templates/Navigator/Navigator'\r\nimport { FunctionalityForm } from './FunctionalityForm'\r\n\r\n//Esta página pretende dispor informação mais detalhada da funcionalidade correspondente disponível na página \"DigitalTwinMonitoring\". Usa o FunctionalyForm\r\n//como base da página.\r\n\r\nexport const FunctionalityDetails = () => {\r\n\r\n    //Variáveis e funções que permitem o redireccionamento para a página DigitalTwinMonitoring\r\n    const [redirectTo, setRedirectTo] : [string, Function] = useState(\"\")\r\n\r\n    const redirectToList = () => setRedirectTo(routes.digitalTwinMonitoring)\r\n  \r\n    if(redirectTo !== \"\") \r\n    return <Redirect to={redirectTo} push={true} />\r\n\r\n    return(\r\n    <Navigator title=\"Digital Twin monitoring\">\r\n       <>\r\n        <FunctionalityForm\r\n            cancel={{action: redirectToList, label: 'Cancel'}}\r\n        />\r\n       </>\r\n    </Navigator>\r\n    )\r\n}","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/List/List.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/NewFunctionBlock.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/List/List.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Store/Store.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/EditFunctionBlock.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/SmartComponent/SmartComponent.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/List.tsx",["448","449"],"import React, { useState } from 'react'\nimport { Navigator } from '../../templates/Navigator/Navigator'\nimport { ConfirmAction, ConfirmActionState, ConfirmActionStateLabel, ConfirmActionProps } from '../../templates/ConfirmAction/ConfirmAction'\nimport { LazyComponent } from '../../templates/LazyComponent/LazyComponent'\nimport { JPTable } from '../../templates/Table/JPTable'\nimport { FBCategory, FunctionBlock } from '../../../model'\nimport { useMountEffect } from '../../../utils/main'\nimport { getOrDownloadFunctionBlockCategories } from '../../../utils/functionBlock'\nimport { useStore } from '../../templates/Store/Store'\nimport { FunctionBlockCategoriesActions } from '../../../redux/actions'\nimport { RequestResponseState } from '../../../services/api/api'\nimport { TextField, Grid, Button, Box, Dialog, DialogTitle, CircularProgress } from '@material-ui/core'\nimport { createFunctionBlockCategory, updateFunctionBlockCategory } from '../../../services/api/function-block'\nimport { deleteFunctionBlockCategory} from '../../../services/api/function-block'\nimport { useDialogStyles } from './style'\nimport { CheckCircle, Error } from '@material-ui/icons'\nimport { functionBlockCategoryReducer } from '../../../redux/reducers'\n\nconst NEW_CATEGORY_RE = /[a-zA-Z0-9]{3,}/\n\nlet categoryId = -1\n\nconst EditFBCategoryDialog = (props: {category: FBCategory, onGood: (newCategory: FBCategory) => void, onError: () => void, onCancel: () => void}) => {\n\n    const [newCategoryName, setNewCategoryName] : [string,Function] = useState(props.category.fbcName)\n\n    const classes = useDialogStyles()\n\n    const [sending, setSending] : [boolean, Function] = useState(false)\n\n    const [result, setResult] : [{done: boolean, good?: boolean, message?: string},Function] = useState({done:false})\n\n    const action = () => {\n\n        if(props.category.fbcId) {\n\n            if(!result.done) {\n\n                setSending(true)\n    \n                updateFunctionBlockCategory(props.category.fbcId, newCategoryName)\n\n                    .then((response: RequestResponseState) => {\n                        setResult({done:true, good: true, message: response.msg})\n                    })\n\n                    .catch((error: RequestResponseState) => {\n                        setResult({done: true, good: false, message: error.msg})\n                    })\n\n                    .finally(() => setSending(false))\n\n            }\n\n            else {\n\n                if(result.good)\n                    props.onGood({...props.category, fbcName: newCategoryName})\n                \n                else\n                    props.onError()\n\n            }\n\n        }\n\n    }\n\n    return (\n        <Dialog open={true}>\n            <DialogTitle>Edit Category</DialogTitle>\n            <Box className={classes.box}>\n                {\n                    !result.done \n                        ?\n                            <TextField \n                                disabled={sending}\n                                value={newCategoryName}\n                                onChange={(event) => setNewCategoryName(event.target.value)}\n                            />\n                        :    <Grid container justify=\"center\">\n                                <Grid item>\n                                    {\n                                        result.good \n                                            ?   <CheckCircle color=\"primary\" />\n                                            :   <Error color=\"error\" />\n                                    }\n                                </Grid>\n                                <Grid item>\n                                    <Box className={result.good ? classes.good : classes.error} textAlign=\"center\">{result.message}</Box>\n                                </Grid>\n                            </Grid> \n                }\n            </Box>\n            <Grid className={classes.buttons} container direction=\"row\" justify=\"space-between\">\n                <Grid item>\n                    {sending \n                        ? <CircularProgress color=\"primary\" />\n                        : <Button onClick={action}>Ok</Button>\n                    }\n                </Grid>\n                <Grid item>\n                    <Button disabled={sending} onClick={props.onCancel}>Cancel</Button>\n                </Grid>\n            </Grid>\n        </Dialog>\n    )\n\n}\n\nexport const FunctionBlockCategoryList = () => {\n\n    const [fetching,setFetching] = useState(true)\n    const [error,setError] = useState('')\n    const [newCategory,setNewCategory] = useState('')\n\n    const [confirmAddCategory,setConfirmAddCategory] : [boolean, Function] = useState(false)\n\n    const [validNewCategory, setValidNewCategory] : [boolean,Function] = useState(true)\n\n    const errorFetchngCategoriesState : ConfirmActionState = {\n        label: error,\n        state: ConfirmActionStateLabel.error,\n        positiveLabel: 'Ok'\n    }\n\n    const onCancel = () => setError('')\n\n    const {data: functionBlockCategories, dispatchAction:dispatchFunctionBlockCategoriesActions} = useStore('functionBlockCategories')\n\n    const updateFunctionBlockCategories = (categories: FBCategory[]) => dispatchFunctionBlockCategoriesActions(FunctionBlockCategoriesActions.updateFunctionBlockCategories(categories))\n    const addFunctionBlockCategory = () => dispatchFunctionBlockCategoriesActions(FunctionBlockCategoriesActions.addFunctionBlockCategory({fbcId: categoryId, fbcUserId:1, fbcName: newCategory}))\n\n    const [editingCategory, setEditingCategory] : [FBCategory | null,Function] = useState(null)\n\n\n    const indexes = [\n        {label: 'Name', key: 'fbcName'},\n        {label: 'Function Block List', key: 'fbList'}\n    ]\n\n    useMountEffect(() => {\n\n        setTimeout(() => {\n    \n          setFetching(true)\n          getOrDownloadFunctionBlockCategories(functionBlockCategories)\n              .then((result: FBCategory[]) => updateFunctionBlockCategories(result))\n              .catch((e:RequestResponseState) => setError(e.msg))\n              .finally(() => setFetching(false))\n    \n            \n        }, 0)\n    \n    })\n\n    const isCategoryValid = (category:string) => NEW_CATEGORY_RE.test(category)\n\n    const validateAndCreate = () => {\n\n        const validCategory = isCategoryValid(newCategory)\n\n        if(!validCategory)\n            setValidNewCategory(false)\n        else\n            setConfirmAddCategory(true)\n    \n    }\n\n    const addNewCategoryAction = () : Promise<string> => {\n\n        return new Promise<string>((res:Function, rej:Function)  => { \n            \n            createFunctionBlockCategory(newCategory.trim())\n\n                .then((result: RequestResponseState) => {\n                    categoryId = result.extra.lastInsertedId\n                    res('Category created')\n                })\n\n                .catch((e:RequestResponseState) => rej(e.msg))\n\n        })\n\n    }\n\n    const confirmCategoryCreationActionStates = {\n        start: {\n            label: `Confirm creation of new category: ${newCategory} ?`,\n            positiveLabel: 'Ok',\n            negativeLabel: 'Cancel',\n            state: ConfirmActionStateLabel.start\n        },\n        executing: {\n          label: '',\n          state: ConfirmActionStateLabel.executing,\n        },\n        success: {\n          label: 'Category Created',\n          state: ConfirmActionStateLabel.success,\n          positiveLabel: 'Ok'\n        },\n        error: {\n          label: 'Error Creating Category',\n          state: ConfirmActionStateLabel.error,\n          positiveLabel: 'Ok'\n        },\n      }\n    \n    const confirmActionProps : ConfirmActionProps = {\n\n        title: 'Add Category',\n        states: confirmCategoryCreationActionStates,\n        currentState: confirmCategoryCreationActionStates.start,\n        onCancel: () => setConfirmAddCategory(false),\n        onError: () => setConfirmAddCategory(false),\n        onSuccess: () => {\n            addFunctionBlockCategory()\n            setNewCategory('')\n        },\n        action: addNewCategoryAction,\n    }\n\n    const getData = () => functionBlockCategories.map((category: FBCategory) => {\n\n        return {\n            ...category,\n            fbList: {\n                key: category.functionBlocks?.length ?? 0,\n                data:  <Grid container direction=\"row\" spacing={2} wrap=\"wrap\"> {category.functionBlocks?.map((fb: string, index:number) => (\n                    <Grid key={index} item><Box fontStyle=\"italic\"> {fb} ; </Box></Grid>\n                ))} </Grid>\n            },\n            deleteDisabled: !!category.functionBlocks?.length ?? false\n        }\n\n    })\n\n    const deleteFunctionBlockCategoryAction = (category: FBCategory) : Promise<any> => {\n\n        return new Promise(async(res:Function,rej:Function) => {\n\n            if(!category.fbcId) {\n                rej('Error')\n                return\n            }\n\n            try {\n                const response : RequestResponseState = await deleteFunctionBlockCategory(category.fbcId)\n                res(response)\n              }\n    \n            catch(err) {\n                rej(err)\n            }\n        })\n\n    }\n\n    const cancelEditing = () => setEditingCategory(null)\n    const showEditing = (cat: FBCategory) => setEditingCategory(cat)\n\n    const onGoodEditing = (editingCat: FBCategory) => {\n\n        const newCats = functionBlockCategories.map((cat: FBCategory) => {\n\n            if(cat.fbcId === editingCat.fbcId)\n                return {...cat, fbcName: editingCat.fbcName}\n            return cat\n\n        })\n        \n        cancelEditing()\n        dispatchFunctionBlockCategoriesActions(FunctionBlockCategoriesActions.updateFunctionBlockCategories(newCats))\n\n    }\n\n    return (\n        <Navigator title=\"Function Block Categories\">\n        <> \n            {error !== ''\n                ? <ConfirmAction title='Fetching Function Blocks' currentState={errorFetchngCategoriesState} states={{error: errorFetchngCategoriesState}} onCancel={onCancel}/>\n                : null \n            }\n            <LazyComponent loaded={!fetching}>\n                <>\n                    {confirmAddCategory \n                        ? <ConfirmAction {...confirmActionProps} /> \n                        : editingCategory \n                            ?  <EditFBCategoryDialog \n                                onGood={onGoodEditing}\n                                category={editingCategory}\n                                onError={cancelEditing}\n                                onCancel={cancelEditing} />\n                            : null\n                    }\n                    <Grid container direction=\"column\" spacing={2}>\n                        <Grid item>\n                            <JPTable\n                                sortedkey=\"fbcName\"\n                                data={getData()} \n                                updateData={updateFunctionBlockCategories} \n                                indexes={indexes}\n                                tName='Function Block Category'\n                                extra={{\n                                    delete: {\n                                        action: deleteFunctionBlockCategoryAction,\n                                        labelKey: 'fbcName',\n                                        onSuccessDelete: () => {}\n                                    },\n                                    edit: {\n                                        action: showEditing\n                                    }\n                                }} \n                            />\n                        </Grid>\n                        <Grid item>\n                            <Grid container justify=\"flex-end\" spacing={1}>\n                                <Grid item xs={4}>\n                                    <TextField\n                                        helperText={!validNewCategory ? NEW_CATEGORY_RE.toString() : ''}\n                                        error={!validNewCategory}\n                                        required\n                                        onChange={(event) => {\n                                            setNewCategory(event.target.value)\n                                            if(!validNewCategory)\n                                                setValidNewCategory(isCategoryValid(event.target.value.trim()))\n                                        }}\n                                        fullWidth\n                                        value={newCategory}\n                                    />\n                                </Grid>\n                                <Grid item>\n                                    <Button\n                                        color=\"primary\"\n                                        variant=\"contained\"\n                                        onClick={validateAndCreate}\n                                    >\n                                        Add Category\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </>\n            </LazyComponent>\n        </>\n        </Navigator>\n    )\n\n}","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/utils/digitalTwins.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/style.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/style.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/utils/functionBlock.ts",["450"],"import { xml2js, Element } from \"xml-js\"\nimport { FunctionBlock, InOutType, Variable, Event, EventVariable, FBCategory, Functionality } from \"../model\"\nimport { readLocalFile } from \"./main\"\nimport { getFunctionBlocks, getFunctionBlockCategories } from \"../services/api/function-block\"\nimport { RequestResponseState } from \"../services/api/api\"\n\nexport const getFBfromFbtFile = (file: File) : Promise<FunctionBlock> => {\n\n    return new Promise(async (res:Function, rej:Function) => {\n\n        const result : FunctionBlock = {\n            fbDescription:'',\n            fbExternalDependencies: [],\n            fbFbcId: 1,\n            fbGeneralCategory: '',\n            fbInputEvents: [],\n            fbOutputEvents: [],\n            fbInputVariables: [],\n            fbOutputVariables: [],\n            fbType: '',\n            fbUserId: 1\n        }\n\n        const rejectNotWellFormed = (elementName?: string) =>  {\n            rej('FBT not well formed' + (elementName ? `: Element ${elementName} not well formed` : ''))\n            return false\n        }\n\n        const getFBTypeElement = (fbJs: any) => {\n\n            let fbElement = null\n            for(let i = 0; i < fbJs.elements.length; i++) {\n                const element = fbJs.elements[i]\n                if(element.type === 'element' && element.name === 'FBType') {\n                    fbElement = element\n                    break\n                }\n            }\n            return fbElement\n\n        }\n\n        const verifyMandatoryElements = (fbJs: any) : boolean =>  {\n\n            if(!fbJs.elements || fbJs.elements.length < 2) return rejectNotWellFormed()\n\n            const fbElement = getFBTypeElement(fbJs)\n\n            if(!fbElement) return rejectNotWellFormed()\n\n            if(!(verifyElement(fbElement,'FBType',['Name'],1))) return rejectNotWellFormed('FBType')\n            if(!verifyElement(fbElement.elements[0],'InterfaceList',[],4)) return rejectNotWellFormed('InterfaceList')\n            if(!verifyElement(fbElement.elements[0].elements[0],'EventInputs')) return rejectNotWellFormed('EventInputs')\n            if(!verifyElement(fbElement.elements[0].elements[1],'EventOutputs')) return rejectNotWellFormed('EventOutputs')\n            if(!verifyElement(fbElement.elements[0].elements[2],'InputVars')) return rejectNotWellFormed('InputVars')\n            if(!verifyElement(fbElement.elements[0].elements[3],'OutputVars')) return rejectNotWellFormed('OutputVars')\n\n            return true\n\n        }\n\n        const getVariables = (variableList: any, inOutYpe:InOutType) : {variables:Variable[], varNames: string[]} | undefined => {\n\n            const result : {variables:Variable[], varNames: string[]} = {variables:[], varNames:[]}\n\n            if(!variableList.elements) return result\n\n            for(let i = 0; i < variableList.elements.length; i++) {\n\n                const variable = variableList.elements[i]\n                if(!verifyElement(variable,'VarDeclaration',['Name','Type'])) {\n                    rejectNotWellFormed('VarDeclaration')\n                    return\n                }\n                result.variables.push({\n                    variableDataType: variable.attributes.Type, \n                    variableInoutType: inOutYpe, \n                    variableName: variable.attributes.Name,\n                    variableOpcua: variable.attributes.OpcUa\n                })\n\n                result.varNames.push(variable.attributes.Name)\n                \n            }\n\n            return result\n\n        } \n\n        const getEvents = (eventList: any, inOutYpe:InOutType, variableNames: string[]) : Event[] | undefined => {\n\n            const result : Event[] = []\n            if(!eventList.elements) return result\n\n            for(let i = 0; i < eventList.elements.length; i++) {\n\n                const event = eventList.elements[i]\n                if(!verifyElement(event,'Event',['Name','Type'])) {\n                    rejectNotWellFormed('Event')\n                    return\n                }\n\n                const eventVars : EventVariable[] = []\n\n                if(event.elements) {\n                    \n                    for(let j = 0; j < event.elements.length; j++) {\n\n                        const eventVariable = event.elements[j]\n                        if(!verifyElement(eventVariable,'With',['Var']) || !variableNames.includes(eventVariable.attributes.Var)) {\n                            rejectNotWellFormed('With')\n                            return\n                        }\n                        eventVars.push({\n                            evEventName: event.attributes.Name,\n                            evVariableName: eventVariable.attributes.Var\n                        })\n\n                    }\n                }\n\n                result.push({\n                    eventName: event.attributes.Name, \n                    eventType: event.attributes.Type, \n                    eventInoutType: inOutYpe,\n                    eventVariables: eventVars,\n                    eventOpcua: event.attributes.OpcUa\n                })\n                \n            }\n\n            return result\n\n        } \n\n        try {\n\n            const fbtString = await readLocalFile(file)\n            const fbJs = xml2js(fbtString)\n\n            if(!verifyMandatoryElements(fbJs)) return\n            \n            const fbTypeElement = getFBTypeElement(fbJs)\n\n            result.fbType = fbTypeElement.attributes.Name\n            result.fbGeneralCategory = fbTypeElement.attributes.OpcUa\n\n            const fbInterfaceListElement = fbTypeElement.elements[0]\n            const fbInputVarsElement = fbInterfaceListElement.elements[2]\n            const fbOutputVarsElement = fbInterfaceListElement.elements[3]\n            const fbEventInputsElement = fbInterfaceListElement.elements[0]\n            const fbEventOutputsElement = fbInterfaceListElement.elements[1]\n\n            const fbInputVariables = getVariables(fbInputVarsElement, InOutType.in)\n            const fbOutputVariables = getVariables(fbOutputVarsElement, InOutType.out)\n\n            if(!fbInputVariables || !fbOutputVariables) return \n            \n            const fbInputEvents = getEvents(fbEventInputsElement, InOutType.in,fbInputVariables.varNames)\n            const fbOutputEvents = getEvents(fbEventOutputsElement, InOutType.out,fbOutputVariables.varNames)\n\n            if(!fbInputEvents || !fbOutputEvents) return \n            \n            result.fbInputVariables = fbInputVariables.variables\n            result.fbOutputVariables = fbOutputVariables.variables\n            result.fbInputEvents = fbInputEvents\n            result.fbOutputEvents = fbOutputEvents\n\n            res(result)\n\n        }\n\n        catch(err) {\n            console.error(err)\n            rej('Error reading fbt file')\n        }\n\n    })\n\n}\n\n\n\nconst verifyElement = (element: Element,name: string, attributes?: string[], elementsLength?: number, type: 'element' | 'doctype' = 'element') : boolean => {\n    \n    if(!(element.type === type)) return false\n    if(!(element.name === name)) return false\n    \n    if(!!elementsLength) {\n\n        if(!element.elements) return false\n        if(element.elements.length !== elementsLength) return false\n    \n    }\n\n    if(!!attributes && !!attributes.length) {\n        \n        if(!element.attributes) return false\n        \n        for(let i = 0; i < attributes.length; i++) {\n            if(!(attributes[i] in element.attributes)) {\n                return false\n            }\n        }\n        \n    }\n\n    return true\n        \n}\n\nexport const getOrDownloadFunctionBlocks = (fbs: FunctionBlock[]) :  Promise<FunctionBlock[]> => {\n\n    return new Promise((res: Function, rej:Function) => {\n\n        if(fbs.length) \n            res(fbs)\n        else \n            getFunctionBlocks()\n                .then((result:FunctionBlock[]) => res(result))\n                .catch((error: RequestResponseState) => rej(error))\n    })\n\n}\n\nexport const getOrDownloadFunctionBlockCategories = (fbCategories: FBCategory[]) :  Promise<FBCategory[]> => {\n\n    return new Promise((res: Function, rej:Function) => {\n\n        if(fbCategories.length) \n            res(fbCategories)\n        else \n            getFunctionBlockCategories()\n                .then((result:FBCategory[]) => res(result))\n                .catch((error: RequestResponseState) => rej(error))\n    })\n\n}\n\n","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/services/api/function-block.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/services/api/digital-twin.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Navigator/Navigator.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/LazyComponent/LazyComponent.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/ConfirmAction.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/FunctionBlockForm.tsx",["451","452"],"import React, { useState, useCallback, useEffect } from 'react'\nimport { FormControl, InputLabel, TextField, Grid, Select, MenuItem, Box, Button,Typography, Chip } from '@material-ui/core'\nimport { FBGeneralCategory, Variable, InOutType, Event, EventVariable, FunctionBlock, FBCategory, ExternalDependency } from '../../../model'\nimport { useFunctionBlockStyles } from './style'\nimport { VariableList } from './Variable'\nimport { setSimpleField, useMountEffect } from '../../../utils/main'\nimport { EventList } from './Event'\nimport { Done, Clear } from '@material-ui/icons'\nimport { ReactComponent as UploadIcon } from '../../../icons/Upload.svg'\nimport { getFBfromFbtFile, getOrDownloadFunctionBlockCategories } from '../../../utils/functionBlock'\nimport { ConfirmActionProps, ConfirmActionStateLabel, ConfirmActionAction, ConfirmAction } from '../../templates/ConfirmAction/ConfirmAction'\nimport { useStore } from '../../templates/Store/Store'\nimport { FunctionBlockCategoriesActions } from '../../../redux/actions'\n\nconst DEFAULT_VALUES = {\n    eventType: 'Event'\n}\n\nconst updateEventVariablesOnRemoveVariable = (events:Event[],variableToRemove:Variable, ) : Event[] => {\n\n    const newEvents : Event[] = [...events]\n    newEvents.forEach((event: Event) => {\n\n        event.eventVariables = event.eventVariables.filter((ev: EventVariable) => ev.evVariableName !== variableToRemove.variableName)\n\n    })\n\n    return newEvents\n\n}\n\nconst updateEventVariablesOnUpdateVariable = (events:Event[], oldVariable:Variable,variableEdited:Variable) : Event[] => {\n\n    const newEvents : Event[] = [...events]\n    newEvents.forEach((event: Event) => {\n\n      event.eventVariables = event.eventVariables.map((ev: EventVariable) => {\n        if(ev.evVariableName === oldVariable.variableName)\n          return {\n            evVariableName: variableEdited.variableName,\n            evEventName: event.eventName\n          }\n        else\n          return ev\n      }) \n\n    })\n\n    return newEvents\n\n}\n\ninterface FunctionBlockFormProps {\n\n    fbType: {\n        fbType: string\n        setFbType: Function\n    },\n    fbGeneralCategory: {\n        fbGeneralCategory: '' | FBGeneralCategory\n        setfbGeneralCategory: Function\n    },\n    fbCategory: {\n      fbCategory: FBCategory\n      setFbCategory: Function\n    }\n    fbDescription: {\n        fbDescription: string\n        setFbDescription: Function\n    },\n    fbInputVariables: {\n        fbInputVariables: Variable[]\n        setFbInputVariables: Function\n    }\n    fbOutputVariables: {\n        fbOutputVariables: Variable[]\n        setFbOutputVariables: Function\n    },\n    fbInputEvents: {\n        fbInputEvents: Event[]\n        setFbInputEvents: Function\n    }\n    fbOutputEvents: {\n        fbOutputEvents: Event[]\n        setFbOutputEvents: Function\n    },\n    fbExternalDependencies: {\n      fbExternalDependencies: ExternalDependency[]\n      setFbExternalDependencies: Function\n    }\n    fbImplFile: {\n        fbImplFile: File\n        setFbImplFile: Function\n    },\n    cancel: {\n        label: string\n        action: () => void\n    },\n    confirmDialog: {\n        buttonTitle: string\n        title: string\n        initialState: ConfirmActionStateLabel\n        action: ConfirmActionAction\n        onSuccess : () => void\n        start? : {\n            label: string\n            positiveLabel: string\n            negativeLabel: string\n        }\n        success: {\n            label:string\n            positiveLabel: string\n        }\n        error: {\n            label: string\n            positiveLabel: string\n        }\n    },\n    byPassFields?: {\n      fbImplFile: boolean\n    }\n}\n\nexport const FunctionBlockForm = (props: FunctionBlockFormProps) => {\n\n    /**styles */\n    const classes = useFunctionBlockStyles()\n\n    /**list of categories */\n    const {data: functionBlockCategories, dispatchAction:dispatchFunctionBlockCategoriesActions} = useStore('functionBlockCategories')\n\n    const [validCategory,setValidCategory] : [boolean, Function] = useState(true)\n\n    /**Fb type */\n    const {fbType, setFbType} = props.fbType\n    const [validType, setValidType] = useState(true)\n    const onChangeFBType = useCallback((event:any) => {\n\n        setFbType(event.target.value.trim())\n        setValidType(true)\n    \n      },[setFbType])\n\n    /**FB General Category */\n    const {fbGeneralCategory, setfbGeneralCategory} = props.fbGeneralCategory\n    const [validGeneralCategory, setValidGeneralCategory] = useState(true)\n    const [generalCategoryNames,setGeneralCategoryNames] : [string[],Function] = useState([...Object.values(FBGeneralCategory), ''])\n    \n    /**Db Description */\n    const {fbCategory,setFbCategory} = props.fbCategory\n\n    /**Db Description */\n    const {fbDescription,setFbDescription} = props.fbDescription\n    const [validDescription, setValidDescription] = useState(true)\n\n    /* Variables and Events */\n    const {fbInputVariables, setFbInputVariables} = props.fbInputVariables\n    const {fbOutputVariables, setFbOutputVariables} = props.fbOutputVariables\n    \n    const getEmptyEvent = (type:InOutType) : Event => ({\n        eventId: -1,\n        eventOpcua: \"\",\n        eventInoutType: type,\n        eventName: '',\n        eventType:DEFAULT_VALUES.eventType,\n        eventVariables: []\n    })\n\n    const [newInputEvent,setNewInputEvent] : [Event,Function] = useState(getEmptyEvent(InOutType.in))\n    const [newOutputEvent,setNewOutputEvent] : [Event,Function] = useState(getEmptyEvent(InOutType.out))\n\n    const {fbInputEvents, setFbInputEvents} = props.fbInputEvents\n    const {fbOutputEvents, setFbOutputEvents} = props.fbOutputEvents\n\n    /** Variable Update and Edition */\n    \n    const onInputVariableRemoval = useCallback((variableToRemove: Variable) => {\n\n        setFbInputEvents((prevEvents: Event[]) => updateEventVariablesOnRemoveVariable(prevEvents,variableToRemove))\n        setNewInputEvent((prevEvent:Event) => updateEventVariablesOnRemoveVariable([prevEvent],variableToRemove)[0])\n\n    }, [setFbInputEvents])\n\n    const onOutputVariableRemoval = useCallback((variableToRemove: Variable) => {\n\n        setFbOutputEvents((prevEvents: Event[]) => updateEventVariablesOnRemoveVariable(prevEvents,variableToRemove))\n        setNewOutputEvent((prevEvent: Event) => updateEventVariablesOnRemoveVariable([prevEvent],variableToRemove)[0])\n    \n    }, [setFbOutputEvents])\n\n\n    const onInputVariableEdition = useCallback((oldVariable:Variable, newVariable: Variable) => {\n\n        setFbInputEvents((prevEvents: Event[]) => updateEventVariablesOnUpdateVariable(prevEvents,oldVariable,newVariable))\n        setNewInputEvent((prevNewEvent: Event) => updateEventVariablesOnUpdateVariable([prevNewEvent],oldVariable,newVariable)[0])\n    \n    },[setFbInputEvents])\n    \n      const onOutputVariableEdition = useCallback((oldVariable:Variable, newVariable: Variable) => {\n    \n        setFbOutputEvents((prevEvents: Event[]) => updateEventVariablesOnUpdateVariable(prevEvents,oldVariable,newVariable))\n        setNewOutputEvent((pevEvent: Event) => updateEventVariablesOnUpdateVariable([pevEvent],oldVariable,newVariable)[0])\n    \n    },[setFbOutputEvents])\n\n\n    /* Event edition */\n\n    const addNewInputEvent = useCallback(() => {\n\n        setFbInputEvents((prevEvents: Event[]) => [...prevEvents, newInputEvent])\n        setNewInputEvent(getEmptyEvent(InOutType.in))\n    \n    },[newInputEvent, setFbInputEvents])\n    \n    const addNewOutputEvent = useCallback(() => {\n\n        setFbOutputEvents((prevEvents: Event[]) => [...prevEvents, newOutputEvent])\n        setNewOutputEvent(getEmptyEvent(InOutType.out))\n\n    },[newOutputEvent, setFbOutputEvents])\n    \n    const removeInputEvent = useCallback((eventToRemove: Event) => setFbInputEvents((prevEvents:Event[]) => prevEvents.filter((event:Event) => event !== eventToRemove)), [setFbInputEvents]) \n    const removeOutputEvent = useCallback((eventToRemove: Event) => setFbOutputEvents((prevEvents:Event[]) => prevEvents.filter((event:Event) => event !== eventToRemove)), [setFbOutputEvents]) \n    \n    const setEvent = (type:InOutType) => (event:Event,index:number) => {\n    \n        const setFunction = type === InOutType.in ? setFbInputEvents : setFbOutputEvents\n    \n        setFunction((prevEvents:Event[]) => {\n    \n          const newEvents : Event[] = [...prevEvents]\n          newEvents[index] = event\n          return newEvents\n        \n        })\n    \n    }\n\n    const setInputEvent = useCallback(setEvent(InOutType.in),[])\n    const setOutputEvent = useCallback(setEvent(InOutType.out),[])\n\n    /* Dependencies */\n\n    const {fbExternalDependencies, setFbExternalDependencies} = props.fbExternalDependencies\n    const [currentDependency, setCurrentDependency] : [string,Function] = useState('')\n\n    const addDependency = useCallback(() => {\n\n      setFbExternalDependencies((prevDependencies: ExternalDependency[]) => {\n\n        const name = currentDependency.trim()\n        setCurrentDependency('')\n        if(name === '' || prevDependencies.filter((ed: ExternalDependency) => ed.edName === name).length)\n          return prevDependencies\n        return [...prevDependencies, {edName: currentDependency}]\n      })\n\n    }, [setFbExternalDependencies, currentDependency])\n\n    const deleteDependency = useCallback((ed: ExternalDependency) => () => {\n\n      setFbExternalDependencies((prevDependencies: ExternalDependency[]) => prevDependencies.filter((cEd:ExternalDependency) => cEd.edName !== ed.edName))\n\n    }, [setFbExternalDependencies])\n\n    const onChangeCurrentDependency = useCallback((event: any) => setCurrentDependency(event.target.value), [])\n\n    /* Implementation File */\n\n    const {fbImplFile, setFbImplFile} = props.fbImplFile\n    const [validFile, setValidFile] = useState(true)\n\n    const changeImplFile = (event:any) => {\n\n        if(event.target.files.length > 0) {\n          setFbImplFile(event.target.files[0])\n          setValidFile(true)\n        }\n    \n    }\n\n    /* FBT file reading */\n\n    const [errorReadingFBT,setErrorReadingFBT] : [{msg:string, err: boolean, file:boolean},Function] = useState({msg:'', err: false, file:false})\n    \n    const loadFiles = useCallback((fileList: FileList) => {\n\n        if(fileList.length > 0) {\n    \n          let fbt: File | undefined = undefined\n          let py : File | undefined = undefined\n    \n          for(let i = 0; i < fileList.length; i++) {\n    \n            let file = fileList[i]\n    \n            if(/.*.(fbt|xml)$/.test(file.name)) \n              fbt = file\n            else if (/.*.py$/.test(file.name))\n              py = file\n             \n            if(fbt && py)\n              break\n          }\n\n          if(!fbt && !py) {\n            setErrorReadingFBT({file:true, err:true, msg:'Only .fbt and .xml files for fb definition or .py files for fb implementation'})\n            return\n          }\n    \n          else {\n    \n            if(fbt) {\n    \n              getFBfromFbtFile(fbt)\n                .then((result: FunctionBlock) => {\n        \n                  setFbType(result.fbType)\n                  setFbDescription(result.fbType)\n                  setfbGeneralCategory(result.fbGeneralCategory)\n                  setFbInputVariables(result.fbInputVariables)\n                  setFbOutputVariables(result.fbOutputVariables)\n                  setFbInputEvents(result.fbInputEvents)\n                  setFbOutputEvents(result.fbOutputEvents)\n        \n                  setValidType(true)\n                  setValidDescription(true)\n                  setValidGeneralCategory(!!result.fbGeneralCategory)\n                  setErrorReadingFBT({err:false,msg:'',file:true})\n        \n                })\n                .catch((error) => {\n                  console.error(error)\n                  setErrorReadingFBT({file:true,err: true, msg:error.toString()})\n        \n                })\n            }\n    \n            if(py) {\n              setFbImplFile(py)\n              setValidFile(true)\n    \n            }\n    \n          }\n        }\n    \n    }, [setFbDescription,setFbImplFile,setFbInputEvents,setFbInputVariables,setFbOutputEvents,setFbOutputVariables,setFbType,setfbGeneralCategory])\n\n    const onChangeFBTFile = useCallback((event:any) => loadFiles(event.target.files),[loadFiles])\n\n    /* Dropping Files */\n    const addPreventWindowToOpenFile = () => {\n        window.addEventListener('dragover', preventDefaultAction)\n        window.addEventListener('drop',preventDefaultAction)\n    }\n    \n    const removePreventWindowToOpenFile = () => {\n        window.removeEventListener('dragover', preventDefaultAction)\n        window.removeEventListener('drop',preventDefaultAction)\n    } \n     \n    const preventDefaultAction = (event:any) => event.preventDefault()\n    const changeGeneralCategory = useCallback((category: FBGeneralCategory | \"\") => {\n\n      const valid = category !== ''\n\n      if(valid)  \n        setGeneralCategoryNames(Object.values(FBGeneralCategory))\n      \n      setfbGeneralCategory(category)\n      setValidGeneralCategory(true)\n\n    },[setfbGeneralCategory])\n      \n    useMountEffect(() => {\n      \n      addPreventWindowToOpenFile()\n      getOrDownloadFunctionBlockCategories(functionBlockCategories)\n        .then((result: FBCategory[]) => {\n          dispatchFunctionBlockCategoriesActions(FunctionBlockCategoriesActions.updateFunctionBlockCategories(result))\n        })\n        .catch((err) => console.error(err))\n\n    },removePreventWindowToOpenFile)\n    useEffect(() => changeGeneralCategory(fbGeneralCategory),[changeGeneralCategory,fbGeneralCategory])\n\n    const onDropFiles = useCallback((event:any) => loadFiles(event.dataTransfer.files),[loadFiles])\n\n    /* Buttons */\n\n    const onCancel = props.cancel.action\n    const cancelLabel = props.cancel.label\n\n    const confirmLabel = props.confirmDialog.buttonTitle\n\n    /* Confirmation */\n\n    const [confirm, setConfirm] : [boolean, Function] = useState(false)\n\n    const validateFields = () : boolean => {\n\n        const cValidType = fbType.trim() !== ''\n        const cValidDescription = fbDescription.trim() !== ''\n        const cValidGeneralCategory = !!fbGeneralCategory\n        const cValidCategory = fbCategory.fbcId !== -1\n        const cValidFile = !!props.byPassFields?.fbImplFile || fbImplFile.name !== ''  \n            \n        if(!cValidType) setValidType(cValidType)\n        if(!cValidDescription) setValidDescription(cValidDescription)\n        if(!cValidGeneralCategory) setValidGeneralCategory(cValidGeneralCategory)\n        if(!cValidCategory) setValidCategory(cValidCategory)\n        if(!cValidFile) setValidFile(cValidFile)\n    \n        return cValidType && cValidGeneralCategory && cValidCategory && cValidDescription && cValidFile\n    \n    }\n\n    const confirmButtonAction = () => {\n\n        if(validateFields())\n          setConfirm(true)\n    }\n\n    const confirmActionStates = {\n        start: {\n            label: props.confirmDialog.start?.label,\n            positiveLabel: props.confirmDialog.start?.positiveLabel,\n            negativeLabel: props.confirmDialog.start?.negativeLabel,\n            state: ConfirmActionStateLabel.start\n        },\n        executing: {\n          label: '',\n          state: ConfirmActionStateLabel.executing,\n        },\n        success: {\n          label: props.confirmDialog.success.label,\n          state: ConfirmActionStateLabel.success,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n        error: {\n          label: props.confirmDialog.error.label,\n          state: ConfirmActionStateLabel.error,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n      }\n    \n    const confirmActionProps : ConfirmActionProps = {\n\n        title: props.confirmDialog.title,\n        states: confirmActionStates,\n        currentState: confirmActionStates.executing,\n        onCancel: () => setConfirm(false),\n        onError: () => setConfirm(false),\n        onSuccess: props.confirmDialog.onSuccess,\n        action:props.confirmDialog.action,\n      \n    }\n\n    return (\n        <> {confirm ? <ConfirmAction {...confirmActionProps} /> : null}\n          <Grid onDrop={onDropFiles} spacing={2} container direction=\"column\" component=\"form\">\n            <Grid item container alignItems=\"center\" justify={errorReadingFBT.file ? 'space-between' : 'flex-end'} direction=\"row\">\n              {errorReadingFBT.file ?\n              <Grid item>\n                {errorReadingFBT.err ? <Typography color=\"error\">{errorReadingFBT.msg}</Typography> : <Done fontSize=\"small\" />}\n              </Grid>\n              : null}\n              <Grid item>\n                <input onChange={onChangeFBTFile} value=\"\" accept=\".xml,.fbt\" type=\"file\" id=\"raised-button-file\" hidden />\n                  <label htmlFor=\"raised-button-file\">\n                    <Button variant=\"outlined\" component=\"span\" size=\"small\">\n                      Choose fbt file for form auto completion\n                    </Button>\n                  </label> \n              </Grid>\n            </Grid>\n            <Grid spacing={1} justify=\"space-between\" item xs container direction=\"row\">\n              <Grid item xs={6}>\n                <TextField\n                  onChange={onChangeFBType} \n                  value={fbType}\n                  helperText=\"\"\n                  error={!validType} \n                  fullWidth required \n                  label=\"Type\" \n                  id=\"fb-type\" \n                  type=\"text\" />\n              </Grid>\n              <Grid item xs>\n                <FormControl fullWidth required>\n                  <InputLabel error={!validCategory} id=\"category-label\">Category</InputLabel>\n                  <>\n                    <Select\n                      error={!validCategory}\n                      labelId=\"category-label\"\n                      value={fbCategory.fbcName}\n                      onChange={(event) => {\n                        setValidCategory(true)\n                        setFbCategory(functionBlockCategories.filter((cat:FBCategory) => event.target.value === cat.fbcName)[0])\n                      }} \n                    >\n                      {functionBlockCategories.map((cat:FBCategory, index:number) => <MenuItem key={index} value={cat.fbcName}>{cat.fbcName}</MenuItem>)}\n                    </Select>\n                   \n                  </>\n                </FormControl>\n              </Grid>\n              <Grid item xs>\n                <FormControl fullWidth required>\n                  <InputLabel error={!validGeneralCategory} id=\"gen-category-label\">General Category</InputLabel>\n                  <Select\n                    error={!validGeneralCategory} \n                    labelId=\"gen-category-label\"\n                    value={fbGeneralCategory || ''}\n                    onChange={(event:any) => {\n                      setValidGeneralCategory(true)\n                      changeGeneralCategory(event.target.value)\n                    }}\n                  >\n                    {generalCategoryNames.map((cat:any, index:number) => <MenuItem key={index} value={cat}>{cat}</MenuItem>)}\n                  </Select>\n                </FormControl>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              <TextField \n                helperText=\"\" \n                variant=\"standard\" \n                fullWidth \n                required \n                multiline \n                rowsMax=\"4\" \n                label=\"Description\" \n                id=\"description\" \n                type=\"text\"\n                error={!validDescription} \n                onChange={setSimpleField(setFbDescription, () => setValidDescription(true))} \n                value={fbDescription}/>\n            </Grid>\n            <Grid item xs>\n              Variables\n            </Grid>\n            <Grid container item xs>\n              <Grid className={classes.box} spacing={1} item container direction=\"row\">\n                <Grid item xs={6}>\n                  <VariableList onVariableEdition={onInputVariableEdition} onVariableRemoval={onInputVariableRemoval} setVariables={setFbInputVariables} inOutType={InOutType.in} title=\"Input\" variables={fbInputVariables} />\n                </Grid>\n                <Grid item xs={6}>\n                  <VariableList onVariableEdition={onOutputVariableEdition} onVariableRemoval={onOutputVariableRemoval} setVariables={setFbOutputVariables} inOutType={InOutType.out} title=\"Output\" variables={fbOutputVariables} />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              Events\n            </Grid>\n            <Grid container item xs>\n              <Grid className={classes.box} spacing={1} item container direction=\"row\">\n                <Grid item xs={6}>\n                  <EventList setEvent={setInputEvent} removeEvent={removeInputEvent} addNewEvent={addNewInputEvent} setEvents={setFbInputEvents} newEvent={newInputEvent} setNewEvent={setNewInputEvent} variables={fbInputVariables} inOutType={InOutType.in} title=\"Input\" events={fbInputEvents} />\n                </Grid>\n                <Grid item xs={6}>\n                  <EventList setEvent={setOutputEvent} removeEvent={removeOutputEvent} addNewEvent={addNewOutputEvent} setEvents={setFbOutputEvents} newEvent={newOutputEvent} setNewEvent={setNewOutputEvent} variables={fbOutputVariables} inOutType={InOutType.out} title=\"Output\" events={fbOutputEvents} />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              Dependencies\n            </Grid>\n            <Grid container xs item>\n              <Grid item container className={classes.box} alignItems=\"center\" justify=\"space-between\">\n                <Grid item container direction=\"row\" spacing={1} alignItems=\"flex-end\">\n                  <Grid item xs={6}>\n                    <TextField\n                        onChange={onChangeCurrentDependency} \n                        value={currentDependency}\n                        helperText=\"\"\n                        fullWidth \n                        label=\"New Dependency\" \n                        id=\"fb-new-dependency\" \n                        type=\"text\" />\n                  </Grid>\n                  <Grid item>\n                    <Button onClick={addDependency} className={classes.varEvButton} size=\"small\" variant=\"contained\">+</Button>\n                  </Grid>\n                </Grid>\n                <Grid container className={`${classes.box} ${classes.dependenciesBox}`} item>\n                  {fbExternalDependencies.length ?\n                    fbExternalDependencies.map((ed: ExternalDependency, index: number) => (\n                      <Chip key={index} className={classes.dependency} label={ed.edName} onDelete={deleteDependency(ed)} />\n                    )) : 'No Dependencies'\n                  }\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs container direction=\"row\" justify=\"space-between\" alignItems=\"center\"> \n              <Grid item xs={6}>\n                  <input onChange={changeImplFile} value=\"\" required accept=\".py\" type=\"file\" id=\"button-file\" hidden />\n                  <label htmlFor=\"button-file\">\n                    <TextField\n                      className={classes.tfFile}\n                      label=\"Implementation File\"\n                      required={!props.byPassFields?.fbImplFile}\n                      error={!validFile}\n                      disabled={true}\n                      value={fbImplFile.name} \n                      InputProps={{\n                        startAdornment: (\n                          <Box pb={1} mr={1}>\n                            <Button variant=\"outlined\" component=\"span\">\n                              <UploadIcon className={classes.icon} />\n                            </Button>\n                          </Box> \n                        )\n                      }} />\n                  </label>\n              </Grid>\n              <Grid item xs={6} container direction=\"row\" spacing={2} alignItems=\"center\" justify=\"flex-end\">\n                <Grid item>\n                    <Button onClick={onCancel} color=\"secondary\" variant=\"contained\"><Clear/>{cancelLabel}</Button>\n                </Grid>\n                <Grid>\n                  <Button onClick={confirmButtonAction} color=\"primary\" variant=\"contained\"><Done/>{confirmLabel}</Button>\n                </Grid>\n              </Grid>\n            </Grid>\n            \n          </Grid>\n        </>\n      )\n}","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Table/JPTable.tsx",["453","454","455"],"import React, { useState, useCallback } from 'react'\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport { Box, Button } from '@material-ui/core'\nimport { ArrowDropUp,ArrowDropDown,Delete,Edit, SettingsApplications, Add, AddBox, AddBoxOutlined, Settings } from '@material-ui/icons'\nimport { useMountEffect } from '../../../utils/main'\nimport {useGlobalStyles} from '../../../styles/main'\nimport './JPTable.css'\nimport { ConfirmActionStateLabel, ConfirmActionProps, ConfirmAction } from '../ConfirmAction/ConfirmAction'\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      color: theme.palette.primary.main,\n      fontWeight: 'bold',\n      fontSize: 16,\n    },\n    body: {\n      fontSize: 12,\n    },\n    \n  }),\n)(TableCell)\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.background.default,\n      },\n    },\n  }),\n)(TableRow)\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700,\n  },\n  tableHeader: {\n    cursor:'pointer'\n  }\n})\n\nexport const JPTable = (props: {\n      data: any[], updateData: ((data: any[]) => void)\n      indexes : {label:string, key: string}[]\n      tName: string\n      extra?: {\n        delete? :{\n          action: (element:any) => Promise<any> \n          labelKey: string,\n          onSuccessDelete: (element: any) => void\n        },\n        edit?: {\n          action: (element: any) => void\n        } \n        details? :{\n          action: (element: any) => void\n        },\n        add? :{\n          action: (element: any) => void\n        },\n      }\n      sortedkey? : string}) => {\n    \n    const classes = useStyles()\n    const globalClasses = useGlobalStyles()\n    const [orderBy, setOrderBy] : [string | '', Function] = useState('')\n    const [previousOrderBy, setPreviousOrderBy] : [string | '', Function] = useState('')\n    const [asc, setAsc] : [boolean, Function] = useState(false)\n    const [deleting, setDeleting] : [string | undefined, Function] = useState(undefined)\n\n    const sort = (criteria: string) => {\n\n      if(!props.data.length)\n        return\n        \n      // const criteria = props.indexes[criteriaIndex].key\n      let newAsc = true\n      \n      const sorted : [] = [...props.data.sort((a:any, b:any) => {\n        \n        let elementA = a[criteria].key ?? a[criteria]\n        let elementB = b[criteria].key ?? b[criteria]\n        if(typeof a[criteria] === 'string') {\n          elementA = (a[criteria].key ?? a[criteria] as string).toLocaleLowerCase()\n          elementB = (b[criteria].key ?? b[criteria] as string).toLocaleLowerCase()\n        }\n        \n        const greater = elementA >= elementB\n        const equal = elementA === elementB\n\n        if(criteria === orderBy)\n          newAsc = !asc\n          \n        return equal ? 0 : newAsc ? greater ? 1 : -1 : greater ? -1 : 1\n  \n      })] as []\n      \n      setPreviousOrderBy(orderBy)\n      setOrderBy(criteria)\n      setAsc(newAsc)\n      \n      props.updateData(sorted)\n\n    }\n\n    useMountEffect(() => sort(props.sortedkey ? props.sortedkey : props.indexes[0].key))\n\n    const setDeletingElement = useCallback((element: any) => () => setDeleting(element),[])\n    const triggerEditElement = (element: any) => () => props.extra && props.extra.edit ? props.extra.edit.action(element) : {}\n    const triggerDetailsElement = (element: any) => () => props.extra && props.extra.details ? props.extra.details.action(element) : {}\n    const triggerAddElement = (element: any) => () => props.extra && props.extra.add ? props.extra.add.action(element) : {}\n\n    const deleteLine = useCallback(() : Promise<string> => {\n\n      return new Promise((res:Function, rej:Function) => {\n\n        if(!(props.extra?.delete) || !deleting) {\n          rej('')\n          return\n        }\n        \n        props.extra.delete.action(deleting)\n\n          .then(_ => {\n            res(`Correctly deleted ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}.`)\n          })\n          .catch(_ => {\n            rej(`Error deleting ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}.`)\n          })\n      })\n\n    },[deleting,props.extra,props.tName])\n\n    const confirmActionStatesToRemove = {\n\n      start: {\n        label: `Delete ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}?`,\n        positiveLabel: 'Yes',\n        negativeLabel: 'No',\n        state: ConfirmActionStateLabel.start\n      },\n      executing: {\n        label: '',\n        state: ConfirmActionStateLabel.executing,\n      },\n      success: {\n        label: `Correctly deleted ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}.`,\n        state: ConfirmActionStateLabel.success,\n        positiveLabel: 'Ok'\n      },\n      error: {\n        label: `Error deleting ${props.tName} \\n${deleting && props.extra?.delete ? deleting[props.extra?.delete?.labelKey] : ''}.`,\n        state: ConfirmActionStateLabel.error,\n        positiveLabel: 'Ok'\n      },\n    }\n\n    const onCancel = () => setDeleting(undefined)\n    const onError = () => setDeleting(undefined)\n    const onSuccess = () => {\n      props.updateData(props.data.filter((cElement: any) => cElement !== deleting))\n      if(deleting)\n        props.extra?.delete?.onSuccessDelete(deleting)\n    }\n  \n    const confirmActionPropsDeleting : ConfirmActionProps = {\n      \n      title: `Deleting ${props.tName}`,\n      states: confirmActionStatesToRemove,\n      currentState: confirmActionStatesToRemove.start,\n      onCancel: onCancel,\n      onError: onError,\n      onSuccess: onSuccess,\n      action:deleteLine,\n    \n    }\n\n    return (\n      <>\n      {deleting ? <ConfirmAction {...confirmActionPropsDeleting} /> : null }\n      <TableContainer component={Paper}>\n          <Table className={classes.table} size=\"small\" aria-label=\"customized table\">\n              <TableHead>\n                  <TableRow>\n                      {props.indexes.map((element: {key: string, label: string}, index: number) => \n                          <StyledTableCell className={classes.tableHeader} onClick={() => sort(element.key)} key={index}>\n                              <Box className={globalClasses.hoverOpacity} display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n                                  {element.label}\n                                  {element.key === orderBy ? asc ? <ArrowDropUp className={previousOrderBy === orderBy ? \"arrow-up\" : \"\"}/> : <ArrowDropDown className={element.key === orderBy ? \"arrow-down\" : \"\"}/> : <ArrowDropUp className={`${globalClasses.hiddenHoverOpacity}`} />}\n                              </Box> \n                          </StyledTableCell>)\n                      }\n                      {props.extra \n                          ? props.extra.details ? <StyledTableCell></StyledTableCell> : null\n                          : null\n                      }\n                      {props.extra \n                          ? props.extra.add ? <StyledTableCell></StyledTableCell> : null\n                          : null\n                      }\n                      {props.extra \n                          ? props.extra.edit ? <StyledTableCell></StyledTableCell> : null\n                          : null\n                      }\n                      {props.extra \n                          ? props.extra.delete ? <StyledTableCell></StyledTableCell> : null\n                          : null\n                      }\n                  </TableRow>\n              </TableHead>\n              {!!props.data.length ?\n                <TableBody>\n                {props.data.map((row:any, elIndex:number) => (\n                    <StyledTableRow key={elIndex}>\n                        {props.indexes.map((element: {key: string, label: string}, valIndex: number) => <StyledTableCell key={valIndex}>{row[element.key]?.data ?? row[element.key] }</StyledTableCell>)}\n                        {props.extra \n                          \n                          ? props.extra.details\n                            ? <StyledTableCell><Button disabled={row.detailsDisabled ?? false} onClick={triggerDetailsElement(row)} style={{minWidth:0}} variant=\"text\" size=\"small\"><Settings fontSize=\"small\"/></Button></StyledTableCell> \n                            : null\n                          : null\n                        }\n                           {props.extra \n                          \n                          ? props.extra.add\n                            ? <StyledTableCell><Button disabled={row.addDisabled ?? false} onClick={triggerAddElement(row)} style={{minWidth:0}} variant=\"text\" size=\"small\"><AddBoxOutlined fontSize=\"small\"/></Button></StyledTableCell> \n                            : null\n                          : null\n                        }\n                        {props.extra \n                          \n                          ? props.extra.edit \n                            ? <StyledTableCell><Button disabled={row.editDisabled ?? false} onClick={triggerEditElement(row)} style={{minWidth:0}} variant=\"text\" size=\"small\"><Edit fontSize=\"small\"/></Button></StyledTableCell> \n                            : null\n                          : null\n                        }\n                        {props.extra \n                          \n                          ? props.extra.delete \n                            ? <StyledTableCell><Button disabled={row.deleteDisabled ?? false} onClick={setDeletingElement(row)} style={{minWidth:0}} variant=\"text\" size=\"small\"><Delete fontSize=\"small\"/></Button></StyledTableCell> \n                            : null\n                          : null\n                        }\n                    </StyledTableRow>\n                ))}\n                </TableBody>\n                : null\n              }\n          </Table>\n      </TableContainer>\n      </>\n    )\n}","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Gauge.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Bars.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/services/api/api.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/style.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/style.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Event.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Variable.tsx",["456"],"import React, { useEffect, useState, useCallback } from 'react'\nimport { useFunctionBlockStyles } from \"./style\"\nimport { Variable, DataType, InOutType } from \"../../../model/index\"\nimport { Grid, TextField, FormControl, InputLabel, Select, Button, MenuItem } from \"@material-ui/core\"\n\ninterface VariableProps {\n  setVariables: Function\n  variables: Variable[]\n  title: string\n  inOutType: InOutType\n  onVariableRemoval: (variable: Variable) => void\n  onVariableEdition: (oldVariable: Variable, newVariable: Variable) => void\n}\n\nexport const VariableList = React.memo((props: VariableProps) => {\n  \n  const {variables,setVariables,onVariableRemoval,onVariableEdition} = props\n\n  const classes = useFunctionBlockStyles()\n\n  const newVar : Variable = {\n    variableId: -1,\n    variableDataType: DataType.dtString,\n    variableOpcua: \"\",\n    variableInoutType: props.inOutType,\n    variableName: \"\",\n  }\n\n  const [newVariable,setNewVariable] : [Variable,Function] = useState(newVar)\n\n  const setVariable = useCallback((variable:Variable,index:number) => {\n\n    setVariables((prevVars: Variable[]) => {\n\n      const oldVariable : Variable = prevVars[index]\n      const newVariables : Variable[] = [...prevVars]\n      newVariables[index] = variable\n      onVariableEdition(oldVariable,variable)\n      return newVariables\n\n    }) \n\n  },[onVariableEdition, setVariables])\n\n  const addVariable = useCallback((varToAdd: Variable) => {\n    \n    setVariables((prevVariables: Variable[]) =>[...prevVariables, varToAdd])\n    setNewVariable(newVar)\n\n  }, [setVariables,newVar]) \n\n  const removeVariable = useCallback((variableToRemove:Variable) => {\n    setVariables((prevVars: Variable[]) => prevVars.filter((variable:Variable,index:number) => variable !== variableToRemove))\n    onVariableRemoval(variableToRemove)\n  },[onVariableRemoval,setVariables]) \n\n  return (\n    <Grid container direction=\"column\">\n      <Grid item>{props.title}</Grid>\n      <Grid item className={classes.box}>\n        {variables.map((variable:Variable, index:number) => <VariableRow key={index} index={index} addRemoveVariable={removeVariable} setVariable={setVariable} variable={variable} newVar={false} />)}\n        <VariableRow index={-1} addRemoveVariable={addVariable} setVariable={setNewVariable} variable={newVariable} newVar={true}  />\n      </Grid> \n    </Grid>\n  )\n})\n\ninterface VariableRowProps {\n  index: number \n  addRemoveVariable: (variable: Variable) => void\n  setVariable:Function\n  variable: Variable\n  newVar: boolean\n  order?: number\n}\n  \nconst VariableRow = React.memo((props: VariableRowProps) => {\n\n  const classes = useFunctionBlockStyles()\n\n  const [validName,setValidName] = useState(\"\")\n\n  const action = () => {\n\n    if(!isValid() && props.newVar) \n      setValidName(\"Mandatory\")\n    \n    else\n      props.addRemoveVariable(props.variable)\n    \n  }\n\n  const isValid = useCallback(() => props.variable.variableName !== '', [props.variable])\n\n  const validate = useCallback(() => {\n    \n    !isValid() ? setValidName(\"Mandatory\") : setValidName('')\n\n  },[isValid]) \n\n  useEffect(() => {if(!props.newVar) validate()}, [props.variable.variableName, props.newVar, validate])\n\n  const updateField = (field:string) => (event:any) => {\n\n    setValidName('')\n    props.setVariable({...props.variable, [field]: event.target.value},props.index)\n  \n  }\n\n  return (\n    <Grid item container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\n      { props.order ?\n      <Grid item xs={1}>\n          {props.order}\n      </Grid>\n      : null\n      }\n      <Grid item xs={4}>\n        <TextField \n          value={props.variable.variableName} \n          onChange={updateField('variableName')}\n          helperText={validName} fullWidth \n          required\n          error={validName !== ''} \n          label=\"Name\" \n          type=\"text\" />\n      </Grid>\n      <Grid item xs={2}>\n        <TextField \n          value={props.variable.variableOpcua || ''}\n          onChange={updateField('variableOpcua')} \n          helperText=\"\" \n          fullWidth \n          label=\"OPCUA\" \n          type=\"text\" />\n      </Grid>\n      <Grid item xs={3}>\n        <FormControl fullWidth required>\n          <InputLabel id={`data-type-label-${props.variable.variableName}`}>Data Type</InputLabel>\n          <Select\n            labelId={`data-type-label-${props.variable.variableName}`}\n            value={props.variable.variableDataType}\n            onChange={updateField('variableDataType')}\n          >\n            {Object.values(DataType).map((dt:any, index:number) => <MenuItem key={index} value={dt}>{dt}</MenuItem>)}\n\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid item xs={1}>\n        <Button \n          className={classes.varEvButton} \n          size=\"small\" \n          variant=\"contained\"\n          onClick={action}\n        >\n        {props.newVar ? '+' : 'x' }</Button>\n      </Grid>\n    </Grid>\n  )\n}\n ,(prevProps:VariableRowProps, nextProps: VariableRowProps) => prevProps.variable === nextProps.variable\n)","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/index.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/style.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/templates/Search/SearchableList.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/DigitalTwin.ts",["457","458"],"import { Event, Variable } from \"./EventVariable\";\r\nimport { User } from \"./User\";\r\n\r\nexport interface DigitalTwin {\r\n    dtId?: number\r\n    dtName: string\r\n    dtUser?: User\r\n    dtUserId: number\r\n    functionalities? : string[]\r\n} \r\n\r\nexport interface Functionality {\r\n    funcId?: number\r\n    funcName: string\r\n    dt?: DigitalTwin\r\n    funcdtName?: string\r\n    funcdtId: number\r\n    //state:number\r\n    funcUser?: User\r\n    funcUserId: number\r\n    /* funcMonitoredInputEvents: Event[]\r\n    funcMonitoredOutputEvents: Event[]\r\n    funcMonitoredInputVariables: Variable[]\r\n    funcMonitoredOutputVariables: Variable[] */\r\n} ","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/Tables.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/User.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/SmartComponent.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/FunctionBlock.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/EventVariable.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/model/model/Error.ts",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinForm.tsx",["459","460"],"import React, { useState, useCallback, useEffect } from 'react'\nimport { TextField, Grid, Button } from '@material-ui/core'\nimport { useFunctionBlockStyles } from '../FunctionBlocks/FunctionBlock/style'\nimport { Done, Clear } from '@material-ui/icons'\nimport { ConfirmActionProps, ConfirmActionStateLabel, ConfirmActionAction, ConfirmAction } from '../templates/ConfirmAction/ConfirmAction'\n\ninterface DigitalTwinProps {\n\n    dtName: {\n        dtName: string\n        setDtName: Function\n    },\n    cancel: {\n        label: string\n        action: () => void\n    },\n    confirmDialog: {\n        buttonTitle: string\n        title: string\n        initialState: ConfirmActionStateLabel\n        action: ConfirmActionAction\n        onSuccess : () => void\n        start? : {\n            label: string\n            positiveLabel: string\n            negativeLabel: string\n        }\n        success: {\n            label:string\n            positiveLabel: string\n        }\n        error: {\n            label: string\n            positiveLabel: string\n        }\n    },\n}\n\nexport const DigitalTwinForm = (props: DigitalTwinProps) => {\n\n    /**styles */\n    const classes = useFunctionBlockStyles()\n\n    /**Digital Twin Name*/\n    const {dtName, setDtName} = props.dtName\n    const [validDtName, setValidDtName] = useState(true)\n    const onChangeDtName = useCallback((event:any) => {\n\n        setDtName(event.target.value.trim())\n        setValidDtName(true)\n    \n      },[setDtName])\n\n    /* Buttons */\n\n    const onCancel = props.cancel.action\n    const cancelLabel = props.cancel.label\n\n    const confirmLabel = props.confirmDialog.buttonTitle\n\n    /* Confirmation */\n\n    const [confirm, setConfirm] : [boolean, Function] = useState(false)\n\n    const validateFields = () : boolean => {\n\n        const cValidDtName = dtName.trim() !== ''\n            \n        if(!cValidDtName) setValidDtName(cValidDtName)\n    \n        return cValidDtName\n    \n    }\n\n    const confirmButtonAction = () => {\n\n        if(validateFields())\n          setConfirm(true)\n    }\n\n    const confirmActionStates = {\n        start: {\n            label: props.confirmDialog.start?.label,\n            positiveLabel: props.confirmDialog.start?.positiveLabel,\n            negativeLabel: props.confirmDialog.start?.negativeLabel,\n            state: ConfirmActionStateLabel.start\n        },\n        executing: {\n          label: '',\n          state: ConfirmActionStateLabel.executing,\n        },\n        success: {\n          label: props.confirmDialog.success.label,\n          state: ConfirmActionStateLabel.success,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n        error: {\n          label: props.confirmDialog.error.label,\n          state: ConfirmActionStateLabel.error,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n      }\n    \n    const confirmActionProps : ConfirmActionProps = {\n\n        title: props.confirmDialog.title,\n        states: confirmActionStates,\n        currentState: confirmActionStates.executing,\n        onCancel: () => setConfirm(false),\n        onError: () => setConfirm(false),\n        onSuccess: props.confirmDialog.onSuccess,\n        action:props.confirmDialog.action,\n      \n    }\n\n    return (\n        <> {confirm ? <ConfirmAction {...confirmActionProps} /> : null}\n            <Grid spacing={1} justify=\"space-between\" item xs container direction=\"row\">\n              <Grid item xs={6}>\n                <TextField\n                  onChange={onChangeDtName} \n                  value={dtName}\n                  helperText=\"\"\n                  error={!validDtName} \n                  fullWidth required \n                  label=\"Insert New Digital Twin Name\" \n                  id=\"dt-name\" \n                  type=\"text\" />\n            </Grid>\n            </Grid>\n            <Grid item xs container direction=\"row\" justify=\"space-between\" alignItems=\"center\"> \n              <Grid item xs={6} container direction=\"row\" spacing={2} alignItems=\"center\" justify=\"flex-end\">\n                <Grid item>\n                    <Button onClick={onCancel} color=\"secondary\" variant=\"contained\"><Clear/>{cancelLabel}</Button>\n                </Grid>\n                <Grid>\n                  <Button onClick={confirmButtonAction} color=\"primary\" variant=\"contained\"><Done/>{confirmLabel}</Button>\n                </Grid>\n              </Grid>\n            </Grid>\n        </>\n    )\n}","/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/NewDigitalTwin.tsx",[],"/home/maria/Desktop/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityForm.tsx",["461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490"],"import React, { useState, useCallback, useEffect } from 'react'\r\nimport { FormControl, InputLabel, TextField, Grid, Select, MenuItem, Box, Button,Typography, Chip } from '@material-ui/core'\r\nimport { DigitalTwin , Functionality} from '../../model'\r\nimport { useFunctionBlockStyles } from '../FunctionBlocks/FunctionBlock/style'\r\nimport { VariableList } from '../FunctionBlocks/FunctionBlock/Variable'\r\nimport { setSimpleField, useMountEffect } from '../../utils/main'\r\nimport { Done, Clear, BackspaceOutlined } from '@material-ui/icons'\r\nimport { ReactComponent as UploadIcon } from '../../../icons/Upload.svg'\r\nimport { getFBfromFbtFile, getOrDownloadFunctionBlockCategories } from '../../utils/functionBlock'\r\nimport { ConfirmActionProps, ConfirmActionStateLabel, ConfirmActionAction, ConfirmAction } from '../templates/ConfirmAction/ConfirmAction'\r\nimport { useStore } from '../templates/Store/Store'\r\n\r\ninterface FunctionalityFormProps {\r\n\r\n    // funcName: {\r\n    //   funcName: string\r\n    //   setFuncName: Function\r\n    // },\r\n    // digitalTwin: {\r\n    //   digitalTwin: DigitalTwin\r\n    //   setDigitalTwin: Function\r\n    // }\r\n    cancel: {\r\n        label: string\r\n        action: () => void\r\n    },\r\n    // confirmDialog: {\r\n    //     buttonTitle: string\r\n    //     title: string\r\n    //     initialState: ConfirmActionStateLabel\r\n    //     onSuccess : () => void\r\n    //     start? : {\r\n    //         label: string\r\n    //         positiveLabel: string\r\n    //         negativeLabel: string\r\n    //     }\r\n    //     success: {\r\n    //         label:string\r\n    //         positiveLabel: string\r\n    //     }\r\n    //     error: {\r\n    //         label: string\r\n    //         positiveLabel: string\r\n    //     }\r\n    // },\r\n}\r\n\r\nexport const FunctionalityForm = (props: FunctionalityFormProps) => {\r\n\r\n    /**styles */\r\n    const classes = useFunctionBlockStyles()\r\n\r\n    /**list of digital-twins */\r\n    const {data: digitalTwins, dispatchAction:dispatchDigitalTwinsActions} = useStore('digitalTwins')\r\n    const [validDt,setValidDt] : [boolean, Function] = useState(true)\r\n\r\n    /**Functionality Name */\r\n    // const {funcName, setFuncName} = props.funcName\r\n    // const [validFuncName, setValidFuncName] = useState(true)\r\n    // const onChangeFuncName = useCallback((event:any) => {\r\n\r\n    //   setFuncName(event.target.value.trim())\r\n    //   setValidFuncName(true)\r\n    \r\n    // },[setFuncName])\r\n\r\n    /*Digital Twin*/\r\n    // const {digitalTwin,setDigitalTwin} = props.digitalTwin\r\n\r\n\r\n    /* Buttons */\r\n\r\n    const onCancel = props.cancel.action\r\n    const cancelLabel = props.cancel.label\r\n\r\n    // const confirmLabel = props.confirmDialog.buttonTitle\r\n\r\n    /* Confirmation */\r\n\r\n    // const [confirm, setConfirm] : [boolean, Function] = useState(false)\r\n\r\n    // const validateFields = () : boolean => {\r\n\r\n    //     const cValidFuncName = funcName.trim() !== ''\r\n    //     const cValidDigitalTwin = digitalTwin.dtId !== -1\r\n            \r\n    //     if(!cValidFuncName) setValidFuncName(cValidFuncName)\r\n    //     if(!cValidDigitalTwin ) setValidDt(cValidDigitalTwin)\r\n    \r\n    //     return cValidFuncName && cValidDigitalTwin\r\n    // }\r\n\r\n    // const confirmButtonAction = () => {\r\n\r\n    //     if(validateFields())\r\n    //       setConfirm(true)\r\n    // }\r\n\r\n    // const confirmActionStates = {\r\n    //     start: {\r\n    //         label: props.confirmDialog.start?.label,\r\n    //         positiveLabel: props.confirmDialog.start?.positiveLabel,\r\n    //         negativeLabel: props.confirmDialog.start?.negativeLabel,\r\n    //         state: ConfirmActionStateLabel.start\r\n    //     },\r\n    //     executing: {\r\n    //       label: '',\r\n    //       state: ConfirmActionStateLabel.executing,\r\n    //     },\r\n    //     success: {\r\n    //       label: props.confirmDialog.success.label,\r\n    //       state: ConfirmActionStateLabel.success,\r\n    //       positiveLabel: props.confirmDialog.success.positiveLabel\r\n    //     },\r\n    //     error: {\r\n    //       label: props.confirmDialog.error.label,\r\n    //       state: ConfirmActionStateLabel.error,\r\n    //       positiveLabel: props.confirmDialog.success.positiveLabel\r\n    //     },\r\n    //   }\r\n    \r\n    // const confirmActionProps : ConfirmActionProps = {\r\n\r\n    //     title: props.confirmDialog.title,\r\n    //     states: confirmActionStates,\r\n    //     currentState: confirmActionStates.executing,\r\n    //     onCancel: () => setConfirm(false),\r\n    //     onError: () => setConfirm(false),\r\n    //     onSuccess: props.confirmDialog.onSuccess,\r\n    // }\r\n\r\n    return (\r\n        //  <>  {confirm ? <ConfirmAction {...confirmActionProps} /> : null}\r\n            // <Grid spacing={1} justify=\"space-between\" item xs container direction=\"row\">\r\n            //   <Grid item xs={6}>\r\n            //     <TextField\r\n            //       onChange={onChangeFuncName} \r\n            //       value={funcName}\r\n            //       helperText=\"\"\r\n            //       error={!validFuncName} \r\n            //       fullWidth required \r\n            //       label=\"Type\" \r\n            //       id=\"fb-type\" \r\n            //       type=\"text\" />\r\n            //   </Grid>\r\n            // </Grid>\r\n            // <Grid item xs>\r\n            //     <FormControl fullWidth required>\r\n            //       <InputLabel error={!validDt} id=\"digital-twin-label\">DigitalTwin</InputLabel>\r\n            //       <>\r\n            //         <Select\r\n            //           error={!validDt}\r\n            //           labelId=\"digital-twin-label\"\r\n            //           value={digitalTwin.dtName}\r\n            //           onChange={(event) => {\r\n            //             setValidDt(true)\r\n            //             setDigitalTwin(digitalTwins.filter((dts:DigitalTwin) => event.target.value === dts.dtName)[0])\r\n            //           }} \r\n            //         >\r\n            //           {digitalTwins.map((dts:DigitalTwin, index:number) => <MenuItem key={index} value={dts.dtName}>{dts.dtName}</MenuItem>)}\r\n            //         </Select>\r\n                   \r\n            //       </>\r\n            //     </FormControl>\r\n            //   </Grid>\r\n            <Grid item xs container direction=\"row\" justify=\"space-between\" alignItems=\"center\"> \r\n              <Grid item xs={6} container direction=\"row\" spacing={2} alignItems=\"center\" justify=\"flex-end\">\r\n                <Grid item>\r\n                <Button onClick={onCancel} style={{minWidth:0}} variant=\"text\" size=\"medium\"><BackspaceOutlined fontSize=\"large\"/></Button>\r\n                    {/* <Button onClick={onCancel} color=\"secondary\" variant=\"contained\"><Clear/>{cancelLabel}</Button> */}\r\n                </Grid>\r\n                {/* <Grid>\r\n                  <Button onClick={confirmButtonAction} color=\"primary\" variant=\"contained\"><Done/>{confirmLabel}</Button>\r\n                </Grid> */}\r\n              </Grid>\r\n            </Grid>\r\n      )\r\n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/index.tsx",[],["491","492"],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/serviceWorker.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/App.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/redux/reducers.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/main.ts",["493"],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/redux/actions.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/styles/main.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/socket/socket.ts",["494"],"import { argv } from 'node:process'\nimport socketIOClient from 'socket.io-client'\n\nexport enum SOCKET_EVENT {\n    UPDATED_SC_EVENT = 'smart-component-updated',\n    EDITED_FBI_EVENT = 'smart-component-fbi-updated',\n    INITIAL_DATA = 'initial-data',\n    EDITED_MVI_EVENT = 'smart-component-mvi-updated',\n    UPDATE_BACKEND = 'update-backend',\n    TRIGGER_EVENT = 'trigger-event'\n}\n\nexport class SocketConnection {\n    \n    private host : string \n    private port? : number \n    private namespace : string\n    private base : string\n    private socket? : SocketIOClient.Socket = undefined\n    \n    static resources = {\n        smartComponents: '/smart-component'\n    }\n\n    constructor(namespace:string) {\n        this.host = process.env.REACT_APP_BACKEND_HOST ?? 'localhost'\n        this.port = parseInt(process.env.REACT_APP_SOCKET_PORT ?? '3500') \n        this.namespace = namespace\n        this.base = `${this.host}:${this.port}${this.namespace}`   \n    }\n\n    static getSmartComponentsNamespace() {\n        return this.resources.smartComponents\n    }\n\n    static getSmartComponentNamespace(scId: number) {\n        return `${this.resources.smartComponents}/${scId}`\n    }\n\n    public connect(onConnect: () => void, onDisconnect: () => void, onInitialData?: (data:any) => void, onError?: (error:any) => void, onRecconected?: () => void, onReconnecting?: (time:number) => void) {\n\n        this.socket = socketIOClient(this.base)\n        this.socket.on(\"connect\", () => {\n            onConnect()\n        })\n\n        this.socket.on(\"disconnect\", () => {\n            onDisconnect()\n        })\n\n        this.socket.on(\"connect_error\", (error:any) => {\n            console.error(error) \n            if(onError) onError(error)\n        })\n\n        this.socket.on(\"error\", (error:any) => {\n            console.error(error) \n            console.error(\"error\") \n            if(onError) onError(error)\n        })\n\n        this.socket.on(\"connect_timeout\", (error:any) => {\n            console.error(error) \n            console.error(\"connect_timeout\")\n            if(onError) onError(error) \n        })\n\n        this.socket.on(SOCKET_EVENT.INITIAL_DATA, (data:any) => {\n            if(onInitialData) onInitialData(data)\n        })\n\n        this.socket.on(\"reconnect\", (attemptNumber: number) => {\n            console.log('reconnected at ' + attemptNumber)\n            if(onRecconected) onRecconected()\n        })\n\n        this.socket.on(\"reconnecting\", (attemptNumber: number) => {\n            if(onReconnecting) onReconnecting(attemptNumber)\n        })\n\n    }\n\n    public disconnect() {\n        this.socket?.removeAllListeners()\n        this.socket?.disconnect()\n    }\n\n    public addListener(event: SOCKET_EVENT, listener:(data:any) => void) {\n        this.socket?.on(event,listener)\n    }\n\n    public emit(event: SOCKET_EVENT, data: any) {\n        //console.log(event)\n        this.socket?.emit(event, data , (data: any) => {\n            //console.log(data); \n        })\n    }\n} ","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/NewDigitalTwin.tsx",["495","496","497","498"],"import { useState } from 'react'\r\nimport { Navigator } from '../templates/Navigator/Navigator'\r\nimport { DigitalTwin, AssociatedSmartComponent, SmartComponent } from '../../model/index'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { routes } from '../../App'\r\nimport { ConfirmActionStateLabel } from '../templates/ConfirmAction/ConfirmAction'\r\nimport { RequestResponseState } from '../../services/api/api'\r\nimport { setTimeout } from 'timers'\r\nimport { DigitalTwinForm } from './DigitalTwinForm'\r\nimport { useMountEffect } from '../../utils/main'\r\nimport { useStore } from '../templates/Store/Store'\r\nimport { DigitalTwinActions } from '../../redux/actions'\r\nimport { getOrDownloadDigitalTwins } from '../../utils/digitalTwins'\r\nimport { createDigitalTwin } from '../../services/api/digital-twin'\r\nimport { createAssociatedSmartComponents } from '../../services/api/digital-twin'\r\n\r\nconst dtUserId = 1\r\n\r\nexport const NewDigitalTwin = () => {\r\n\r\n  useMountEffect(() => {\r\n    \r\n    getOrDownloadDigitalTwins(digitalTwins)\r\n      .then((result: DigitalTwin[]) => {\r\n          dispatchDigitalTwinActions(DigitalTwinActions.updateDigitalTwins(result))\r\n      })\r\n      .catch((e:RequestResponseState) => {\r\n          console.error(e)\r\n      })\r\n\r\n  })\r\n\r\n  const {data: digitalTwins, dispatchAction:dispatchDigitalTwinActions} = useStore('digitalTwins')\r\n  \r\n  const [redirectTo, setRedirectTo] : [string, Function] = useState(\"\")\r\n\r\n  const [dtName,setDtName] : [string,Function] = useState('')\r\n  const [associatedSc,setAssociatedSc] : [SmartComponent[],Function] = useState([])\r\n  const [choosenAssociatedSc, setChoosenAssociatedSc] : [AssociatedSmartComponent[] ,Function] = useState([])\r\n\r\n  let dtId = 1\r\n  let idAssociatedSmartComponent = 1\r\n\r\n  const redirectToList = () => setRedirectTo(routes.digitalTwinMonitoring)\r\n\r\n  const buildDigitalTwin = () : DigitalTwin => ({\r\n    dtName, dtId,\r\n    dtUserId,\r\n  })\r\n\r\n  const redirectToListAndUpdateLocal = () => {\r\n    dispatchDigitalTwinActions(DigitalTwinActions.addDigitalTwin(buildDigitalTwin()))\r\n    redirectToList()\r\n  } \r\n  \r\n  const buildAssociatedSmartComponent = (associatedSc : SmartComponent[], dtId: number, i: number) : AssociatedSmartComponent => ({\r\n    scName: associatedSc[i].scName, scDtId: dtId,\r\n    associatedScUserId: 1\r\n  })\r\n  \r\n  const createDigitalTwinAction = () : Promise<string> => {\r\n    \r\n    return new Promise<string>((res:Function, rej:Function)  => {\r\n\r\n      setTimeout(() => {\r\n\r\n        if(associatedSc.length === 0){\r\n          \r\n          createDigitalTwin(dtName)\r\n          .then((result: RequestResponseState) => {\r\n            dtId = result.extra.lastInsertedId\r\n            res('Digital Twin created')\r\n          })\r\n\r\n          .catch((e:RequestResponseState) => rej(e.msg))\r\n\r\n        }\r\n\r\n        else {\r\n\r\n      \r\n          createDigitalTwin(dtName)\r\n          .then((result:RequestResponseState) => {\r\n            dtId = result.extra.lastInsertedId\r\n            res('Digital Twin created')\r\n            let i = 0  \r\n            while(associatedSc.length){         \r\n            const choosenAssociatedSc : AssociatedSmartComponent = buildAssociatedSmartComponent(associatedSc,dtId,i)\r\n            i++\r\n            createAssociatedSmartComponents(choosenAssociatedSc)\r\n            .then((r:RequestResponseState) => {\r\n              idAssociatedSmartComponent= r.extra.lastInsertedId\r\n            }) \r\n            .catch((e:RequestResponseState) => rej(e.msg))\r\n            }\r\n          })\r\n          .catch((e:RequestResponseState) => rej(e.msg))\r\n                    \r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  if(redirectTo !== \"\") \r\n    return <Redirect to={redirectTo} push={true} />\r\n  \r\n  return (\r\n    <Navigator title=\"New Digital Twin\">\r\n      <>\r\n      <DigitalTwinForm \r\n        dtName={{dtName, setDtName}}\r\n        associatedSc = {{associatedSc, setAssociatedSc}}\r\n        cancel={{action: redirectToList, label: 'Cancel'}}\r\n        confirmDialog={{\r\n          buttonTitle: 'Confirm',\r\n          title: 'Creating Digital Twin',\r\n          initialState: ConfirmActionStateLabel.executing,\r\n          action: createDigitalTwinAction,\r\n          onSuccess: redirectToListAndUpdateLocal,\r\n          success: {\r\n            label: '',\r\n            positiveLabel: 'Ok'\r\n          },\r\n          error: {\r\n            label: '',\r\n            positiveLabel: 'Ok'\r\n          },\r\n        }}\r\n      />\r\n      </>\r\n    </Navigator>\r\n  )\r\n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/List/List.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/NewFunctionBlock.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityDetails.tsx",["499","500","501","502","503","504"],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/List/List.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Store/Store.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/SmartComponent/SmartComponent.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/EditFunctionBlock.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/List.tsx",["505","506"],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinMonitoring.tsx",["507","508","509","510","511","512","513","514","515","516","517","518","519","520"],"import React, { useState } from 'react'\r\nimport { Navigator } from '../templates/Navigator/Navigator'\r\nimport { ConfirmAction, ConfirmActionState, ConfirmActionStateLabel, ConfirmActionProps } from '../templates/ConfirmAction/ConfirmAction'\r\nimport { LazyComponent } from '../templates/LazyComponent/LazyComponent'\r\nimport { JPTable } from '../templates/Table/JPTable'\r\nimport { Functionality, DigitalTwin, AssociatedSmartComponent, MonitoredVariable, MonitoredEvent} from '../../model'\r\nimport { useMountEffect } from '../../utils/main'\r\nimport { getOrDownloadDigitalTwins, getOrDownloadFunctionalities, getOrDownloadMonitoredEvents, getOrDownloadMonitoredVariables} from '../../utils/digitalTwins'\r\nimport { getOrDownloadAssociatedSmartComponents } from '../../utils/associatedSmartComponents'\r\nimport { useStore } from '../templates/Store/Store'\r\nimport { FunctionalityActions , DigitalTwinActions, AssociatedSmartComponentActions, MonitoredVariableActions, MonitoredEventActions} from '../../redux/actions'\r\nimport { RequestResponseState } from '../../services/api/api'\r\nimport { TextField, Grid, Button, Box, Dialog, DialogTitle, CircularProgress , Select, InputLabel, MenuItem } from '@material-ui/core'\r\nimport { createFunctionality, createMonitoredEvent, createMonitoredVariable, deleteMonitoredEvent, deleteMonitoredVariable, updateFunctionality } from '../../services/api/digital-twin'\r\nimport { deleteFunctionality} from '../../services/api/digital-twin'\r\nimport { useDialogStyles } from '../FunctionBlockCategories/List/style'\r\nimport { CheckCircle, Error } from '@material-ui/icons'\r\nimport { useFunctionBlockStyles } from '../FunctionBlocks/FunctionBlock/style'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Socket } from 'socket.io-client'\r\n\r\nconst NEW_FUNCTIONALITY_RE = /[a-zA-Z0-9]{3,}/\r\nconst FUNCTION_BLOCK_RE = /[a-zA-Z0-9]{3,}/\r\nconst VARIABLE_RE = /[a-zA-Z0-9]{3,}/\r\nconst EVENT_RE = /[a-zA-Z0-9]{3,}/\r\n\r\nlet functionalityId = -1\r\nlet idMonitoredVariable = -1\r\nlet idMonitoredEvent = -1\r\nconst funcUserId = 1\r\n\r\ninterface MonitoredEventsWithNumber extends MonitoredEvent {\r\n    currentNumber: {\r\n        key: string | undefined\r\n        data: number\r\n    }\r\n}\r\n\r\nconst EditFunctionalityDialog = (props: {func: Functionality, onGood: (newFunc: Functionality) => void, onError: () => void, onCancel: () => void}) => {\r\n\r\n  const [newFuncName, setNewFuncName] : [string,Function] = useState(props.func.funcName)\r\n\r\n  const classes = useDialogStyles()\r\n\r\n  const [sending, setSending] : [boolean, Function] = useState(false)\r\n\r\n  const [result, setResult] : [{done: boolean, good?: boolean, message?: string},Function] = useState({done:false})\r\n\r\n  const action = () => {\r\n\r\n      if(props.func.funcId) {\r\n\r\n          if(!result.done) {\r\n\r\n              setSending(true)\r\n  \r\n              updateFunctionality(props.func)\r\n\r\n                  .then((response: RequestResponseState) => {\r\n                      setResult({done:true, good: true, message: response.msg})\r\n                  })\r\n\r\n                  .catch((error: RequestResponseState) => {\r\n                      setResult({done: true, good: false, message: error.msg})\r\n                  })\r\n\r\n                  .finally(() => setSending(false))\r\n\r\n          }\r\n\r\n          else {\r\n\r\n              if(result.good)\r\n                  props.onGood({...props.func, funcName: newFuncName})\r\n              \r\n              else\r\n                  props.onError()\r\n\r\n          }\r\n\r\n      }\r\n\r\n  }\r\n\r\n  return (\r\n      <Dialog open={true}>\r\n          <DialogTitle>Edit Functionality</DialogTitle>\r\n          <Box className={classes.box}>\r\n              {\r\n                  !result.done \r\n                      ?\r\n                          <TextField \r\n                              disabled={sending}\r\n                              value={newFuncName}\r\n                              onChange={(event) => setNewFuncName(event.target.value)}\r\n                          />\r\n                      :    <Grid container justify=\"center\">\r\n                              <Grid item>\r\n                                  {\r\n                                      result.good \r\n                                          ?   <CheckCircle color=\"primary\" />\r\n                                          :   <Error color=\"error\" />\r\n                                  }\r\n                              </Grid>\r\n                              <Grid item>\r\n                                  <Box className={result.good ? classes.good : classes.error} textAlign=\"center\">{result.message}</Box>\r\n                              </Grid>\r\n                          </Grid> \r\n              }\r\n          </Box>\r\n          <Grid className={classes.buttons} container direction=\"row\" justify=\"space-between\">\r\n              <Grid item>\r\n                  {sending \r\n                      ? <CircularProgress color=\"primary\" />\r\n                      : <Button onClick={action}>Ok</Button>\r\n                  }\r\n              </Grid>\r\n              <Grid item>\r\n                  <Button disabled={sending} onClick={props.onCancel}>Cancel</Button>\r\n              </Grid>\r\n          </Grid>\r\n      </Dialog>\r\n  )\r\n\r\n}\r\n\r\nconst AddFunctionalityDetails = (props: {func: Functionality, onGood: (newFunc: Functionality) => void, onError: () => void, onCancel: () => void}) => {\r\n\r\n    const [newFuncName, setNewFuncName] : [string,Function] = useState(props.func.funcName)\r\n  \r\n    const classes = useDialogStyles()\r\n  \r\n    const [sending, setSending] : [boolean, Function] = useState(false)\r\n  \r\n    const [result, setResult] : [{done: boolean, good?: boolean, message?: string},Function] = useState({done:false})\r\n\r\n    const [fetching,setFetching] = useState(true)\r\n    const {data: associatedSmartComponents, dispatchAction: dispatchAssociatedSmartComponentActions} = useStore('associatedSmartComponents')\r\n    const updateAssociatedSmartComponents = (assScs: AssociatedSmartComponent[]) => dispatchAssociatedSmartComponentActions(AssociatedSmartComponentActions.updateAssociatedSmartComponents(assScs))\r\n    const [error,setError] = useState('')\r\n    \r\n    const [availableSmartComponents, setAvailableSmartComponents] : [AssociatedSmartComponent[] , Function] = useState([])\r\n\r\n    // Recuperar da base de dados os Smart Components Associados ao Digital Twin associado\r\n    useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n\r\n    setFetching(true)\r\n    getOrDownloadAssociatedSmartComponents(associatedSmartComponents)\r\n        .then((result: AssociatedSmartComponent[]) =>  updateAssociatedSmartComponents(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n    })\r\n\r\n    let i = 0\r\n\r\n    while( i < associatedSmartComponents.length ) {\r\n        if(associatedSmartComponents[i].scDtId === props.func.funcdtId){\r\n            availableSmartComponents[i] = associatedSmartComponents[i]\r\n        }\r\n        i++\r\n    }\r\n\r\n    // Escolher um AssociatedSmartComponent de dentro dos disponíveis pelo DT respectivo \r\n    const [smartComponentChoice, setSmartComponentChoice] = useState('')\r\n    const [smartComponentIdChoice, setSmartComponentIdChoice] = useState(0)\r\n\r\n    const handleSmartComponentChoice = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n    setSmartComponentChoice(event.target.value as string);\r\n    let j = 0;\r\n    while(j < associatedSmartComponents.length)\r\n    {\r\n        if(associatedSmartComponents[j].scName === (event.target.value as string))\r\n        {\r\n            setSmartComponentIdChoice(associatedSmartComponents[j].scId)\r\n        }\r\n        j++;\r\n    }\r\n    };\r\n\r\n    //Variáveis e funções de apoio à escolha do Function Block\r\n    const [validFunctionBlock, setValidFunctionBlock] : [boolean,Function] = useState(true)\r\n    const [newFb,setNewFb] : [string,Function] = useState('')\r\n    const isFunctionBlockValid = (fb:string) => NEW_FUNCTIONALITY_RE.test(fb)\r\n\r\n    //Variáveis e funções de apoio à escolha da Variable\r\n    const [validVariable, setValidVariable] : [boolean,Function] = useState(true)\r\n    const [newVariable,setNewVariable] : [string,Function] = useState('')\r\n    const isVariableValid = (variable:string) => VARIABLE_RE.test(variable)\r\n\r\n    const buildMonitoredVariable = (funcId: number | undefined) : MonitoredVariable => ({  \r\n        monitoredVariableName: newVariable, fbAssociated: newFb, \r\n        funcIdAssociated: funcId , idMonitoredVariable: idMonitoredVariable,\r\n        scAssociated: smartComponentChoice\r\n    })\r\n\r\n    //Variáveis e funções de apoio à escolha do Event\r\n    const [validEvent, setValidEvent] : [boolean,Function] = useState(true)\r\n    const [newEvent,setNewEvent] : [string,Function] = useState('')\r\n    const isEventValid = (event:string) => EVENT_RE.test(event)\r\n  \r\n    const buildMonitoredEvent = (funcId: number | undefined) : MonitoredEvent => ({  \r\n        monitoredEventName: newEvent, fbAssociated: newFb, \r\n        funcIdAssociated: funcId , idMonitoredEvent: idMonitoredEvent,\r\n        scAssociated: smartComponentChoice\r\n    })\r\n\r\n    //Função de atualização da database com os dados escolhidos \r\n    const action = () => {    \r\n        \r\n        let funcId = props.func.funcId\r\n        const monitoredVariable: MonitoredVariable = buildMonitoredVariable(funcId)\r\n        const monitoredEvent: MonitoredEvent = buildMonitoredEvent(funcId)\r\n\r\n        console.log(monitoredVariable)\r\n        if(props.func.funcId) {\r\n            \r\n            if(!result.done) {\r\n                \r\n                setSending(true)\r\n\r\n                updateFunctionality(props.func)\r\n  \r\n                    .then((response: RequestResponseState) => {\r\n                        setResult({done:true, good: true, message: response.msg})\r\n                    })\r\n                    .catch((error: RequestResponseState) => {\r\n                        setResult({done: true, good: false, message: error.msg})\r\n                    })\r\n  \r\n                if(newVariable!=''){\r\n\r\n                    createMonitoredVariable(monitoredVariable)\r\n                        .then((response: RequestResponseState) => {\r\n                            setResult({done:true, good: true, message: response.msg})\r\n                        })\r\n                        .catch((error: RequestResponseState) => {\r\n                            setResult({done: true, good: false, message: error.msg})\r\n                        })\r\n                }\r\n                \r\n\r\n                if(newEvent!=''){\r\n\r\n                    createMonitoredEvent(monitoredEvent)\r\n                        .then((response: RequestResponseState) => {\r\n                            setResult({done:true, good: true, message: response.msg})\r\n                        })\r\n                        .catch((error: RequestResponseState) => {\r\n                            setResult({done: true, good: false, message: error.msg})\r\n                        })\r\n                }\r\n\r\n\r\n            }\r\n  \r\n            else {\r\n  \r\n                if(result.good){\r\n                    props.onGood({...props.func, funcName: newFuncName})\r\n                    \r\n                }\r\n                else\r\n                    props.onError()\r\n            }\r\n        }\r\n        props.onCancel()\r\n        document.location.reload(true)\r\n    }\r\n\r\n    return (\r\n        <Dialog open={true}>\r\n            <DialogTitle>Add Functionality Details</DialogTitle>\r\n            <Box className={classes.box}>\r\n            <Grid item> \r\n\r\n                <Grid container item xs>\r\n                    <Grid className={classes.box} spacing={3} item container direction=\"column\" alignItems=\"flex-start\">\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InputLabel id={`smart-component-label-${availableSmartComponents}`}>DINASORE</InputLabel>\r\n                            <Select labelId={`smart-component-label-${availableSmartComponents}`} value={smartComponentChoice} onChange={handleSmartComponentChoice}>\r\n                            {(availableSmartComponents || []).map((sc: any) => {return <MenuItem key={sc.scId} value={sc.scName}>{sc.scName}</MenuItem>})}\r\n                            </Select> \r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Function Block\"\r\n                                helperText={!validFunctionBlock ? FUNCTION_BLOCK_RE.toString() : ''}\r\n                                error={!validFunctionBlock}\r\n                                required\r\n                                onChange={(event) => {\r\n                                    setNewFb(event.target.value)\r\n                                    if(!validFunctionBlock)\r\n                                        setValidFunctionBlock(isFunctionBlockValid(event.target.value.trim()))\r\n                                    }}\r\n                                fullWidth\r\n                                value={newFb}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Variable\"\r\n                                helperText={!validVariable ? VARIABLE_RE.toString() : ''}\r\n                                error={!validVariable}\r\n                                required\r\n                                onChange={(event) => {\r\n                                    setNewVariable(event.target.value)\r\n                                    if(!validVariable)\r\n                                        setValidVariable(isVariableValid(event.target.value.trim()))\r\n                                    }}\r\n                                fullWidth\r\n                                value={newVariable}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Event\"\r\n                                helperText={!validEvent ? EVENT_RE.toString() : ''}\r\n                                error={!validEvent}\r\n                                required\r\n                                onChange={(event) => {\r\n                                    setNewEvent(event.target.value)\r\n                                    if(!validEvent)\r\n                                        setValidEvent(isEventValid(event.target.value.trim()))\r\n                                    }}\r\n                                fullWidth\r\n                                value={newEvent}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid className={classes.buttons} container direction=\"row\" justify=\"space-between\">\r\n                <Grid item>\r\n                    {sending \r\n                        ? <CircularProgress color=\"primary\" />\r\n                        : <Button onClick={action}>Ok</Button>\r\n                    }\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button disabled={sending} onClick={props.onCancel}>Cancel</Button>\r\n                </Grid>\r\n            </Grid>\r\n         </Box>\r\n        </Dialog>\r\n    )\r\n  \r\n}\r\n\r\nexport const DigitalTwinMonitoring = () => {\r\n    \r\n  const classes = useFunctionBlockStyles()\r\n\r\n  const [fetching,setFetching] = useState(true)\r\n  const [error,setError] = useState('')\r\n  const [newFunc,setNewFunc] : [string,Function] = useState('')\r\n\r\n  const [confirmEditing,setConfirmEditing] : [boolean, Function] = useState(false)\r\n  const [confirmAddFunc,setConfirmAddFunc] : [boolean, Function] = useState(false)\r\n\r\n  const [validNewFunc, setValidNewFunc] : [boolean,Function] = useState(true)\r\n\r\n  const errorFetchingFunctionalityState : ConfirmActionState = {\r\n    label: error,\r\n    state: ConfirmActionStateLabel.error,\r\n    positiveLabel: 'Ok'\r\n  }\r\n\r\n  const [redirectTo, setRedirectTo] : [number, Function] = useState(-1)\r\n\r\n  const {data:functionalities, dispatchAction:dispatchFunctionalityActions} = useStore('functionalities')\r\n  const {data:digitalTwins, dispatchAction:dispatchDigitalTwinActions} = useStore('digitalTwins')\r\n  const {data:monitoredVariables, dispatchAction:dispatchMonitoredVariableActions} = useStore('monitoredVariables')\r\n  const {data:monitoredEvents, dispatchAction:dispatchMonitoredEventActions} = useStore('monitoredEvents')\r\n\r\n  const [numberOfMonitoredEvents,setNumberOfMonitoredEvents] : [MonitoredEventsWithNumber[],Function] = useState([])\r\n\r\n  const onCancel = () => setError('')\r\n\r\n  const updateFunctionalities = (funcs: Functionality[]) => dispatchFunctionalityActions(FunctionalityActions.updateFunctionalities(funcs))\r\n  const updateDigitalTwins = (dts: DigitalTwin[]) => dispatchDigitalTwinActions(DigitalTwinActions.updateDigitalTwins(dts))\r\n  const updateMonitoredVariables = (monVars: MonitoredVariable[]) => dispatchMonitoredVariableActions(MonitoredVariableActions.updateMonitoredVariable(monVars))\r\n  const updateMonitoredEvents = (monEvs: MonitoredEvent[]) => dispatchMonitoredEventActions(MonitoredEventActions.updateMonitoredEvent(monEvs))  \r\n  \r\n  const addFunc = () => dispatchFunctionalityActions(FunctionalityActions.addFunctionality({funcId: functionalityId, funcUserId: 1 , funcName: newFunc, funcdtId: 1}))\r\n \r\n  const [editingFunc, setEditingFunc] : [Functionality | null,Function] = useState(null)\r\n  const [addDetailsFunc, setAddDetailsFunc] : [Functionality | null,Function] = useState(null)\r\n\r\n  const indexes = [\r\n    {label: 'Functionality', key: 'funcName'},\r\n    {label: 'Digital Twin', key: 'dtName'},\r\n  ]\r\n\r\n  // Recuperar da base de dados as funcionalidades (Functionality)\r\n  useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n\r\n    setFetching(true)\r\n    getOrDownloadFunctionalities(functionalities)\r\n        .then((result: Functionality[]) => updateFunctionalities(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n  })\r\n\r\n  // Recuperar da base de dados os digital twins (DigitalTwin)\r\n  useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n\r\n    setFetching(true)\r\n    getOrDownloadDigitalTwins(digitalTwins)\r\n        .then((result: DigitalTwin[]) => updateDigitalTwins(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n  })\r\n\r\n  const isFunctionalityValid = (func:string) => NEW_FUNCTIONALITY_RE.test(func)\r\n\r\n  const validateAndCreate = () => {\r\n\r\n  const validFunc = isFunctionalityValid(newFunc)\r\n\r\n    if(!validFunc)\r\n      setValidNewFunc(false)\r\n    else{\r\n        setConfirmAddFunc(true)\r\n    }\r\n     \r\n    \r\n  }\r\n\r\n  const buildFunctionality = () : Functionality => ({\r\n    funcName: newFunc, funcId: functionalityId,\r\n    funcdtId: digitalTwinIdChoice , funcUserId, funcdtName: digitalTwinChoice,\r\n  })\r\n\r\n  const addNewFunctionalityAction = () : Promise<string> => {\r\n\r\n    const functionality : Functionality = buildFunctionality()\r\n\r\n    return new Promise<string>((res:Function, rej:Function)  => {\r\n\r\n        createFunctionality(functionality)\r\n\r\n            .then((result: RequestResponseState) => {\r\n            functionalityId = result.extra.lastInsertedId\r\n                res('Functionality created')\r\n            })\r\n\r\n            .catch((e:RequestResponseState) => rej(e.msg))\r\n\r\n    })\r\n  }\r\n\r\n  const confirmFunctionalityCreationActionStates = {\r\n    start: {\r\n      label: `Confirm creation of new functionality: ${newFunc} ?`,\r\n      positiveLabel: 'Ok',\r\n      negativeLabel: 'Cancel',\r\n      state: ConfirmActionStateLabel.start\r\n    },\r\n    executing: {\r\n      label: '',\r\n      state: ConfirmActionStateLabel.executing,\r\n    },\r\n    success: {\r\n      label: 'Functionality Created',\r\n      state: ConfirmActionStateLabel.success,\r\n      positiveLabel: 'Ok'\r\n    },\r\n    error: {\r\n      label: 'Error Creating Functionality',\r\n      state: ConfirmActionStateLabel.error,\r\n      positiveLabel: 'Ok'\r\n    },\r\n  }\r\n\r\n  const confirmActionProps : ConfirmActionProps = {\r\n\r\n    title: 'Add Functionality',\r\n    states: confirmFunctionalityCreationActionStates,\r\n    currentState: confirmFunctionalityCreationActionStates.start,\r\n    onCancel: () => setConfirmAddFunc(false),\r\n    onError: () => setConfirmAddFunc(false),\r\n    onSuccess: () => {\r\n        addFunc()\r\n        setNewFunc('')\r\n        document.location.reload(true)\r\n    },\r\n    action: addNewFunctionalityAction,\r\n  }\r\n\r\n  const getDataFunctionality = () => functionalities.map((functionality: Functionality) => {\r\n\r\n    return {\r\n          ...functionality,\r\n    }\r\n  })\r\n\r\n   // Recuperar da base de dados os monitoredEvents (MonitoredEvent)\r\n   useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n    \r\n    setFetching(true)\r\n    getOrDownloadMonitoredEvents(monitoredEvents)\r\n        .then((result: MonitoredEvent[]) => updateMonitoredEvents(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n\r\n    })\r\n\r\n    // Recuperar da base de dados as monitoredVariables (MonitoredVariable)\r\n      useMountEffect(() => {\r\n\r\n        setTimeout(() => {\r\n\r\n        setFetching(true)\r\n        getOrDownloadMonitoredVariables(monitoredVariables)\r\n            .then((result: MonitoredVariable[]) => updateMonitoredVariables(result))\r\n            .catch((e:RequestResponseState) => setError(e.msg))\r\n            .finally(() => setFetching(false))\r\n        }, 0)\r\n    })\r\n\r\n  const deleteFunctionalityAction = (func: Functionality) : Promise<any> => {\r\n\r\n    return new Promise(async(res:Function,rej:Function) => {\r\n\r\n        //let monitoredVariablesToDelete = []\r\n        let monitoredEventsToDelete = []\r\n        let i = 0\r\n        \r\n        // while(i < monitoredVariables.length) {\r\n        //     if(monitoredVariables[i].funcIdAssociated === func.funcId){\r\n        //         monitoredVariablesToDelete.push(monitoredVariables[i])\r\n        //     } \r\n        //     i++\r\n        // }   \r\n\r\n        i=0\r\n\r\n        while(i < monitoredEvents.length) {\r\n            if(monitoredEvents[i].funcIdAssociated === func.funcId){\r\n                monitoredEventsToDelete.push(monitoredEvents[i])\r\n            } \r\n            i++\r\n        }  \r\n\r\n        //console.log(monitoredVariablesToDelete)\r\n        console.log(monitoredEventsToDelete)\r\n\r\n        if(!func.funcId) {\r\n            rej('Error')\r\n            return\r\n        }\r\n\r\n        try {\r\n\r\n            const response : RequestResponseState = await deleteFunctionality(func.funcId)\r\n            \r\n            // i=0\r\n            // while(i < monitoredVariablesToDelete.length){\r\n            //     console.log(\"entrei aqui\")\r\n            //     const response1 : RequestResponseState = await deleteMonitoredVariable(monitoredVariablesToDelete[i].idMonitoredVariable)\r\n            //     res(response1)\r\n            //     i++\r\n            // }\r\n\r\n            i=0 \r\n            while(i < monitoredEventsToDelete.length){\r\n                const response1 : RequestResponseState = await deleteMonitoredEvent(monitoredEventsToDelete[i].idMonitoredEvent)\r\n                i++\r\n            }\r\n\r\n            res(response)\r\n          }\r\n\r\n        catch(err) {\r\n            rej(err)\r\n        }\r\n    })\r\n  }\r\n\r\n  //Adicionar Detalhes à Funcionalidade\r\n  const cancelAddDetails = () => setAddDetailsFunc(null);\r\n  const showAddDetails = (func: Functionality) => setAddDetailsFunc(func)\r\n  \r\n  //Editar a Funcionalidade\r\n  const cancelEditing = () => setEditingFunc(null)\r\n  const showEditing = (func: Functionality) => setEditingFunc(func)\r\n\r\n  const onGoodEditing = (editingFunctionality: Functionality) => {\r\n      \r\n    const newFunctionalities = functionalities.map((func: Functionality) => {\r\n\r\n    if(func.funcId === editingFunctionality.funcId)\r\n        return {...func, funcName: editingFunctionality.funcName, funcdtId: editingFunctionality.funcdtId}\r\n    return func\r\n\r\n    })\r\n  \r\n    cancelEditing()\r\n    dispatchFunctionalityActions(FunctionalityActions.updateFunctionalities(newFunctionalities))\r\n  }\r\n\r\n  // Associar um digital twin à nova funcionalidade criada\r\n  const [digitalTwinChoice, setDigitalTwinChoice] = useState('')\r\n  const [digitalTwinIdChoice, setDigitalTwinIdChoice] = useState(0)\r\n\r\n  const handleDigitalTwinChoice = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n    setDigitalTwinChoice(event.target.value as string);\r\n    let i = 0;\r\n    while(i < digitalTwins.length)\r\n    {\r\n        if(digitalTwins[i].dtName === (event.target.value as string))\r\n        {\r\n            setDigitalTwinIdChoice(digitalTwins[i].dtId)\r\n        }\r\n        i++;\r\n    }\r\n   \r\n  };\r\n  \r\n  const redirectToList = (func : Functionality) => {\r\n      setRedirectTo(func.funcId)\r\n  }\r\n  const indexes_test = [\r\n    {label: 'delete', key: 'delete'},\r\n  ]\r\n  \r\n  if(redirectTo !== -1) \r\n  return  <Redirect to={`/functionality-details/${redirectTo}`} push={true}/>\r\n  \r\n  return (\r\n    <Navigator title=\"Digital Twin Monitoring\">\r\n    <> \r\n        {error !== ''\r\n                ? <ConfirmAction title='Fetching Functionalities' currentState={errorFetchingFunctionalityState} states={{error: errorFetchingFunctionalityState}} onCancel={onCancel}/>\r\n                : null \r\n        }\r\n        <LazyComponent loaded={!fetching}>\r\n        <>\r\n            {confirmEditing\r\n                ? <ConfirmAction {...confirmActionProps} /> \r\n                : editingFunc\r\n                ? <EditFunctionalityDialog\r\n                    onGood={onGoodEditing}\r\n                    func={editingFunc}\r\n                    onError={cancelEditing}\r\n                    onCancel={cancelEditing} />\r\n                    : null\r\n            }\r\n            {confirmAddFunc \r\n                ? <ConfirmAction {...confirmActionProps} /> \r\n                : addDetailsFunc\r\n                ?  <AddFunctionalityDetails\r\n                    onGood={onGoodEditing}\r\n                    func={addDetailsFunc}\r\n                    onError={cancelAddDetails}\r\n                    onCancel={cancelAddDetails} />\r\n                    : null\r\n            }\r\n            <Grid container direction=\"column\" spacing={2}>\r\n                <Grid item>\r\n                    <JPTable\r\n                            sortedkey=\"funcName\"\r\n                            data={getDataFunctionality()} \r\n                            updateData={updateFunctionalities} \r\n                            indexes={indexes} \r\n                            tName='Functionality'\r\n                            extra={{\r\n                                delete: {\r\n                                    action: deleteFunctionalityAction,\r\n                                    labelKey: 'funcName',\r\n                                    onSuccessDelete: () => {}\r\n                                },\r\n                                edit: {\r\n                                    action: showEditing\r\n                                },\r\n                                details: {\r\n                                    action: redirectToList\r\n                                },\r\n                                add: {\r\n                                    action: showAddDetails\r\n                                }\r\n                            }} \r\n                    />\r\n                </Grid>\r\n                <Grid item xs>\r\n                    New Functionality\r\n                </Grid>\r\n                <Grid item> \r\n                    <Grid container item xs>\r\n                        <Grid className={classes.box} spacing={1} item container direction=\"row\">\r\n                            <Grid item xs={4}>\r\n                                <TextField\r\n                                    helperText={!validNewFunc ? NEW_FUNCTIONALITY_RE.toString() : ''}\r\n                                    error={!validNewFunc}\r\n                                    label=\"Insert new functionality name\" \r\n                                    required\r\n                                    onChange={(event) => {\r\n                                        setNewFunc(event.target.value)\r\n                                        if(!validNewFunc)\r\n                                            setValidNewFunc(isFunctionalityValid(event.target.value.trim()))\r\n                                    }}\r\n                                    fullWidth\r\n                                    value={newFunc}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={4}>\r\n                                <InputLabel id={`digital-twin-label-${newFunc}`}>Digital Twin</InputLabel>\r\n                                <Select labelId={`digital-twin-label-${newFunc}`} value={digitalTwinChoice} onChange={handleDigitalTwinChoice}>\r\n                                {(digitalTwins || []).map((digitalTwin: any) => {return <MenuItem key={digitalTwin.dtId} value={digitalTwin.dtName}>{digitalTwin.dtName}</MenuItem>})}\r\n                                </Select>\r\n                            </Grid>\r\n                            <Grid container justify=\"flex-end\" spacing={1}>\r\n                                <Grid item>\r\n                                    <Button\r\n                                    color=\"primary\"\r\n                                    variant=\"contained\"\r\n                                    onClick={validateAndCreate}\r\n                                    >\r\n                                    Add Functionality\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs>\r\n                    Insert variable sampling time\r\n                </Grid>\r\n                <Grid item> \r\n                    <Grid container item xs>\r\n                        <Grid className={classes.box} spacing={1} item container direction=\"row\">\r\n                            <Grid item xs={4}>\r\n                                <InputLabel id={`digital-twin-label-${newFunc}`}>Sampling Time</InputLabel>\r\n                                <Select labelId={`digital-twin-label-${newFunc}`} value={digitalTwinChoice} onChange={handleDigitalTwinChoice}>\r\n                                {(digitalTwins || []).map((digitalTwin: any) => {return <MenuItem key={digitalTwin.dtId} value={digitalTwin.dtName}>{digitalTwin.dtName}</MenuItem>})}\r\n                                </Select>\r\n                            </Grid>\r\n                            <Grid container justify=\"flex-end\" spacing={1}>\r\n                                <Grid item>\r\n                                    <Button\r\n                                    color=\"primary\"\r\n                                    variant=\"contained\"\r\n                                    onClick={validateAndCreate}\r\n                                    >\r\n                                    Add Sampling Time\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n        </LazyComponent>\r\n    </>\r\n    </Navigator>\r\n )\r\n}\r\n","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/digitalTwins.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/functionBlock.ts",["521"],"import { xml2js, Element } from \"xml-js\"\nimport { FunctionBlock, InOutType, Variable, Event, EventVariable, FBCategory, Functionality } from \"../model\"\nimport { readLocalFile } from \"./main\"\nimport { getFunctionBlocks, getFunctionBlockCategories } from \"../services/api/function-block\"\nimport { RequestResponseState } from \"../services/api/api\"\n\nexport const getFBfromFbtFile = (file: File) : Promise<FunctionBlock> => {\n\n    return new Promise(async (res:Function, rej:Function) => {\n\n        const result : FunctionBlock = {\n            fbDescription:'',\n            fbExternalDependencies: [],\n            fbFbcId: 1,\n            fbGeneralCategory: '',\n            fbInputEvents: [],\n            fbOutputEvents: [],\n            fbInputVariables: [],\n            fbOutputVariables: [],\n            fbType: '',\n            fbUserId: 1\n        }\n\n        const rejectNotWellFormed = (elementName?: string) =>  {\n            rej('FBT not well formed' + (elementName ? `: Element ${elementName} not well formed` : ''))\n            return false\n        }\n\n        const getFBTypeElement = (fbJs: any) => {\n\n            let fbElement = null\n            for(let i = 0; i < fbJs.elements.length; i++) {\n                const element = fbJs.elements[i]\n                if(element.type === 'element' && element.name === 'FBType') {\n                    fbElement = element\n                    break\n                }\n            }\n            return fbElement\n\n        }\n\n        const verifyMandatoryElements = (fbJs: any) : boolean =>  {\n\n            if(!fbJs.elements || fbJs.elements.length < 2) return rejectNotWellFormed()\n\n            const fbElement = getFBTypeElement(fbJs)\n\n            if(!fbElement) return rejectNotWellFormed()\n\n            if(!(verifyElement(fbElement,'FBType',['Name'],1))) return rejectNotWellFormed('FBType')\n            if(!verifyElement(fbElement.elements[0],'InterfaceList',[],4)) return rejectNotWellFormed('InterfaceList')\n            if(!verifyElement(fbElement.elements[0].elements[0],'EventInputs')) return rejectNotWellFormed('EventInputs')\n            if(!verifyElement(fbElement.elements[0].elements[1],'EventOutputs')) return rejectNotWellFormed('EventOutputs')\n            if(!verifyElement(fbElement.elements[0].elements[2],'InputVars')) return rejectNotWellFormed('InputVars')\n            if(!verifyElement(fbElement.elements[0].elements[3],'OutputVars')) return rejectNotWellFormed('OutputVars')\n\n            return true\n\n        }\n\n        const getVariables = (variableList: any, inOutYpe:InOutType) : {variables:Variable[], varNames: string[]} | undefined => {\n\n            const result : {variables:Variable[], varNames: string[]} = {variables:[], varNames:[]}\n\n            if(!variableList.elements) return result\n\n            for(let i = 0; i < variableList.elements.length; i++) {\n\n                const variable = variableList.elements[i]\n                if(!verifyElement(variable,'VarDeclaration',['Name','Type'])) {\n                    rejectNotWellFormed('VarDeclaration')\n                    return\n                }\n                result.variables.push({\n                    variableDataType: variable.attributes.Type, \n                    variableInoutType: inOutYpe, \n                    variableName: variable.attributes.Name,\n                    variableOpcua: variable.attributes.OpcUa\n                })\n\n                result.varNames.push(variable.attributes.Name)\n                \n            }\n\n            return result\n\n        } \n\n        const getEvents = (eventList: any, inOutYpe:InOutType, variableNames: string[]) : Event[] | undefined => {\n\n            const result : Event[] = []\n            if(!eventList.elements) return result\n\n            for(let i = 0; i < eventList.elements.length; i++) {\n\n                const event = eventList.elements[i]\n                if(!verifyElement(event,'Event',['Name','Type'])) {\n                    rejectNotWellFormed('Event')\n                    return\n                }\n\n                const eventVars : EventVariable[] = []\n\n                if(event.elements) {\n                    \n                    for(let j = 0; j < event.elements.length; j++) {\n\n                        const eventVariable = event.elements[j]\n                        if(!verifyElement(eventVariable,'With',['Var']) || !variableNames.includes(eventVariable.attributes.Var)) {\n                            rejectNotWellFormed('With')\n                            return\n                        }\n                        eventVars.push({\n                            evEventName: event.attributes.Name,\n                            evVariableName: eventVariable.attributes.Var\n                        })\n\n                    }\n                }\n\n                result.push({\n                    eventName: event.attributes.Name, \n                    eventType: event.attributes.Type, \n                    eventInoutType: inOutYpe,\n                    eventVariables: eventVars,\n                    eventOpcua: event.attributes.OpcUa\n                })\n                \n            }\n\n            return result\n\n        } \n\n        try {\n\n            const fbtString = await readLocalFile(file)\n            const fbJs = xml2js(fbtString)\n\n            if(!verifyMandatoryElements(fbJs)) return\n            \n            const fbTypeElement = getFBTypeElement(fbJs)\n\n            result.fbType = fbTypeElement.attributes.Name\n            result.fbGeneralCategory = fbTypeElement.attributes.OpcUa\n\n            const fbInterfaceListElement = fbTypeElement.elements[0]\n            const fbInputVarsElement = fbInterfaceListElement.elements[2]\n            const fbOutputVarsElement = fbInterfaceListElement.elements[3]\n            const fbEventInputsElement = fbInterfaceListElement.elements[0]\n            const fbEventOutputsElement = fbInterfaceListElement.elements[1]\n\n            const fbInputVariables = getVariables(fbInputVarsElement, InOutType.in)\n            const fbOutputVariables = getVariables(fbOutputVarsElement, InOutType.out)\n\n            if(!fbInputVariables || !fbOutputVariables) return \n            \n            const fbInputEvents = getEvents(fbEventInputsElement, InOutType.in,fbInputVariables.varNames)\n            const fbOutputEvents = getEvents(fbEventOutputsElement, InOutType.out,fbOutputVariables.varNames)\n\n            if(!fbInputEvents || !fbOutputEvents) return \n            \n            result.fbInputVariables = fbInputVariables.variables\n            result.fbOutputVariables = fbOutputVariables.variables\n            result.fbInputEvents = fbInputEvents\n            result.fbOutputEvents = fbOutputEvents\n\n            res(result)\n\n        }\n\n        catch(err) {\n            console.error(err)\n            rej('Error reading fbt file')\n        }\n\n    })\n\n}\n\nconst verifyElement = (element: Element,name: string, attributes?: string[], elementsLength?: number, type: 'element' | 'doctype' = 'element') : boolean => {\n    \n    if(!(element.type === type)) return false\n    if(!(element.name === name)) return false\n    \n    if(!!elementsLength) {\n\n        if(!element.elements) return false\n        if(element.elements.length !== elementsLength) return false\n    \n    }\n\n    if(!!attributes && !!attributes.length) {\n        \n        if(!element.attributes) return false\n        \n        for(let i = 0; i < attributes.length; i++) {\n            if(!(attributes[i] in element.attributes)) {\n                return false\n            }\n        }\n        \n    }\n\n    return true\n        \n}\n\nexport const getOrDownloadFunctionBlocks = (fbs: FunctionBlock[]) :  Promise<FunctionBlock[]> => {\n\n    return new Promise((res: Function, rej:Function) => {\n\n        if(fbs.length) \n            res(fbs)\n        else \n            getFunctionBlocks()\n                .then((result:FunctionBlock[]) => res(result))\n                .catch((error: RequestResponseState) => rej(error))\n    })\n\n}\n\nexport const getOrDownloadFunctionBlockCategories = (fbCategories: FBCategory[]) :  Promise<FBCategory[]> => {\n\n    return new Promise((res: Function, rej:Function) => {\n\n        if(fbCategories.length) \n            res(fbCategories)\n        else \n            getFunctionBlockCategories()\n                .then((result:FBCategory[]) => res(result))\n                .catch((error: RequestResponseState) => rej(error))\n    })\n\n}\n\n","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/digital-twin.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/function-block.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinForm.tsx",["522","523","524","525","526","527","528","529","530","531","532","533"],"import React, { useState, useCallback, useEffect } from 'react'\nimport { TextField, Grid, Button, InputLabel, Select, MenuItem, FormControl } from '@material-ui/core'\nimport { AssociatedSmartComponent, SmartComponent } from '../../model'\nimport { useFunctionBlockStyles } from '../FunctionBlocks/FunctionBlock/style'\nimport { Done, Clear } from '@material-ui/icons'\nimport { ConfirmActionProps, ConfirmActionStateLabel, ConfirmActionAction, ConfirmAction } from '../templates/ConfirmAction/ConfirmAction'\nimport { AssociatedSmartComponentActions, SmartComponentActions } from '../../redux/actions'\nimport { useStore } from '../templates/Store/Store'\nimport { getOrDownloadSmartComponents } from '../../utils/smartComponents'\nimport { useMountEffect } from '../../utils/main'\nimport { RequestResponseState } from '../../services/api/api'\nimport { SmartComponentList } from './SmartComponent'\n\nconst updateOnRemoveSmartComponent = (smartComponents: SmartComponent[], smartComponentToRemove: SmartComponent ) : SmartComponent[] => {\n\n  const newSmartComponents : SmartComponent[] = [...smartComponents]\n  newSmartComponents.forEach((sc: SmartComponent) => {\n\n      //sc.scName = sc.scName.filter((smartComponent: SmartComponent) => smartComponent.scName !== smartComponentToRemove.scName)\n\n  })\n\n  return newSmartComponents\n\n}\n\n\ninterface DigitalTwinFormProps {\n\n    dtName: {\n        dtName: string\n        setDtName: Function\n    },\n    associatedSc: {\n        associatedSc: SmartComponent[]\n        setAssociatedSc: Function\n    }\n    cancel: {\n        label: string\n        action: () => void\n    },\n    confirmDialog: {\n        buttonTitle: string\n        title: string\n        initialState: ConfirmActionStateLabel\n        action: ConfirmActionAction\n        onSuccess : () => void\n        start? : {\n            label: string\n            positiveLabel: string\n            negativeLabel: string\n        }\n        success: {\n            label:string\n            positiveLabel: string\n        }\n        error: {\n            label: string\n            positiveLabel: string\n        }\n    },\n    order?: number,\n    newSc?: boolean,\n}\n\nexport const DigitalTwinForm = (props: DigitalTwinFormProps) => {\n\n    /**styles */\n    const classes = useFunctionBlockStyles()\n\n    /**Digital Twin*/\n    const {dtName, setDtName} = props.dtName\n    const [validDtName, setValidDtName] = useState(true)\n    const onChangeDtName = useCallback((event:any) => {\n\n        setDtName(event.target.value.trim())\n        setValidDtName(true)\n    \n      },[setDtName])\n\n    /* Buttons */\n\n    const onCancel = props.cancel.action\n    const cancelLabel = props.cancel.label\n\n    const confirmLabel = props.confirmDialog.buttonTitle\n\n    /* Confirmation */\n\n    const [confirm, setConfirm] : [boolean, Function] = useState(false)\n\n    const validateFields = () : boolean => {\n\n        const cValidDtName = dtName.trim() !== ''\n            \n        if(!cValidDtName) setValidDtName(cValidDtName)\n    \n        return cValidDtName \n    \n    }\n\n    const confirmButtonAction = () => {\n\n        if(validateFields())\n          setConfirm(true)\n    }\n\n    const confirmActionStates = {\n        start: {\n            label: props.confirmDialog.start?.label,\n            positiveLabel: props.confirmDialog.start?.positiveLabel,\n            negativeLabel: props.confirmDialog.start?.negativeLabel,\n            state: ConfirmActionStateLabel.start\n        },\n        executing: {\n          label: '',\n          state: ConfirmActionStateLabel.executing,\n        },\n        success: {\n          label: props.confirmDialog.success.label,\n          state: ConfirmActionStateLabel.success,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n        error: {\n          label: props.confirmDialog.error.label,\n          state: ConfirmActionStateLabel.error,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n      }\n    \n    const confirmActionProps : ConfirmActionProps = {\n\n        title: props.confirmDialog.title,\n        states: confirmActionStates,\n        currentState: confirmActionStates.executing,\n        onCancel: () => setConfirm(false),\n        onError: () => setConfirm(false),\n        onSuccess: props.confirmDialog.onSuccess,\n        action:props.confirmDialog.action,\n      \n    }\n  \n    //Associar um SmartComponent pelo frontend\n    \n    const {data:smartComponents, dispatchAction:dispatchSmartComponentActions} = useStore('smartComponents')\n    const updateSmartComponents = (scs: SmartComponent[]) => dispatchSmartComponentActions(SmartComponentActions.updateSmartComponent(scs))\n\n    const {associatedSc, setAssociatedSc} = props.associatedSc\n\n    const onSmartComponentRemoval = useCallback((smartComponentToRemove: SmartComponent) => {\n\n      setAssociatedSc((prevSmartComponents: SmartComponent[]) =>  updateOnRemoveSmartComponent(prevSmartComponents,smartComponentToRemove))\n\n  }, [setAssociatedSc])\n\n    return (\n      <Grid className={classes.box} spacing={2} container direction=\"column\" component=\"form\">\n        <> {confirm ? <ConfirmAction {...confirmActionProps} /> : null}\n          <Grid spacing={1} justify=\"space-between\" item xs container direction=\"row\">\n            <Grid item xs={6}>\n              <TextField\n                onChange={onChangeDtName} \n                value={dtName}\n                helperText=\"\"\n                error={!validDtName} \n                fullWidth required \n                label=\"New Digital Twin Name\" \n                id=\"dt-name\" \n                type=\"text\" />\n            </Grid>\n          </Grid>\n          <Grid item container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\n            {props.order ?\n            <Grid item xs={1}>\n                {props.order}\n            </Grid>\n            : null\n            }\n            <Grid className={classes.box} spacing={1} item container direction=\"row\">\n                <Grid item xs={6}>\n                  <SmartComponentList onSmartComponentRemoval={onSmartComponentRemoval} setSmartComponents={setAssociatedSc}  title=\"Smart Component\" smartComponents={associatedSc} />\n                </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs container direction=\"row\" justify=\"space-between\" alignItems=\"center\"> \n            <Grid item xs={6} container direction=\"row\" spacing={2} alignItems=\"center\" justify=\"flex-end\">\n              <Grid item>\n                  <Button onClick={onCancel} color=\"secondary\" variant=\"contained\"><Clear/>{cancelLabel}</Button>\n              </Grid>\n              <Grid>\n                <Button onClick={confirmButtonAction} color=\"primary\" variant=\"contained\"><Done/>{confirmLabel}</Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </>\n    </Grid>\n  ) \n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityForm.tsx",["534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563"],"import React, { useState, useCallback, useEffect } from 'react'\r\nimport { FormControl, InputLabel, TextField, Grid, Select, MenuItem, Box, Button,Typography, Chip } from '@material-ui/core'\r\nimport { DigitalTwin , Functionality} from '../../model'\r\nimport { useFunctionBlockStyles } from '../FunctionBlocks/FunctionBlock/style'\r\nimport { VariableList } from '../FunctionBlocks/FunctionBlock/Variable'\r\nimport { setSimpleField, useMountEffect } from '../../utils/main'\r\nimport { Done, Clear, BackspaceOutlined } from '@material-ui/icons'\r\nimport { ReactComponent as UploadIcon } from '../../../icons/Upload.svg'\r\nimport { getFBfromFbtFile, getOrDownloadFunctionBlockCategories } from '../../utils/functionBlock'\r\nimport { ConfirmActionProps, ConfirmActionStateLabel, ConfirmActionAction, ConfirmAction } from '../templates/ConfirmAction/ConfirmAction'\r\nimport { useStore } from '../templates/Store/Store'\r\n\r\ninterface FunctionalityFormProps {\r\n\r\n    cancel: {\r\n        label: string\r\n        action: () => void\r\n    },\r\n}\r\n\r\nexport const FunctionalityForm = (props: FunctionalityFormProps) => {\r\n\r\n    /**styles */\r\n    const classes = useFunctionBlockStyles()\r\n\r\n    /**list of digital-twins */\r\n    const {data: digitalTwins, dispatchAction:dispatchDigitalTwinsActions} = useStore('digitalTwins')\r\n    const [validDt,setValidDt] : [boolean, Function] = useState(true)\r\n\r\n    /**Functionality Name */\r\n    // const {funcName, setFuncName} = props.funcName\r\n    // const [validFuncName, setValidFuncName] = useState(true)\r\n    // const onChangeFuncName = useCallback((event:any) => {\r\n\r\n    //   setFuncName(event.target.value.trim())\r\n    //   setValidFuncName(true)\r\n    \r\n    // },[setFuncName])\r\n\r\n    /*Digital Twin*/\r\n    // const {digitalTwin,setDigitalTwin} = props.digitalTwin\r\n\r\n\r\n    /* Buttons */\r\n\r\n    const onCancel = props.cancel.action\r\n    const cancelLabel = props.cancel.label\r\n\r\n    // const confirmLabel = props.confirmDialog.buttonTitle\r\n\r\n    /* Confirmation */\r\n\r\n    // const [confirm, setConfirm] : [boolean, Function] = useState(false)\r\n\r\n    // const validateFields = () : boolean => {\r\n\r\n    //     const cValidFuncName = funcName.trim() !== ''\r\n    //     const cValidDigitalTwin = digitalTwin.dtId !== -1\r\n            \r\n    //     if(!cValidFuncName) setValidFuncName(cValidFuncName)\r\n    //     if(!cValidDigitalTwin ) setValidDt(cValidDigitalTwin)\r\n    \r\n    //     return cValidFuncName && cValidDigitalTwin\r\n    // }\r\n\r\n    // const confirmButtonAction = () => {\r\n\r\n    //     if(validateFields())\r\n    //       setConfirm(true)\r\n    // }\r\n\r\n    // const confirmActionStates = {\r\n    //     start: {\r\n    //         label: props.confirmDialog.start?.label,\r\n    //         positiveLabel: props.confirmDialog.start?.positiveLabel,\r\n    //         negativeLabel: props.confirmDialog.start?.negativeLabel,\r\n    //         state: ConfirmActionStateLabel.start\r\n    //     },\r\n    //     executing: {\r\n    //       label: '',\r\n    //       state: ConfirmActionStateLabel.executing,\r\n    //     },\r\n    //     success: {\r\n    //       label: props.confirmDialog.success.label,\r\n    //       state: ConfirmActionStateLabel.success,\r\n    //       positiveLabel: props.confirmDialog.success.positiveLabel\r\n    //     },\r\n    //     error: {\r\n    //       label: props.confirmDialog.error.label,\r\n    //       state: ConfirmActionStateLabel.error,\r\n    //       positiveLabel: props.confirmDialog.success.positiveLabel\r\n    //     },\r\n    //   }\r\n    \r\n    // const confirmActionProps : ConfirmActionProps = {\r\n\r\n    //     title: props.confirmDialog.title,\r\n    //     states: confirmActionStates,\r\n    //     currentState: confirmActionStates.executing,\r\n    //     onCancel: () => setConfirm(false),\r\n    //     onError: () => setConfirm(false),\r\n    //     onSuccess: props.confirmDialog.onSuccess,\r\n    // }\r\n\r\n    return (\r\n        //  <>  {confirm ? <ConfirmAction {...confirmActionProps} /> : null}\r\n            // <Grid spacing={1} justify=\"space-between\" item xs container direction=\"row\">\r\n            //   <Grid item xs={6}>\r\n            //     <TextField\r\n            //       onChange={onChangeFuncName} \r\n            //       value={funcName}\r\n            //       helperText=\"\"\r\n            //       error={!validFuncName} \r\n            //       fullWidth required \r\n            //       label=\"Type\" \r\n            //       id=\"fb-type\" \r\n            //       type=\"text\" />\r\n            //   </Grid>\r\n            // </Grid>\r\n            // <Grid item xs>\r\n            //     <FormControl fullWidth required>\r\n            //       <InputLabel error={!validDt} id=\"digital-twin-label\">DigitalTwin</InputLabel>\r\n            //       <>\r\n            //         <Select\r\n            //           error={!validDt}\r\n            //           labelId=\"digital-twin-label\"\r\n            //           value={digitalTwin.dtName}\r\n            //           onChange={(event) => {\r\n            //             setValidDt(true)\r\n            //             setDigitalTwin(digitalTwins.filter((dts:DigitalTwin) => event.target.value === dts.dtName)[0])\r\n            //           }} \r\n            //         >\r\n            //           {digitalTwins.map((dts:DigitalTwin, index:number) => <MenuItem key={index} value={dts.dtName}>{dts.dtName}</MenuItem>)}\r\n            //         </Select>\r\n                   \r\n            //       </>\r\n            //     </FormControl>\r\n            //   </Grid>\r\n            <Grid item xs container direction=\"row\" justify=\"space-between\" alignItems=\"center\"> \r\n              <Grid item xs={6} container direction=\"row\" spacing={2} alignItems=\"center\" justify=\"flex-end\">\r\n                <Grid item>\r\n                <Button onClick={onCancel} style={{minWidth:0}} variant=\"text\" size=\"medium\"><BackspaceOutlined fontSize=\"large\"/></Button>\r\n                    {/* <Button onClick={onCancel} color=\"secondary\" variant=\"contained\"><Clear/>{cancelLabel}</Button> */}\r\n                </Grid>\r\n                {/* <Grid>\r\n                  <Button onClick={confirmButtonAction} color=\"primary\" variant=\"contained\"><Done/>{confirmLabel}</Button>\r\n                </Grid> */}\r\n              </Grid>\r\n            </Grid>\r\n      )\r\n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Navigator/Navigator.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/ConfirmAction.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/LazyComponent/LazyComponent.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/FunctionBlockForm.tsx",["564","565","566"],"import React, { useState, useCallback, useEffect } from 'react'\nimport { FormControl, InputLabel, TextField, Grid, Select, MenuItem, Box, Button,Typography, Chip } from '@material-ui/core'\nimport { FBGeneralCategory, Variable, InOutType, Event, EventVariable, FunctionBlock, FBCategory, ExternalDependency } from '../../../model'\nimport { useFunctionBlockStyles } from './style'\nimport { VariableList } from './Variable'\nimport { setSimpleField, useMountEffect } from '../../../utils/main'\nimport { EventList } from './Event'\nimport { Done, Clear } from '@material-ui/icons'\nimport { ReactComponent as UploadIcon } from '../../../icons/Upload.svg'\nimport { getFBfromFbtFile, getOrDownloadFunctionBlockCategories } from '../../../utils/functionBlock'\nimport { ConfirmActionProps, ConfirmActionStateLabel, ConfirmActionAction, ConfirmAction } from '../../templates/ConfirmAction/ConfirmAction'\nimport { useStore } from '../../templates/Store/Store'\nimport { FunctionBlockCategoriesActions } from '../../../redux/actions'\nimport { SmartComponentList } from '../../DigitalTwin/SmartComponent'\n\nconst DEFAULT_VALUES = {\n    eventType: 'Event'\n}\n\nconst updateEventVariablesOnRemoveVariable = (events:Event[], variableToRemove:Variable, ) : Event[] => {\n\n    const newEvents : Event[] = [...events]\n    newEvents.forEach((event: Event) => {\n\n        event.eventVariables = event.eventVariables.filter((ev: EventVariable) => ev.evVariableName !== variableToRemove.variableName)\n\n    })\n\n    return newEvents\n\n}\n\nconst updateEventVariablesOnUpdateVariable = (events:Event[], oldVariable:Variable,variableEdited:Variable) : Event[] => {\n\n    const newEvents : Event[] = [...events]\n    newEvents.forEach((event: Event) => {\n\n      event.eventVariables = event.eventVariables.map((ev: EventVariable) => {\n        if(ev.evVariableName === oldVariable.variableName)\n          return {\n            evVariableName: variableEdited.variableName,\n            evEventName: event.eventName\n          }\n        else\n          return ev\n      }) \n\n    })\n\n    return newEvents\n\n}\n\ninterface FunctionBlockFormProps {\n\n    fbType: {\n        fbType: string\n        setFbType: Function\n    },\n    fbGeneralCategory: {\n        fbGeneralCategory: '' | FBGeneralCategory\n        setfbGeneralCategory: Function\n    },\n    fbCategory: {\n      fbCategory: FBCategory\n      setFbCategory: Function\n    }\n    fbDescription: {\n        fbDescription: string\n        setFbDescription: Function\n    },\n    fbInputVariables: {\n        fbInputVariables: Variable[]\n        setFbInputVariables: Function\n    }\n    fbOutputVariables: {\n        fbOutputVariables: Variable[]\n        setFbOutputVariables: Function\n    },\n    fbInputEvents: {\n        fbInputEvents: Event[]\n        setFbInputEvents: Function\n    }\n    fbOutputEvents: {\n        fbOutputEvents: Event[]\n        setFbOutputEvents: Function\n    },\n    fbExternalDependencies: {\n      fbExternalDependencies: ExternalDependency[]\n      setFbExternalDependencies: Function\n    }\n    fbImplFile: {\n        fbImplFile: File\n        setFbImplFile: Function\n    },\n    cancel: {\n        label: string\n        action: () => void\n    },\n    confirmDialog: {\n        buttonTitle: string\n        title: string\n        initialState: ConfirmActionStateLabel\n        action: ConfirmActionAction\n        onSuccess : () => void\n        start? : {\n            label: string\n            positiveLabel: string\n            negativeLabel: string\n        }\n        success: {\n            label:string\n            positiveLabel: string\n        }\n        error: {\n            label: string\n            positiveLabel: string\n        }\n    },\n    byPassFields?: {\n      fbImplFile: boolean\n    }\n}\n\nexport const FunctionBlockForm = (props: FunctionBlockFormProps) => {\n\n    /**styles */\n    const classes = useFunctionBlockStyles()\n\n    /**list of categories */\n    const {data: functionBlockCategories, dispatchAction:dispatchFunctionBlockCategoriesActions} = useStore('functionBlockCategories')\n\n    const [validCategory,setValidCategory] : [boolean, Function] = useState(true)\n\n    /**Fb type */\n    const {fbType, setFbType} = props.fbType\n    const [validType, setValidType] = useState(true)\n    const onChangeFBType = useCallback((event:any) => {\n\n        setFbType(event.target.value.trim())\n        setValidType(true)\n    \n      },[setFbType])\n\n    /**FB General Category */\n    const {fbGeneralCategory, setfbGeneralCategory} = props.fbGeneralCategory\n    const [validGeneralCategory, setValidGeneralCategory] = useState(true)\n    const [generalCategoryNames,setGeneralCategoryNames] : [string[],Function] = useState([...Object.values(FBGeneralCategory), ''])\n    \n    /**Db Description */\n    const {fbCategory,setFbCategory} = props.fbCategory\n\n    /**Db Description */\n    const {fbDescription,setFbDescription} = props.fbDescription\n    const [validDescription, setValidDescription] = useState(true)\n\n    /* Variables and Events */\n    const {fbInputVariables, setFbInputVariables} = props.fbInputVariables\n    const {fbOutputVariables, setFbOutputVariables} = props.fbOutputVariables\n    \n    const getEmptyEvent = (type:InOutType) : Event => ({\n        eventId: -1,\n        eventOpcua: \"\",\n        eventInoutType: type,\n        eventName: '',\n        eventType:DEFAULT_VALUES.eventType,\n        eventVariables: [] \n    })\n\n    const [newInputEvent,setNewInputEvent] : [Event,Function] = useState(getEmptyEvent(InOutType.in))\n    const [newOutputEvent,setNewOutputEvent] : [Event,Function] = useState(getEmptyEvent(InOutType.out))\n\n    const {fbInputEvents, setFbInputEvents} = props.fbInputEvents\n    const {fbOutputEvents, setFbOutputEvents} = props.fbOutputEvents\n\n    /** Variable Update and Edition */\n    \n    const onInputVariableRemoval = useCallback((variableToRemove: Variable) => {\n\n        setFbInputEvents((prevEvents: Event[]) => updateEventVariablesOnRemoveVariable(prevEvents,variableToRemove))\n        setNewInputEvent((prevEvent:Event) => updateEventVariablesOnRemoveVariable([prevEvent],variableToRemove)[0])\n\n    }, [setFbInputEvents])\n\n    const onOutputVariableRemoval = useCallback((variableToRemove: Variable) => {\n\n        setFbOutputEvents((prevEvents: Event[]) => updateEventVariablesOnRemoveVariable(prevEvents,variableToRemove))\n        setNewOutputEvent((prevEvent: Event) => updateEventVariablesOnRemoveVariable([prevEvent],variableToRemove)[0])\n    \n    }, [setFbOutputEvents])\n\n\n    const onInputVariableEdition = useCallback((oldVariable:Variable, newVariable: Variable) => {\n\n        setFbInputEvents((prevEvents: Event[]) => updateEventVariablesOnUpdateVariable(prevEvents,oldVariable,newVariable))\n        setNewInputEvent((prevNewEvent: Event) => updateEventVariablesOnUpdateVariable([prevNewEvent],oldVariable,newVariable)[0])\n    \n    },[setFbInputEvents])\n    \n      const onOutputVariableEdition = useCallback((oldVariable:Variable, newVariable: Variable) => {\n    \n        setFbOutputEvents((prevEvents: Event[]) => updateEventVariablesOnUpdateVariable(prevEvents,oldVariable,newVariable))\n        setNewOutputEvent((pevEvent: Event) => updateEventVariablesOnUpdateVariable([pevEvent],oldVariable,newVariable)[0])\n    \n    },[setFbOutputEvents])\n\n\n    /* Event edition */\n\n    const addNewInputEvent = useCallback(() => {\n\n        setFbInputEvents((prevEvents: Event[]) => [...prevEvents, newInputEvent])\n        setNewInputEvent(getEmptyEvent(InOutType.in))\n    \n    },[newInputEvent, setFbInputEvents])\n    \n    const addNewOutputEvent = useCallback(() => {\n\n        setFbOutputEvents((prevEvents: Event[]) => [...prevEvents, newOutputEvent])\n        setNewOutputEvent(getEmptyEvent(InOutType.out))\n\n    },[newOutputEvent, setFbOutputEvents])\n    \n    const removeInputEvent = useCallback((eventToRemove: Event) => setFbInputEvents((prevEvents:Event[]) => prevEvents.filter((event:Event) => event !== eventToRemove)), [setFbInputEvents]) \n    const removeOutputEvent = useCallback((eventToRemove: Event) => setFbOutputEvents((prevEvents:Event[]) => prevEvents.filter((event:Event) => event !== eventToRemove)), [setFbOutputEvents]) \n    \n    const setEvent = (type:InOutType) => (event:Event,index:number) => {\n    \n        const setFunction = type === InOutType.in ? setFbInputEvents : setFbOutputEvents\n    \n        setFunction((prevEvents:Event[]) => {\n    \n          const newEvents : Event[] = [...prevEvents]\n          newEvents[index] = event\n          return newEvents\n        \n        })\n    \n    }\n\n    const setInputEvent = useCallback(setEvent(InOutType.in),[])\n    const setOutputEvent = useCallback(setEvent(InOutType.out),[])\n\n    /* Dependencies */\n\n    const {fbExternalDependencies, setFbExternalDependencies} = props.fbExternalDependencies\n    const [currentDependency, setCurrentDependency] : [string,Function] = useState('')\n\n    const addDependency = useCallback(() => {\n\n      setFbExternalDependencies((prevDependencies: ExternalDependency[]) => {\n\n        const name = currentDependency.trim()\n        setCurrentDependency('')\n        if(name === '' || prevDependencies.filter((ed: ExternalDependency) => ed.edName === name).length)\n          return prevDependencies\n        return [...prevDependencies, {edName: currentDependency}]\n      })\n\n    }, [setFbExternalDependencies, currentDependency])\n\n    const deleteDependency = useCallback((ed: ExternalDependency) => () => {\n\n      setFbExternalDependencies((prevDependencies: ExternalDependency[]) => prevDependencies.filter((cEd:ExternalDependency) => cEd.edName !== ed.edName))\n\n    }, [setFbExternalDependencies])\n\n    const onChangeCurrentDependency = useCallback((event: any) => setCurrentDependency(event.target.value), [])\n\n    /* Implementation File */\n\n    const {fbImplFile, setFbImplFile} = props.fbImplFile\n    const [validFile, setValidFile] = useState(true)\n\n    const changeImplFile = (event:any) => {\n\n        if(event.target.files.length > 0) {\n          setFbImplFile(event.target.files[0])\n          setValidFile(true)\n        }\n    \n    }\n\n    /* FBT file reading */\n\n    const [errorReadingFBT,setErrorReadingFBT] : [{msg:string, err: boolean, file:boolean},Function] = useState({msg:'', err: false, file:false})\n    \n    const loadFiles = useCallback((fileList: FileList) => {\n\n        if(fileList.length > 0) {\n    \n          let fbt: File | undefined = undefined\n          let py : File | undefined = undefined\n    \n          for(let i = 0; i < fileList.length; i++) {\n    \n            let file = fileList[i]\n    \n            if(/.*.(fbt|xml)$/.test(file.name)) \n              fbt = file\n            else if (/.*.py$/.test(file.name))\n              py = file\n             \n            if(fbt && py)\n              break\n          }\n\n          if(!fbt && !py) {\n            setErrorReadingFBT({file:true, err:true, msg:'Only .fbt and .xml files for fb definition or .py files for fb implementation'})\n            return\n          }\n    \n          else {\n    \n            if(fbt) {\n    \n              getFBfromFbtFile(fbt)\n                .then((result: FunctionBlock) => {\n        \n                  setFbType(result.fbType)\n                  setFbDescription(result.fbType)\n                  setfbGeneralCategory(result.fbGeneralCategory)\n                  setFbInputVariables(result.fbInputVariables)\n                  setFbOutputVariables(result.fbOutputVariables)\n                  setFbInputEvents(result.fbInputEvents)\n                  setFbOutputEvents(result.fbOutputEvents)\n        \n                  setValidType(true)\n                  setValidDescription(true)\n                  setValidGeneralCategory(!!result.fbGeneralCategory)\n                  setErrorReadingFBT({err:false,msg:'',file:true})\n        \n                })\n                .catch((error) => {\n                  console.error(error)\n                  setErrorReadingFBT({file:true,err: true, msg:error.toString()})\n        \n                })\n            }\n    \n            if(py) {\n              setFbImplFile(py)\n              setValidFile(true)\n    \n            }\n    \n          }\n        }\n    \n    }, [setFbDescription,setFbImplFile,setFbInputEvents,setFbInputVariables,setFbOutputEvents,setFbOutputVariables,setFbType,setfbGeneralCategory])\n\n    const onChangeFBTFile = useCallback((event:any) => loadFiles(event.target.files),[loadFiles])\n\n    /* Dropping Files */\n    const addPreventWindowToOpenFile = () => {\n        window.addEventListener('dragover', preventDefaultAction)\n        window.addEventListener('drop',preventDefaultAction)\n    }\n    \n    const removePreventWindowToOpenFile = () => {\n        window.removeEventListener('dragover', preventDefaultAction)\n        window.removeEventListener('drop',preventDefaultAction)\n    } \n     \n    const preventDefaultAction = (event:any) => event.preventDefault()\n    const changeGeneralCategory = useCallback((category: FBGeneralCategory | \"\") => {\n\n      const valid = category !== ''\n\n      if(valid)  \n        setGeneralCategoryNames(Object.values(FBGeneralCategory))\n      \n      setfbGeneralCategory(category)\n      setValidGeneralCategory(true)\n\n    },[setfbGeneralCategory])\n      \n    useMountEffect(() => {\n      \n      addPreventWindowToOpenFile()\n      getOrDownloadFunctionBlockCategories(functionBlockCategories)\n        .then((result: FBCategory[]) => {\n          dispatchFunctionBlockCategoriesActions(FunctionBlockCategoriesActions.updateFunctionBlockCategories(result))\n        })\n        .catch((err) => console.error(err))\n\n    },removePreventWindowToOpenFile)\n    useEffect(() => changeGeneralCategory(fbGeneralCategory),[changeGeneralCategory,fbGeneralCategory])\n\n    const onDropFiles = useCallback((event:any) => loadFiles(event.dataTransfer.files),[loadFiles])\n\n    /* Buttons */\n\n    const onCancel = props.cancel.action\n    const cancelLabel = props.cancel.label\n\n    const confirmLabel = props.confirmDialog.buttonTitle\n\n    /* Confirmation */\n\n    const [confirm, setConfirm] : [boolean, Function] = useState(false)\n\n    const validateFields = () : boolean => {\n\n        const cValidType = fbType.trim() !== ''\n        const cValidDescription = fbDescription.trim() !== ''\n        const cValidGeneralCategory = !!fbGeneralCategory\n        const cValidCategory = fbCategory.fbcId !== -1\n        const cValidFile = !!props.byPassFields?.fbImplFile || fbImplFile.name !== ''  \n            \n        if(!cValidType) setValidType(cValidType)\n        if(!cValidDescription) setValidDescription(cValidDescription)\n        if(!cValidGeneralCategory) setValidGeneralCategory(cValidGeneralCategory)\n        if(!cValidCategory) setValidCategory(cValidCategory)\n        if(!cValidFile) setValidFile(cValidFile)\n    \n        return cValidType && cValidGeneralCategory && cValidCategory && cValidDescription && cValidFile\n    \n    }\n\n    const confirmButtonAction = () => {\n\n        if(validateFields())\n          setConfirm(true)\n    }\n\n    const confirmActionStates = {\n        start: {\n            label: props.confirmDialog.start?.label,\n            positiveLabel: props.confirmDialog.start?.positiveLabel,\n            negativeLabel: props.confirmDialog.start?.negativeLabel,\n            state: ConfirmActionStateLabel.start\n        },\n        executing: {\n          label: '',\n          state: ConfirmActionStateLabel.executing,\n        },\n        success: {\n          label: props.confirmDialog.success.label,\n          state: ConfirmActionStateLabel.success,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n        error: {\n          label: props.confirmDialog.error.label,\n          state: ConfirmActionStateLabel.error,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n      }\n    \n    const confirmActionProps : ConfirmActionProps = {\n\n        title: props.confirmDialog.title,\n        states: confirmActionStates,\n        currentState: confirmActionStates.executing,\n        onCancel: () => setConfirm(false),\n        onError: () => setConfirm(false),\n        onSuccess: props.confirmDialog.onSuccess,\n        action:props.confirmDialog.action,\n      \n    }\n\n    return (\n        <> {confirm ? <ConfirmAction {...confirmActionProps} /> : null}\n          <Grid onDrop={onDropFiles} spacing={2} container direction=\"column\" component=\"form\">\n            <Grid item container alignItems=\"center\" justify={errorReadingFBT.file ? 'space-between' : 'flex-end'} direction=\"row\">\n              {errorReadingFBT.file ?\n              <Grid item>\n                {errorReadingFBT.err ? <Typography color=\"error\">{errorReadingFBT.msg}</Typography> : <Done fontSize=\"small\" />}\n              </Grid>\n              : null}\n              <Grid item>\n                <input onChange={onChangeFBTFile} value=\"\" accept=\".xml,.fbt\" type=\"file\" id=\"raised-button-file\" hidden />\n                  <label htmlFor=\"raised-button-file\">\n                    <Button variant=\"outlined\" component=\"span\" size=\"small\">\n                      Choose fbt file for form auto completion\n                    </Button>\n                  </label> \n              </Grid>\n            </Grid>\n            <Grid spacing={1} justify=\"space-between\" item xs container direction=\"row\">\n              <Grid item xs={6}>\n                <TextField\n                  onChange={onChangeFBType} \n                  value={fbType}\n                  helperText=\"\"\n                  error={!validType} \n                  fullWidth required \n                  label=\"Type\" \n                  id=\"fb-type\" \n                  type=\"text\" />\n              </Grid>\n              <Grid item xs>\n                <FormControl fullWidth required>\n                  <InputLabel error={!validCategory} id=\"category-label\">Category</InputLabel>\n                  <>\n                    <Select\n                      error={!validCategory}\n                      labelId=\"category-label\"\n                      value={fbCategory.fbcName}\n                      onChange={(event) => {\n                        setValidCategory(true)\n                        setFbCategory(functionBlockCategories.filter((cat:FBCategory) => event.target.value === cat.fbcName)[0])\n                      }} \n                    >\n                      {functionBlockCategories.map((cat:FBCategory, index:number) => <MenuItem key={index} value={cat.fbcName}>{cat.fbcName}</MenuItem>)}\n                    </Select>\n                   \n                  </>\n                </FormControl>\n              </Grid>\n              <Grid item xs>\n                <FormControl fullWidth required>\n                  <InputLabel error={!validGeneralCategory} id=\"gen-category-label\">General Category</InputLabel>\n                  <Select\n                    error={!validGeneralCategory} \n                    labelId=\"gen-category-label\"\n                    value={fbGeneralCategory || ''}\n                    onChange={(event:any) => {\n                      setValidGeneralCategory(true)\n                      changeGeneralCategory(event.target.value)\n                    }}\n                  >\n                    {generalCategoryNames.map((cat:any, index:number) => <MenuItem key={index} value={cat}>{cat}</MenuItem>)}\n                  </Select>\n                </FormControl>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              <TextField \n                helperText=\"\" \n                variant=\"standard\" \n                fullWidth \n                required \n                multiline \n                rowsMax=\"4\" \n                label=\"Description\" \n                id=\"description\" \n                type=\"text\"\n                error={!validDescription} \n                onChange={setSimpleField(setFbDescription, () => setValidDescription(true))} \n                value={fbDescription}/>\n            </Grid>\n            <Grid item xs>\n              Variables\n            </Grid>\n            <Grid container item xs>\n              <Grid className={classes.box} spacing={1} item container direction=\"row\">\n                <Grid item xs={6}>\n                  <VariableList onVariableEdition={onInputVariableEdition} onVariableRemoval={onInputVariableRemoval} setVariables={setFbInputVariables} inOutType={InOutType.in} title=\"Input\" variables={fbInputVariables} />\n                </Grid>\n                <Grid item xs={6}>\n                  <VariableList onVariableEdition={onOutputVariableEdition} onVariableRemoval={onOutputVariableRemoval} setVariables={setFbOutputVariables} inOutType={InOutType.out} title=\"Output\" variables={fbOutputVariables} />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              Events\n            </Grid>\n            <Grid container item xs>\n              <Grid className={classes.box} spacing={1} item container direction=\"row\">\n                <Grid item xs={6}>\n                  <EventList setEvent={setInputEvent} removeEvent={removeInputEvent} addNewEvent={addNewInputEvent} setEvents={setFbInputEvents} newEvent={newInputEvent} setNewEvent={setNewInputEvent} variables={fbInputVariables} inOutType={InOutType.in} title=\"Input\" events={fbInputEvents} />\n                </Grid>\n                <Grid item xs={6}>\n                  <EventList setEvent={setOutputEvent} removeEvent={removeOutputEvent} addNewEvent={addNewOutputEvent} setEvents={setFbOutputEvents} newEvent={newOutputEvent} setNewEvent={setNewOutputEvent} variables={fbOutputVariables} inOutType={InOutType.out} title=\"Output\" events={fbOutputEvents} />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              Dependencies\n            </Grid>\n            <Grid container xs item>\n              <Grid item container className={classes.box} alignItems=\"center\" justify=\"space-between\">\n                <Grid item container direction=\"row\" spacing={1} alignItems=\"flex-end\">\n                  <Grid item xs={6}>\n                    <TextField\n                        onChange={onChangeCurrentDependency} \n                        value={currentDependency}\n                        helperText=\"\"\n                        fullWidth \n                        label=\"New Dependency\" \n                        id=\"fb-new-dependency\" \n                        type=\"text\" />\n                  </Grid>\n                  <Grid item>\n                    <Button onClick={addDependency} className={classes.varEvButton} size=\"small\" variant=\"contained\">+</Button>\n                  </Grid>\n                </Grid>\n                <Grid container className={`${classes.box} ${classes.dependenciesBox}`} item>\n                  {fbExternalDependencies.length ?\n                    fbExternalDependencies.map((ed: ExternalDependency, index: number) => (\n                      <Chip key={index} className={classes.dependency} label={ed.edName} onDelete={deleteDependency(ed)} />\n                    )) : 'No Dependencies'\n                  }\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs container direction=\"row\" justify=\"space-between\" alignItems=\"center\"> \n              <Grid item xs={6}>\n                  <input onChange={changeImplFile} value=\"\" required accept=\".py\" type=\"file\" id=\"button-file\" hidden />\n                  <label htmlFor=\"button-file\">\n                    <TextField\n                      className={classes.tfFile}\n                      label=\"Implementation File\"\n                      required={!props.byPassFields?.fbImplFile}\n                      error={!validFile}\n                      disabled={true}\n                      value={fbImplFile.name} \n                      InputProps={{\n                        startAdornment: (\n                          <Box pb={1} mr={1}>\n                            <Button variant=\"outlined\" component=\"span\">\n                              <UploadIcon className={classes.icon} />\n                            </Button>\n                          </Box> \n                        )\n                      }} />\n                  </label>\n              </Grid>\n              <Grid item xs={6} container direction=\"row\" spacing={2} alignItems=\"center\" justify=\"flex-end\">\n                <Grid item>\n                    <Button onClick={onCancel} color=\"secondary\" variant=\"contained\"><Clear/>{cancelLabel}</Button>\n                </Grid>\n                <Grid>\n                  <Button onClick={confirmButtonAction} color=\"primary\" variant=\"contained\"><Done/>{confirmLabel}</Button>\n                </Grid>\n              </Grid>\n            </Grid>\n            \n          </Grid>\n        </>\n      )\n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Table/JPTable.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Gauge.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Bars.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/api.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Event.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Variable.tsx",["567"],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/index.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Search/SearchableList.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/DigitalTwin.ts",["568","569"],"import { Event, Variable } from \"./EventVariable\";\r\nimport { User } from \"./User\";\r\n\r\nexport interface DigitalTwin {\r\n    dtId?: number\r\n    dtName: string\r\n    dtUser?: User\r\n    dtUserId: number\r\n    functionalities? : string[]\r\n    associatedSmartComponents? : string[]\r\n} \r\n\r\nexport interface Functionality {\r\n    funcId?: number\r\n    funcName: string\r\n    dt?: DigitalTwin\r\n    funcdtName?: string\r\n    funcdtId: number\r\n    //state:number\r\n    funcUser?: User\r\n    funcUserId: number\r\n    funcscId?: number\r\n    funcscName?: string\r\n    /* funcMonitoredInputEvents: Event[]\r\n    funcMonitoredOutputEvents: Event[]\r\n    funcMonitoredInputVariables: Variable[]\r\n    funcMonitoredOutputVariables: Variable[] */\r\n} ","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/Tables.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/User.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/FunctionBlock.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/SmartComponent.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/EventVariable.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/Error.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/smartComponents.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/smart-component.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/AssociatedSmartComponent.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/associatedSmartComponents.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/SmartComponent.tsx",["570","571","572","573","574","575","576","577","578"],"import React, { useEffect, useState, useCallback } from 'react'\nimport { useFunctionBlockStyles } from \"../FunctionBlocks/FunctionBlock/style\"\nimport { Variable, DataType, InOutType, SmartComponent, AssociatedSmartComponent } from \"../../model/index\"\nimport { Grid, FormControl, InputLabel, Select, Button, MenuItem } from \"@material-ui/core\"\nimport { useMountEffect } from '../../utils/main'\nimport { getOrDownloadSmartComponents } from '../../utils/smartComponents'\nimport { RequestResponseState } from '../../services/api/api'\nimport { useStore } from '../templates/Store/Store'\nimport { SmartComponentActions } from '../../redux/actions'\n\ninterface SmartComponentProps {\n  setSmartComponents: Function\n  smartComponents: SmartComponent[]\n  title: string\n  onSmartComponentRemoval: (smartComponent: SmartComponent) => void\n}\n\nexport const SmartComponentList = React.memo((props: SmartComponentProps) => {\n  \n  const {smartComponents,setSmartComponents,onSmartComponentRemoval} = props\n\n  const classes = useFunctionBlockStyles()\n\n  const newSc : SmartComponent = {\n    scId: -1,\n    scName: \"\",\n    scAddress: \"\",\n    scPort: -1,\n  }\n\n  const [newSmartComponent,setNewSmartComponent] : [SmartComponent,Function] = useState(newSc)\n\n  const setSmartComponent = useCallback((smartComponent: SmartComponent , index:number) => {\n\n    setSmartComponents((prevScs: SmartComponent[]) => {\n\n      const oldSmartComponent : SmartComponent = prevScs[index]\n      const newSmartComponents : SmartComponent[] = [...prevScs]\n      newSmartComponents[index] = smartComponent\n      return newSmartComponents\n\n    }) \n\n  },[setSmartComponents])\n\n  const addSmartComponent = useCallback((scToAdd: SmartComponent) => {\n    \n    setSmartComponents((prevSmartComponents: SmartComponent[]) =>[...prevSmartComponents, scToAdd])\n    setNewSmartComponent(newSc)\n\n  }, [setSmartComponents,newSc]) \n\n  const removeSmartComponent = useCallback((smartComponentToRemove:SmartComponent) => {\n    setSmartComponents((prevSmartComponents: SmartComponent[]) => prevSmartComponents.filter((smartComponent:SmartComponent,index:number) => smartComponent !== smartComponentToRemove))\n    onSmartComponentRemoval(smartComponentToRemove)\n  },[onSmartComponentRemoval,setSmartComponents]) \n\n  return (\n    <Grid container direction=\"column\">\n      <Grid item>{props.title}</Grid>\n      <Grid item className={classes.box}>\n        {smartComponents.map((smartComponent:SmartComponent, index:number) => <SmartComponentRow key={index} index={index} addRemoveSmartComponent={removeSmartComponent} setSmartComponent={setSmartComponent} smartComponent={smartComponent} newSc={false} />)}\n        <SmartComponentRow index={-1} addRemoveSmartComponent={addSmartComponent} setSmartComponent={setNewSmartComponent} smartComponent={newSmartComponent} newSc={true}  />\n      </Grid> \n    </Grid>\n  )\n})\n\ninterface SmartComponentRowProps {\n  index: number \n  addRemoveSmartComponent: (smartComponent: SmartComponent) => void\n  setSmartComponent:Function\n  smartComponent: SmartComponent\n  newSc: boolean\n  order?: number\n}\n\nconst SmartComponentRow = React.memo((props: SmartComponentRowProps) => {\n\n  const classes = useFunctionBlockStyles()\n\n  const [validName,setValidName] = useState(\"\")\n\n  const [fetching,setFetching] = useState(true)\n  const {data:smartComponents, dispatchAction:dispatchSmartComponentActions} = useStore('smartComponents')\n  const updateSmartComponents = (scs: SmartComponent[]) => dispatchSmartComponentActions(SmartComponentActions.updateSmartComponent(scs))\n  const [error,setError] = useState('')\n\n  const isValid = useCallback(() => props.smartComponent.scName !== '', [props.smartComponent])\n\n  const action = () => {\n\n    if(!isValid() && props.newSc) \n      setValidName(\"Mandatory\")\n    \n    else\n      props.addRemoveSmartComponent(props.smartComponent)\n    \n  }\n  const validate = useCallback(() => {\n    \n    !isValid() ? setValidName(\"Mandatory\") : setValidName('')\n\n  },[isValid]) \n\n  useEffect(() => {if(!props.newSc) validate()}, [props.smartComponent.scName, props.newSc, validate])\n\n  const updateField = (field:string) => (event:any) => {\n\n    props.setSmartComponent({...props.smartComponent, [field]: event.target.value},props.index)\n  \n  }\n\n    // Recuperar diretamente da comunicação OPC-UA os smart_components disponíveis (SmartComponent)\n    useMountEffect(() => {\n\n      setTimeout(() => {\n  \n      setFetching(true)\n      getOrDownloadSmartComponents(smartComponents)\n          .then((result: SmartComponent[]) => updateSmartComponents(result))\n          .catch((e:RequestResponseState) => setError(e.msg))\n          .finally(() => setFetching(false))\n      }, 0)\n      })\n  \n\n  return (\n    <Grid item container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\n      { props.order ?\n      <Grid item xs={1}>\n          {props.order}\n      </Grid>\n      : null\n      }\n      <Grid item xs={3}>\n        <FormControl fullWidth required>\n          <InputLabel id={`smart-component-label-${props.smartComponent.scName}`}></InputLabel>\n          <Select\n            labelId={`smart-component-label-${props.smartComponent.scName}`}\n            value={props.smartComponent.scName}\n            onChange={updateField('scName')}\n          >\n            {(smartComponents || []).map((smartComponent: any) => {return <MenuItem key={smartComponent.scId} value={smartComponent.scName}>{smartComponent.scName}</MenuItem>})}\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid item xs={1}>\n        <Button \n          className={classes.varEvButton} \n          size=\"small\" \n          variant=\"contained\"\n          onClick={action}\n        >\n        {props.newSc ? '+' : 'x' }</Button>\n      </Grid>\n    </Grid>\n  )\n  }\n ,(prevProps:SmartComponentRowProps, nextProps: SmartComponentRowProps) => prevProps.smartComponent === nextProps.smartComponent\n)\n","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/MonitoredVariable.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/MonitoredEvent.ts",[],{"ruleId":"579","replacedBy":"580"},{"ruleId":"581","replacedBy":"582"},{"ruleId":"583","severity":1,"message":"584","line":12,"column":22,"nodeType":"585","endLine":12,"endColumn":24,"suggestions":"586"},{"ruleId":"587","severity":1,"message":"588","line":12,"column":110,"nodeType":"589","messageId":"590","endLine":12,"endColumn":121},{"ruleId":"587","severity":1,"message":"591","line":12,"column":123,"nodeType":"589","messageId":"590","endLine":12,"endColumn":128},{"ruleId":"587","severity":1,"message":"592","line":12,"column":130,"nodeType":"589","messageId":"590","endLine":12,"endColumn":144},{"ruleId":"587","severity":1,"message":"593","line":116,"column":25,"nodeType":"589","messageId":"590","endLine":116,"endColumn":39},{"ruleId":"587","severity":1,"message":"594","line":220,"column":25,"nodeType":"589","messageId":"590","endLine":220,"endColumn":42},{"ruleId":"587","severity":1,"message":"595","line":1,"column":10,"nodeType":"589","messageId":"590","endLine":1,"endColumn":16},{"ruleId":"587","severity":1,"message":"596","line":1,"column":18,"nodeType":"589","messageId":"590","endLine":1,"endColumn":22},{"ruleId":"587","severity":1,"message":"597","line":2,"column":10,"nodeType":"589","messageId":"590","endLine":2,"endColumn":15},{"ruleId":"587","severity":1,"message":"598","line":6,"column":22,"nodeType":"589","messageId":"590","endLine":6,"endColumn":35},{"ruleId":"587","severity":1,"message":"599","line":17,"column":10,"nodeType":"589","messageId":"590","endLine":17,"endColumn":38},{"ruleId":"587","severity":1,"message":"600","line":2,"column":80,"nodeType":"589","messageId":"590","endLine":2,"endColumn":93},{"ruleId":"583","severity":1,"message":"601","line":240,"column":27,"nodeType":"589","endLine":240,"endColumn":38},{"ruleId":"583","severity":1,"message":"601","line":241,"column":28,"nodeType":"589","endLine":241,"endColumn":39},{"ruleId":"587","severity":1,"message":"602","line":11,"column":49,"nodeType":"589","messageId":"590","endLine":11,"endColumn":69},{"ruleId":"587","severity":1,"message":"603","line":11,"column":71,"nodeType":"589","messageId":"590","endLine":11,"endColumn":74},{"ruleId":"587","severity":1,"message":"604","line":11,"column":76,"nodeType":"589","messageId":"590","endLine":11,"endColumn":82},{"ruleId":"583","severity":1,"message":"605","line":21,"column":9,"nodeType":"606","endLine":27,"endColumn":4},{"ruleId":"587","severity":1,"message":"607","line":1,"column":10,"nodeType":"589","messageId":"590","endLine":1,"endColumn":15},{"ruleId":"587","severity":1,"message":"608","line":1,"column":17,"nodeType":"589","messageId":"590","endLine":1,"endColumn":25},{"ruleId":"587","severity":1,"message":"609","line":1,"column":40,"nodeType":"589","messageId":"590","endLine":1,"endColumn":49},{"ruleId":"587","severity":1,"message":"610","line":42,"column":11,"nodeType":"589","messageId":"590","endLine":42,"endColumn":18},{"ruleId":"587","severity":1,"message":"611","line":1,"column":27,"nodeType":"589","messageId":"590","endLine":1,"endColumn":38},{"ruleId":"587","severity":1,"message":"609","line":1,"column":40,"nodeType":"589","messageId":"590","endLine":1,"endColumn":49},{"ruleId":"587","severity":1,"message":"588","line":2,"column":10,"nodeType":"589","messageId":"590","endLine":2,"endColumn":21},{"ruleId":"587","severity":1,"message":"612","line":2,"column":23,"nodeType":"589","messageId":"590","endLine":2,"endColumn":33},{"ruleId":"587","severity":1,"message":"613","line":2,"column":35,"nodeType":"589","messageId":"590","endLine":2,"endColumn":44},{"ruleId":"587","severity":1,"message":"614","line":2,"column":52,"nodeType":"589","messageId":"590","endLine":2,"endColumn":58},{"ruleId":"587","severity":1,"message":"615","line":2,"column":60,"nodeType":"589","messageId":"590","endLine":2,"endColumn":68},{"ruleId":"587","severity":1,"message":"616","line":2,"column":70,"nodeType":"589","messageId":"590","endLine":2,"endColumn":73},{"ruleId":"587","severity":1,"message":"617","line":2,"column":82,"nodeType":"589","messageId":"590","endLine":2,"endColumn":92},{"ruleId":"587","severity":1,"message":"618","line":2,"column":94,"nodeType":"589","messageId":"590","endLine":2,"endColumn":98},{"ruleId":"587","severity":1,"message":"619","line":3,"column":10,"nodeType":"589","messageId":"590","endLine":3,"endColumn":21},{"ruleId":"587","severity":1,"message":"600","line":3,"column":24,"nodeType":"589","messageId":"590","endLine":3,"endColumn":37},{"ruleId":"587","severity":1,"message":"620","line":5,"column":10,"nodeType":"589","messageId":"590","endLine":5,"endColumn":22},{"ruleId":"587","severity":1,"message":"621","line":6,"column":10,"nodeType":"589","messageId":"590","endLine":6,"endColumn":24},{"ruleId":"587","severity":1,"message":"622","line":6,"column":26,"nodeType":"589","messageId":"590","endLine":6,"endColumn":40},{"ruleId":"587","severity":1,"message":"623","line":7,"column":10,"nodeType":"589","messageId":"590","endLine":7,"endColumn":14},{"ruleId":"587","severity":1,"message":"597","line":7,"column":16,"nodeType":"589","messageId":"590","endLine":7,"endColumn":21},{"ruleId":"587","severity":1,"message":"624","line":8,"column":28,"nodeType":"589","messageId":"590","endLine":8,"endColumn":38},{"ruleId":"587","severity":1,"message":"625","line":9,"column":10,"nodeType":"589","messageId":"590","endLine":9,"endColumn":26},{"ruleId":"587","severity":1,"message":"626","line":9,"column":28,"nodeType":"589","messageId":"590","endLine":9,"endColumn":64},{"ruleId":"587","severity":1,"message":"627","line":10,"column":10,"nodeType":"589","messageId":"590","endLine":10,"endColumn":28},{"ruleId":"587","severity":1,"message":"628","line":10,"column":30,"nodeType":"589","messageId":"590","endLine":10,"endColumn":53},{"ruleId":"587","severity":1,"message":"629","line":10,"column":55,"nodeType":"589","messageId":"590","endLine":10,"endColumn":74},{"ruleId":"587","severity":1,"message":"630","line":10,"column":76,"nodeType":"589","messageId":"590","endLine":10,"endColumn":89},{"ruleId":"587","severity":1,"message":"610","line":51,"column":11,"nodeType":"589","messageId":"590","endLine":51,"endColumn":18},{"ruleId":"587","severity":1,"message":"631","line":54,"column":18,"nodeType":"589","messageId":"590","endLine":54,"endColumn":30},{"ruleId":"587","severity":1,"message":"632","line":54,"column":47,"nodeType":"589","messageId":"590","endLine":54,"endColumn":74},{"ruleId":"587","severity":1,"message":"633","line":55,"column":12,"nodeType":"589","messageId":"590","endLine":55,"endColumn":19},{"ruleId":"587","severity":1,"message":"634","line":55,"column":20,"nodeType":"589","messageId":"590","endLine":55,"endColumn":30},{"ruleId":"587","severity":1,"message":"635","line":74,"column":11,"nodeType":"589","messageId":"590","endLine":74,"endColumn":22},{"ruleId":"579","replacedBy":"636"},{"ruleId":"581","replacedBy":"637"},{"ruleId":"583","severity":1,"message":"584","line":12,"column":22,"nodeType":"585","endLine":12,"endColumn":24,"suggestions":"638"},{"ruleId":"587","severity":1,"message":"639","line":1,"column":10,"nodeType":"589","messageId":"590","endLine":1,"endColumn":14},{"ruleId":"587","severity":1,"message":"640","line":39,"column":10,"nodeType":"589","messageId":"590","endLine":39,"endColumn":29},{"ruleId":"587","severity":1,"message":"641","line":39,"column":31,"nodeType":"589","messageId":"590","endLine":39,"endColumn":53},{"ruleId":"642","severity":1,"message":"643","line":91,"column":19,"nodeType":"644","messageId":"645","endLine":93,"endColumn":14},{"ruleId":"587","severity":1,"message":"646","line":92,"column":15,"nodeType":"589","messageId":"590","endLine":92,"endColumn":41},{"ruleId":"587","severity":1,"message":"647","line":54,"column":12,"nodeType":"589","messageId":"590","endLine":54,"endColumn":20},{"ruleId":"587","severity":1,"message":"648","line":55,"column":12,"nodeType":"589","messageId":"590","endLine":55,"endColumn":17},{"ruleId":"587","severity":1,"message":"649","line":59,"column":12,"nodeType":"589","messageId":"590","endLine":59,"endColumn":37},{"ruleId":"587","severity":1,"message":"650","line":214,"column":29,"nodeType":"589","messageId":"590","endLine":214,"endColumn":49},{"ruleId":"651","severity":1,"message":"652","line":219,"column":38,"nodeType":"653","messageId":"654","endLine":219,"endColumn":40},{"ruleId":"587","severity":1,"message":"610","line":230,"column":11,"nodeType":"589","messageId":"590","endLine":230,"endColumn":18},{"ruleId":"587","severity":1,"message":"598","line":6,"column":22,"nodeType":"589","messageId":"590","endLine":6,"endColumn":35},{"ruleId":"587","severity":1,"message":"599","line":17,"column":10,"nodeType":"589","messageId":"590","endLine":17,"endColumn":38},{"ruleId":"587","severity":1,"message":"655","line":14,"column":100,"nodeType":"589","messageId":"590","endLine":14,"endColumn":123},{"ruleId":"587","severity":1,"message":"656","line":20,"column":10,"nodeType":"589","messageId":"590","endLine":20,"endColumn":16},{"ruleId":"587","severity":1,"message":"593","line":129,"column":25,"nodeType":"589","messageId":"590","endLine":129,"endColumn":39},{"ruleId":"587","severity":1,"message":"647","line":137,"column":12,"nodeType":"589","messageId":"590","endLine":137,"endColumn":20},{"ruleId":"587","severity":1,"message":"648","line":140,"column":12,"nodeType":"589","messageId":"590","endLine":140,"endColumn":17},{"ruleId":"587","severity":1,"message":"657","line":142,"column":38,"nodeType":"589","messageId":"590","endLine":142,"endColumn":65},{"ruleId":"587","severity":1,"message":"658","line":168,"column":12,"nodeType":"589","messageId":"590","endLine":168,"endColumn":34},{"ruleId":"651","severity":1,"message":"659","line":233,"column":31,"nodeType":"653","messageId":"654","endLine":233,"endColumn":33},{"ruleId":"651","severity":1,"message":"659","line":245,"column":28,"nodeType":"653","messageId":"654","endLine":245,"endColumn":30},{"ruleId":"587","severity":1,"message":"594","line":360,"column":25,"nodeType":"589","messageId":"590","endLine":360,"endColumn":42},{"ruleId":"587","severity":1,"message":"660","line":378,"column":10,"nodeType":"589","messageId":"590","endLine":378,"endColumn":33},{"ruleId":"587","severity":1,"message":"661","line":378,"column":34,"nodeType":"589","messageId":"590","endLine":378,"endColumn":60},{"ruleId":"587","severity":1,"message":"662","line":579,"column":23,"nodeType":"589","messageId":"590","endLine":579,"endColumn":55},{"ruleId":"587","severity":1,"message":"663","line":635,"column":9,"nodeType":"589","messageId":"590","endLine":635,"endColumn":21},{"ruleId":"587","severity":1,"message":"600","line":2,"column":80,"nodeType":"589","messageId":"590","endLine":2,"endColumn":93},{"ruleId":"587","severity":1,"message":"609","line":1,"column":40,"nodeType":"589","messageId":"590","endLine":1,"endColumn":49},{"ruleId":"587","severity":1,"message":"612","line":2,"column":35,"nodeType":"589","messageId":"590","endLine":2,"endColumn":45},{"ruleId":"587","severity":1,"message":"614","line":2,"column":47,"nodeType":"589","messageId":"590","endLine":2,"endColumn":53},{"ruleId":"587","severity":1,"message":"615","line":2,"column":55,"nodeType":"589","messageId":"590","endLine":2,"endColumn":63},{"ruleId":"587","severity":1,"message":"588","line":2,"column":65,"nodeType":"589","messageId":"590","endLine":2,"endColumn":76},{"ruleId":"587","severity":1,"message":"664","line":3,"column":10,"nodeType":"589","messageId":"590","endLine":3,"endColumn":34},{"ruleId":"587","severity":1,"message":"665","line":7,"column":10,"nodeType":"589","messageId":"590","endLine":7,"endColumn":41},{"ruleId":"587","severity":1,"message":"666","line":9,"column":10,"nodeType":"589","messageId":"590","endLine":9,"endColumn":38},{"ruleId":"587","severity":1,"message":"622","line":10,"column":10,"nodeType":"589","messageId":"590","endLine":10,"endColumn":24},{"ruleId":"587","severity":1,"message":"667","line":11,"column":10,"nodeType":"589","messageId":"590","endLine":11,"endColumn":30},{"ruleId":"587","severity":1,"message":"668","line":145,"column":17,"nodeType":"589","messageId":"590","endLine":145,"endColumn":32},{"ruleId":"587","severity":1,"message":"669","line":146,"column":11,"nodeType":"589","messageId":"590","endLine":146,"endColumn":32},{"ruleId":"587","severity":1,"message":"611","line":1,"column":27,"nodeType":"589","messageId":"590","endLine":1,"endColumn":38},{"ruleId":"587","severity":1,"message":"609","line":1,"column":40,"nodeType":"589","messageId":"590","endLine":1,"endColumn":49},{"ruleId":"587","severity":1,"message":"588","line":2,"column":10,"nodeType":"589","messageId":"590","endLine":2,"endColumn":21},{"ruleId":"587","severity":1,"message":"612","line":2,"column":23,"nodeType":"589","messageId":"590","endLine":2,"endColumn":33},{"ruleId":"587","severity":1,"message":"613","line":2,"column":35,"nodeType":"589","messageId":"590","endLine":2,"endColumn":44},{"ruleId":"587","severity":1,"message":"614","line":2,"column":52,"nodeType":"589","messageId":"590","endLine":2,"endColumn":58},{"ruleId":"587","severity":1,"message":"615","line":2,"column":60,"nodeType":"589","messageId":"590","endLine":2,"endColumn":68},{"ruleId":"587","severity":1,"message":"616","line":2,"column":70,"nodeType":"589","messageId":"590","endLine":2,"endColumn":73},{"ruleId":"587","severity":1,"message":"617","line":2,"column":82,"nodeType":"589","messageId":"590","endLine":2,"endColumn":92},{"ruleId":"587","severity":1,"message":"618","line":2,"column":94,"nodeType":"589","messageId":"590","endLine":2,"endColumn":98},{"ruleId":"587","severity":1,"message":"619","line":3,"column":10,"nodeType":"589","messageId":"590","endLine":3,"endColumn":21},{"ruleId":"587","severity":1,"message":"600","line":3,"column":24,"nodeType":"589","messageId":"590","endLine":3,"endColumn":37},{"ruleId":"587","severity":1,"message":"620","line":5,"column":10,"nodeType":"589","messageId":"590","endLine":5,"endColumn":22},{"ruleId":"587","severity":1,"message":"621","line":6,"column":10,"nodeType":"589","messageId":"590","endLine":6,"endColumn":24},{"ruleId":"587","severity":1,"message":"622","line":6,"column":26,"nodeType":"589","messageId":"590","endLine":6,"endColumn":40},{"ruleId":"587","severity":1,"message":"623","line":7,"column":10,"nodeType":"589","messageId":"590","endLine":7,"endColumn":14},{"ruleId":"587","severity":1,"message":"597","line":7,"column":16,"nodeType":"589","messageId":"590","endLine":7,"endColumn":21},{"ruleId":"587","severity":1,"message":"624","line":8,"column":28,"nodeType":"589","messageId":"590","endLine":8,"endColumn":38},{"ruleId":"587","severity":1,"message":"625","line":9,"column":10,"nodeType":"589","messageId":"590","endLine":9,"endColumn":26},{"ruleId":"587","severity":1,"message":"626","line":9,"column":28,"nodeType":"589","messageId":"590","endLine":9,"endColumn":64},{"ruleId":"587","severity":1,"message":"627","line":10,"column":10,"nodeType":"589","messageId":"590","endLine":10,"endColumn":28},{"ruleId":"587","severity":1,"message":"628","line":10,"column":30,"nodeType":"589","messageId":"590","endLine":10,"endColumn":53},{"ruleId":"587","severity":1,"message":"629","line":10,"column":55,"nodeType":"589","messageId":"590","endLine":10,"endColumn":74},{"ruleId":"587","severity":1,"message":"630","line":10,"column":76,"nodeType":"589","messageId":"590","endLine":10,"endColumn":89},{"ruleId":"587","severity":1,"message":"610","line":24,"column":11,"nodeType":"589","messageId":"590","endLine":24,"endColumn":18},{"ruleId":"587","severity":1,"message":"631","line":27,"column":18,"nodeType":"589","messageId":"590","endLine":27,"endColumn":30},{"ruleId":"587","severity":1,"message":"632","line":27,"column":47,"nodeType":"589","messageId":"590","endLine":27,"endColumn":74},{"ruleId":"587","severity":1,"message":"633","line":28,"column":12,"nodeType":"589","messageId":"590","endLine":28,"endColumn":19},{"ruleId":"587","severity":1,"message":"634","line":28,"column":20,"nodeType":"589","messageId":"590","endLine":28,"endColumn":30},{"ruleId":"587","severity":1,"message":"635","line":47,"column":11,"nodeType":"589","messageId":"590","endLine":47,"endColumn":22},{"ruleId":"587","severity":1,"message":"670","line":14,"column":10,"nodeType":"589","messageId":"590","endLine":14,"endColumn":28},{"ruleId":"583","severity":1,"message":"601","line":241,"column":27,"nodeType":"589","endLine":241,"endColumn":38},{"ruleId":"583","severity":1,"message":"601","line":242,"column":28,"nodeType":"589","endLine":242,"endColumn":39},{"ruleId":"583","severity":1,"message":"605","line":21,"column":9,"nodeType":"606","endLine":27,"endColumn":4},{"ruleId":"587","severity":1,"message":"607","line":1,"column":10,"nodeType":"589","messageId":"590","endLine":1,"endColumn":15},{"ruleId":"587","severity":1,"message":"608","line":1,"column":17,"nodeType":"589","messageId":"590","endLine":1,"endColumn":25},{"ruleId":"587","severity":1,"message":"608","line":3,"column":10,"nodeType":"589","messageId":"590","endLine":3,"endColumn":18},{"ruleId":"587","severity":1,"message":"671","line":3,"column":20,"nodeType":"589","messageId":"590","endLine":3,"endColumn":28},{"ruleId":"587","severity":1,"message":"672","line":3,"column":30,"nodeType":"589","messageId":"590","endLine":3,"endColumn":39},{"ruleId":"587","severity":1,"message":"664","line":3,"column":57,"nodeType":"589","messageId":"590","endLine":3,"endColumn":81},{"ruleId":"583","severity":1,"message":"673","line":24,"column":9,"nodeType":"606","endLine":29,"endColumn":4},{"ruleId":"587","severity":1,"message":"674","line":37,"column":13,"nodeType":"589","messageId":"590","endLine":37,"endColumn":47},{"ruleId":"587","severity":1,"message":"675","line":82,"column":10,"nodeType":"589","messageId":"590","endLine":82,"endColumn":19},{"ruleId":"587","severity":1,"message":"647","line":84,"column":10,"nodeType":"589","messageId":"590","endLine":84,"endColumn":18},{"ruleId":"587","severity":1,"message":"648","line":87,"column":10,"nodeType":"589","messageId":"590","endLine":87,"endColumn":15},"no-native-reassign",["676"],"no-negated-in-lhs",["677"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'actionOnMount' and 'actionOnUnmount'. Either include them or remove the dependency array. If 'actionOnMount' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["678"],"@typescript-eslint/no-unused-vars","'FormControl' is defined but never used.","Identifier","unusedVar","'Input' is defined but never used.","'FormHelperText' is defined but never used.","'setNewFuncName' is assigned a value but never used.","'setConfirmEditing' is assigned a value but never used.","'Button' is defined but never used.","'Grid' is defined but never used.","'Clear' is defined but never used.","'FunctionBlock' is defined but never used.","'functionBlockCategoryReducer' is defined but never used.","'Functionality' is defined but never used.","React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","'SettingsApplications' is defined but never used.","'Add' is defined but never used.","'AddBox' is defined but never used.","The 'newVar' object makes the dependencies of useCallback Hook (at line 50) change on every render. To fix this, wrap the initialization of 'newVar' in its own useMemo() Hook.","VariableDeclarator","'Event' is defined but never used.","'Variable' is defined but never used.","'useEffect' is defined but never used.","'classes' is assigned a value but never used.","'useCallback' is defined but never used.","'InputLabel' is defined but never used.","'TextField' is defined but never used.","'Select' is defined but never used.","'MenuItem' is defined but never used.","'Box' is defined but never used.","'Typography' is defined but never used.","'Chip' is defined but never used.","'DigitalTwin' is defined but never used.","'VariableList' is defined but never used.","'setSimpleField' is defined but never used.","'useMountEffect' is defined but never used.","'Done' is defined but never used.","'UploadIcon' is defined but never used.","'getFBfromFbtFile' is defined but never used.","'getOrDownloadFunctionBlockCategories' is defined but never used.","'ConfirmActionProps' is defined but never used.","'ConfirmActionStateLabel' is defined but never used.","'ConfirmActionAction' is defined but never used.","'ConfirmAction' is defined but never used.","'digitalTwins' is assigned a value but never used.","'dispatchDigitalTwinsActions' is assigned a value but never used.","'validDt' is assigned a value but never used.","'setValidDt' is assigned a value but never used.","'cancelLabel' is assigned a value but never used.",["676"],["677"],["679"],"'argv' is defined but never used.","'choosenAssociatedSc' is assigned a value but never used.","'setChoosenAssociatedSc' is assigned a value but never used.","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'idAssociatedSmartComponent'.","ArrowFunctionExpression","unsafeRefs","'idAssociatedSmartComponent' is assigned a value but never used.","'fetching' is assigned a value but never used.","'error' is assigned a value but never used.","'selectedMonitoredVariable' is assigned a value but never used.","'setFunctionalityName' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'deleteMonitoredVariable' is defined but never used.","'Socket' is defined but never used.","'setAvailableSmartComponents' is assigned a value but never used.","'smartComponentIdChoice' is assigned a value but never used.","Expected '!==' and instead saw '!='.","'numberOfMonitoredEvents' is assigned a value but never used.","'setNumberOfMonitoredEvents' is assigned a value but never used.","'response1' is assigned a value but never used.","'indexes_test' is assigned a value but never used.","'AssociatedSmartComponent' is defined but never used.","'AssociatedSmartComponentActions' is defined but never used.","'getOrDownloadSmartComponents' is defined but never used.","'RequestResponseState' is defined but never used.","'smartComponents' is assigned a value but never used.","'updateSmartComponents' is assigned a value but never used.","'SmartComponentList' is defined but never used.","'DataType' is defined but never used.","'InOutType' is defined but never used.","The 'newSc' object makes the dependencies of useCallback Hook (at line 51) change on every render. To fix this, wrap the initialization of 'newSc' in its own useMemo() Hook.","'oldSmartComponent' is assigned a value but never used.","'validName' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"680","fix":"681"},{"desc":"680","fix":"682"},"Update the dependencies array to be: [actionOnMount, actionOnUnmount]",{"range":"683","text":"684"},{"range":"685","text":"684"},[308,310],"[actionOnMount, actionOnUnmount]",[308,310]]