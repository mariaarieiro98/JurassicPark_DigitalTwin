[{"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/index.tsx":"1","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/serviceWorker.ts":"2","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/App.tsx":"3","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/redux/reducers.ts":"4","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/main.ts":"5","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/redux/actions.ts":"6","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/styles/main.ts":"7","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/socket/socket.ts":"8","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/NewDigitalTwin.tsx":"9","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/List/List.tsx":"10","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/NewFunctionBlock.tsx":"11","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityDetails.tsx":"12","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/List/List.tsx":"13","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Store/Store.tsx":"14","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/SmartComponent/SmartComponent.tsx":"15","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/EditFunctionBlock.tsx":"16","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/List.tsx":"17","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinMonitoring.tsx":"18","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/digitalTwins.ts":"19","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/style.ts":"20","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/functionBlock.ts":"21","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/style.ts":"22","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/digital-twin.ts":"23","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/function-block.ts":"24","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/style.ts":"25","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinForm.tsx":"26","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Navigator/Navigator.tsx":"27","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/ConfirmAction.tsx":"28","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/LazyComponent/LazyComponent.tsx":"29","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/FunctionBlockForm.tsx":"30","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Table/JPTable.tsx":"31","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Gauge.tsx":"32","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Bars.tsx":"33","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/api.ts":"34","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/style.ts":"35","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Event.tsx":"36","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/style.ts":"37","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Variable.tsx":"38","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/index.ts":"39","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Search/SearchableList.tsx":"40","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/DigitalTwin.ts":"41","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/Tables.ts":"42","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/User.ts":"43","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/FunctionBlock.ts":"44","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/SmartComponent.ts":"45","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/EventVariable.ts":"46","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/Error.ts":"47","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/smartComponents.ts":"48","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/smart-component.ts":"49","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/AssociatedSmartComponent.ts":"50","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/associatedSmartComponents.ts":"51","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/SmartComponent.tsx":"52","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/MonitoredVariable.ts":"53","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/MonitoredEvent.ts":"54","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityForm.tsx":"55"},{"size":452,"mtime":1616239754000,"results":"56","hashOfConfig":"57"},{"size":5295,"mtime":1616239754000,"results":"58","hashOfConfig":"57"},{"size":5629,"mtime":1620495956457,"results":"59","hashOfConfig":"57"},{"size":5059,"mtime":1621335701745,"results":"60","hashOfConfig":"57"},{"size":1296,"mtime":1615796512000,"results":"61","hashOfConfig":"57"},{"size":8072,"mtime":1621347713710,"results":"62","hashOfConfig":"57"},{"size":1053,"mtime":1616239754000,"results":"63","hashOfConfig":"57"},{"size":3001,"mtime":1621977934041,"results":"64","hashOfConfig":"57"},{"size":4463,"mtime":1622500667621,"results":"65","hashOfConfig":"57"},{"size":3819,"mtime":1620229031978,"results":"66","hashOfConfig":"57"},{"size":5409,"mtime":1616578380000,"results":"67","hashOfConfig":"57"},{"size":16248,"mtime":1622974211750,"results":"68","hashOfConfig":"57"},{"size":5287,"mtime":1621889688286,"results":"69","hashOfConfig":"57"},{"size":1065,"mtime":1615796512000,"results":"70","hashOfConfig":"57"},{"size":12581,"mtime":1622125695440,"results":"71","hashOfConfig":"57"},{"size":8586,"mtime":1619370152498,"results":"72","hashOfConfig":"57"},{"size":13120,"mtime":1622112264558,"results":"73","hashOfConfig":"57"},{"size":29432,"mtime":1622502671125,"results":"74","hashOfConfig":"57"},{"size":2051,"mtime":1619374390060,"results":"75","hashOfConfig":"57"},{"size":824,"mtime":1615796512000,"results":"76","hashOfConfig":"57"},{"size":8305,"mtime":1622125801623,"results":"77","hashOfConfig":"57"},{"size":375,"mtime":1617280496811,"results":"78","hashOfConfig":"57"},{"size":3338,"mtime":1621338369377,"results":"79","hashOfConfig":"57"},{"size":1644,"mtime":1615796512000,"results":"80","hashOfConfig":"57"},{"size":1007,"mtime":1615796512000,"results":"81","hashOfConfig":"57"},{"size":6524,"mtime":1622501026155,"results":"82","hashOfConfig":"57"},{"size":5310,"mtime":1619026842308,"results":"83","hashOfConfig":"57"},{"size":5257,"mtime":1615796512000,"results":"84","hashOfConfig":"57"},{"size":436,"mtime":1616397982000,"results":"85","hashOfConfig":"57"},{"size":24509,"mtime":1618844547091,"results":"86","hashOfConfig":"57"},{"size":11918,"mtime":1622051196841,"results":"87","hashOfConfig":"57"},{"size":1164,"mtime":1615796512000,"results":"88","hashOfConfig":"57"},{"size":1093,"mtime":1615796512000,"results":"89","hashOfConfig":"57"},{"size":5385,"mtime":1622495432056,"results":"90","hashOfConfig":"57"},{"size":1232,"mtime":1615796512000,"results":"91","hashOfConfig":"57"},{"size":5125,"mtime":1615796512000,"results":"92","hashOfConfig":"57"},{"size":254,"mtime":1615796512000,"results":"93","hashOfConfig":"57"},{"size":5008,"mtime":1617189449179,"results":"94","hashOfConfig":"57"},{"size":372,"mtime":1620495798274,"results":"95","hashOfConfig":"57"},{"size":1001,"mtime":1615872396000,"results":"96","hashOfConfig":"57"},{"size":469,"mtime":1622125593841,"results":"97","hashOfConfig":"57"},{"size":484,"mtime":1616729172886,"results":"98","hashOfConfig":"57"},{"size":90,"mtime":1616729177335,"results":"99","hashOfConfig":"57"},{"size":959,"mtime":1616729238315,"results":"100","hashOfConfig":"57"},{"size":1050,"mtime":1621947929088,"results":"101","hashOfConfig":"57"},{"size":882,"mtime":1618673887736,"results":"102","hashOfConfig":"57"},{"size":310,"mtime":1616729144274,"results":"103","hashOfConfig":"57"},{"size":1202,"mtime":1620126244484,"results":"104","hashOfConfig":"57"},{"size":636,"mtime":1620126435446,"results":"105","hashOfConfig":"57"},{"size":228,"mtime":1622497030450,"results":"106","hashOfConfig":"57"},{"size":713,"mtime":1618684348870,"results":"107","hashOfConfig":"57"},{"size":6366,"mtime":1622563905677,"results":"108","hashOfConfig":"57"},{"size":198,"mtime":1621347478719,"results":"109","hashOfConfig":"57"},{"size":190,"mtime":1619626465132,"results":"110","hashOfConfig":"57"},{"size":1323,"mtime":1622125382795,"results":"111","hashOfConfig":"57"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},"1u02fxv",{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"114"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"114"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"114"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151","usedDeprecatedRules":"114"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"154","usedDeprecatedRules":"114"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"171","usedDeprecatedRules":"114"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"180","usedDeprecatedRules":"114"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"197","usedDeprecatedRules":"114"},{"filePath":"198","messages":"199","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"216","messages":"217","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"218","messages":"219","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"220","messages":"221","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"222","messages":"223","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"224","messages":"225","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"226","usedDeprecatedRules":"114"},{"filePath":"227","messages":"228","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"229","messages":"230","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"231","messages":"232","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"233","usedDeprecatedRules":"114"},"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/index.tsx",[],["234","235"],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/serviceWorker.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/App.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/redux/reducers.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/main.ts",["236"],"import { EffectCallback, useEffect } from \"react\"\n\nexport type Order = 'asc' | 'desc'\n\nexport const useMountEffect = (actionOnMount: EffectCallback, actionOnUnmount?:any) => {\n    \n    const action : EffectCallback = () => {\n        actionOnMount()\n        return actionOnUnmount\n    }\n\n    useEffect(action,[])\n    \n}\n\nexport const setField = (setState:Function, fieldName: string, state:any) => (event: any) => setState({...state, [fieldName]: event.target.value})\n\nexport const setSimpleField = (updateFunction: Function, extraJob?: () => void) => (event:any) => {\n    if(extraJob)\n        extraJob()\n    updateFunction(event.target.value)\n}\n\nexport const toBase64 = (file: File) : Promise<string> => {\n\n    return new Promise((res:Function, rej: Function) => {\n\n        const reader = new FileReader()\n        reader.readAsDataURL(file)\n        reader.onload = () => res(reader.result)\n        reader.onerror = error => rej(error)\n\n    })\n\n}\n\nexport const readLocalFile = (file: File) : Promise<string> => {\n    \n    return new Promise((res:Function, rej:Function) => {\n        \n        const fileReader = new FileReader()\n        fileReader.readAsText(file)\n        fileReader.onload = (result:any) => res(result.target.result)\n        fileReader.onerror = (e:any) => rej('Error')\n\n    })\n\n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/redux/actions.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/styles/main.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/socket/socket.ts",["237"],"import { argv } from 'node:process'\nimport socketIOClient from 'socket.io-client'\n\nexport enum SOCKET_EVENT {\n    UPDATED_SC_EVENT = 'smart-component-updated',\n    EDITED_FBI_EVENT = 'smart-component-fbi-updated',\n    INITIAL_DATA = 'initial-data',\n    EDITED_MVI_EVENT = 'smart-component-mvi-updated',\n    UPDATE_BACKEND = 'update-backend',\n    TRIGGER_EVENT = 'trigger-event',\n    OPCUA_DISCONNECT = 'opcUa-disconnect'\n}\n\nexport class SocketConnection {\n    \n    private host : string \n    private port? : number \n    private namespace : string\n    private base : string\n    private socket? : SocketIOClient.Socket = undefined\n    \n    static resources = {\n        smartComponents: '/smart-component'\n    }\n\n    constructor(namespace:string) {\n        this.host = process.env.REACT_APP_BACKEND_HOST ?? 'localhost'\n        this.port = parseInt(process.env.REACT_APP_SOCKET_PORT ?? '3500') \n        this.namespace = namespace\n        this.base = `${this.host}:${this.port}${this.namespace}`   \n    }\n\n    static getSmartComponentsNamespace() {\n        return this.resources.smartComponents\n    }\n\n    static getSmartComponentNamespace(scId: number) {\n        return `${this.resources.smartComponents}/${scId}`\n    }\n\n    public connect(onConnect: () => void, onDisconnect: () => void, onInitialData?: (data:any) => void, onError?: (error:any) => void, onRecconected?: () => void, onReconnecting?: (time:number) => void) {\n\n        this.socket = socketIOClient(this.base)\n        this.socket.on(\"connect\", () => {\n            onConnect()\n        })\n\n        this.socket.on(\"disconnect\", () => {\n            onDisconnect()\n        })\n\n        this.socket.on(\"connect_error\", (error:any) => {\n            console.error(error) \n            if(onError) onError(error)\n        })\n\n        this.socket.on(\"error\", (error:any) => {\n            console.error(error) \n            console.error(\"error\") \n            if(onError) onError(error)\n        })\n\n        this.socket.on(\"connect_timeout\", (error:any) => {\n            console.error(error) \n            console.error(\"connect_timeout\")\n            if(onError) onError(error) \n        })\n\n        this.socket.on(SOCKET_EVENT.INITIAL_DATA, (data:any) => {\n            //console.log(\"data:\", data)\n            if(onInitialData) onInitialData(data)\n        })\n\n        this.socket.on(\"reconnect\", (attemptNumber: number) => {\n            console.log('reconnected at ' + attemptNumber)\n            if(onRecconected) onRecconected()\n        })\n\n        this.socket.on(\"reconnecting\", (attemptNumber: number) => {\n            if(onReconnecting) onReconnecting(attemptNumber)\n        })\n\n    }\n\n    public disconnect() {\n        this.socket?.removeAllListeners()\n        this.socket?.disconnect()\n    }\n\n    public addListener(event: SOCKET_EVENT, listener:(data:any) => void) {\n        this.socket?.on(event,listener)\n    }\n\n    public emit(event: SOCKET_EVENT, data: any) {\n        this.socket?.emit(event, data , (data: any) => {\n         \n        })\n    }\n} ","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/NewDigitalTwin.tsx",["238","239"],"import { useState } from 'react'\r\nimport { Navigator } from '../templates/Navigator/Navigator'\r\nimport { DigitalTwin, AssociatedSmartComponent, SmartComponent } from '../../model/index'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { routes } from '../../App'\r\nimport { ConfirmActionStateLabel } from '../templates/ConfirmAction/ConfirmAction'\r\nimport { RequestResponseState } from '../../services/api/api'\r\nimport { setTimeout } from 'timers'\r\nimport { DigitalTwinForm } from './DigitalTwinForm'\r\nimport { useMountEffect } from '../../utils/main'\r\nimport { useStore } from '../templates/Store/Store'\r\nimport { DigitalTwinActions } from '../../redux/actions'\r\nimport { getOrDownloadDigitalTwins } from '../../utils/digitalTwins'\r\nimport { createDigitalTwin } from '../../services/api/digital-twin'\r\nimport { createAssociatedSmartComponents } from '../../services/api/digital-twin'\r\n\r\nconst dtUserId = 1\r\n\r\nexport const NewDigitalTwin = () => {\r\n\r\n  useMountEffect(() => {\r\n    \r\n    getOrDownloadDigitalTwins(digitalTwins)\r\n      .then((result: DigitalTwin[]) => {\r\n          dispatchDigitalTwinActions(DigitalTwinActions.updateDigitalTwins(result))\r\n      })\r\n      .catch((e:RequestResponseState) => {\r\n          console.error(e)\r\n      })\r\n\r\n  })\r\n\r\n  const {data: digitalTwins, dispatchAction:dispatchDigitalTwinActions} = useStore('digitalTwins')\r\n  \r\n  const [redirectTo, setRedirectTo] : [string, Function] = useState(\"\")\r\n\r\n  const [dtName,setDtName] : [string,Function] = useState('')\r\n  const [associatedSc,setAssociatedSc] : [SmartComponent[],Function] = useState([])\r\n\r\n  let dtId = 1\r\n  let idAssociatedSmartComponent = 1\r\n\r\n  const redirectToList = () => setRedirectTo(routes.digitalTwinMonitoring)\r\n\r\n  const buildDigitalTwin = () : DigitalTwin => ({\r\n    dtName, dtId,\r\n    dtUserId,\r\n  })\r\n\r\n  const redirectToListAndUpdateLocal = () => {\r\n    dispatchDigitalTwinActions(DigitalTwinActions.addDigitalTwin(buildDigitalTwin()))\r\n    redirectToList()\r\n  } \r\n  \r\n  const buildAssociatedSmartComponent = (associatedSc : SmartComponent[], dtId: number, i: number) : AssociatedSmartComponent => ({\r\n    scName: associatedSc[i].scName, scDtId: dtId,\r\n    associatedScUserId: 1, scAddress: associatedSc[i].scAddress, scPort: associatedSc[i].scPort\r\n  })\r\n  \r\n  const createDigitalTwinAction = () : Promise<string> => {\r\n    \r\n    return new Promise<string>((res:Function, rej:Function)  => {\r\n\r\n      setTimeout(() => {\r\n\r\n        if(associatedSc.length === 0){\r\n          \r\n          createDigitalTwin(dtName)\r\n          .then((result: RequestResponseState) => {\r\n            dtId = result.extra.lastInsertedId\r\n            res('Digital Twin created')\r\n          })\r\n\r\n          .catch((e:RequestResponseState) => rej(e.msg))\r\n\r\n        }\r\n\r\n        else {\r\n\r\n      \r\n          createDigitalTwin(dtName)\r\n          .then((result:RequestResponseState) => {\r\n            dtId = result.extra.lastInsertedId\r\n            res('Digital Twin created')\r\n            let i = 0  \r\n            while(associatedSc.length){         \r\n            const choosenAssociatedSc : AssociatedSmartComponent = buildAssociatedSmartComponent(associatedSc,dtId,i)\r\n            i++\r\n            createAssociatedSmartComponents(choosenAssociatedSc)\r\n            .then((r:RequestResponseState) => {\r\n              idAssociatedSmartComponent = r.extra.lastInsertedId\r\n            }) \r\n            .catch((e:RequestResponseState) => rej(e.msg))\r\n            }\r\n          })\r\n          .catch((e:RequestResponseState) => rej(e.msg))\r\n                    \r\n        }\r\n      })\r\n    })\r\n  }\r\n  \r\n  console.log(\"associatedSc, new DT:\",associatedSc)\r\n\r\n  if(redirectTo !== \"\") \r\n    return <Redirect to={redirectTo} push={true} />\r\n  \r\n  return (\r\n    <Navigator title=\"New Digital Twin\">\r\n      <>\r\n      <DigitalTwinForm \r\n        dtName={{dtName, setDtName}}\r\n        associatedSc = {{associatedSc, setAssociatedSc}}\r\n        cancel={{action: redirectToList, label: 'Cancel'}}\r\n        confirmDialog={{\r\n          buttonTitle: 'Confirm',\r\n          title: 'Creating Digital Twin',\r\n          initialState: ConfirmActionStateLabel.executing,\r\n          action: createDigitalTwinAction,\r\n          onSuccess: redirectToListAndUpdateLocal,\r\n          success: {\r\n            label: '',\r\n            positiveLabel: 'Ok'\r\n          },\r\n          error: {\r\n            label: '',\r\n            positiveLabel: 'Ok'\r\n          },\r\n        }}\r\n      />\r\n      </>\r\n    </Navigator>\r\n  )\r\n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/List/List.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/NewFunctionBlock.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityDetails.tsx",["240","241"],"import { Card, CardContent, CardHeader, Divider, Grid } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport { match, Redirect, useRouteMatch } from 'react-router-dom'\r\nimport { routes } from '../../App'\r\nimport { Functionality, MonitoredEvent, MonitoredVariable, MonitoredVariableInstance } from '../../model'\r\nimport { FunctionalityActions, MonitoredEventActions, MonitoredVariableActions } from '../../redux/actions'\r\nimport { RequestResponseState } from '../../services/api/api'\r\nimport { getOrDownloadFunctionalities, getOrDownloadMonitoredEvents, getOrDownloadMonitoredVariables } from '../../utils/digitalTwins'\r\nimport { useMountEffect } from '../../utils/main'\r\nimport { Navigator } from '../templates/Navigator/Navigator'\r\nimport { useStore } from '../templates/Store/Store'\r\nimport { JPTable } from '../templates/Table/JPTable'\r\nimport { FunctionalityForm } from './FunctionalityForm'\r\nimport { SocketConnection, SOCKET_EVENT } from '../../services/socket/socket'\r\nimport { deleteMonitoredEvent, deleteMonitoredVariable } from '../../services/api/digital-twin'\r\nimport { LazyComponent } from '../templates/LazyComponent/LazyComponent'\r\nimport { ConfirmAction, ConfirmActionProps, ConfirmActionStateLabel } from '../templates/ConfirmAction/ConfirmAction'\r\n\r\n//Esta página pretende dispor informação mais detalhada da funcionalidade correspondente disponível na página \"DigitalTwinMonitoring\"\r\n\r\nlet selectedMonitoredVariableGlobal : MonitoredVariable[] = []\r\n\r\ninterface MonitoredVariableWithCurrentValue extends MonitoredVariableInstance {\r\n    currentValueData: {\r\n        key: string | undefined\r\n        data: number\r\n    }\r\n}\r\n\r\nexport const FunctionalityDetails = () : React.ReactElement => {\r\n    \r\n    //Recupera o id da funcionalidade seleccionada anteriormente na página Digital Twin Monitoring\r\n    const matchParams : match = useRouteMatch()\r\n    const id = (matchParams.params as any).id\r\n\r\n    //Estabelecer a ligação com os sockets\r\n    const socket : SocketConnection = new SocketConnection(SocketConnection.getSmartComponentsNamespace())\r\n\r\n    useMountEffect(() => {\r\n        setTimeout(() => {\r\n\r\n            socket.connect(() => {}, onDisconnect)\r\n            socket.emit(SOCKET_EVENT.UPDATE_BACKEND,\"UpdateMonitoredVariables\")\r\n            socket.addListener(SOCKET_EVENT.EDITED_MVI_EVENT, (data) => { \r\n                updateMonitoredVariableInstance(data)\r\n            })\r\n            \r\n        }, 0)\r\n\r\n    }, () => socket?.disconnect())\r\n\r\n    const [error,setError] = useState('')\r\n\r\n    const confirmActionStates = {\r\n\r\n        error: {\r\n          label: error,\r\n          state: ConfirmActionStateLabel.error,\r\n          positiveLabel: 'Ok'\r\n        },\r\n    }\r\n\r\n    const confirmActionProps : ConfirmActionProps = {\r\n\r\n        title: 'Loading Monitored-Variables',\r\n        states: confirmActionStates,\r\n        currentState: confirmActionStates.error,\r\n        onCancel: () => setError(''),      \r\n    }\r\n    \r\n    //Recuperar da base de dados as variáveis que estão a ser monitorizadas (MonitoredVariable)\r\n    const [fetching,setFetching] = useState(true)\r\n    const {data: monitoredVariables, dispatchAction: dispatchMonitoredVariableActions} = useStore('monitoredVariables')\r\n    const updateMonitoredVariables = (monVar: MonitoredVariable[]) => dispatchMonitoredVariableActions(MonitoredVariableActions.updateMonitoredVariable(monVar))\r\n    \r\n    const [selectedMonitoredVariable, setSelectedMonitoredVariable] : [MonitoredVariable[], Function] = useState([])\r\n    \r\n    const initializeMonitoredVariable = (monVars: MonitoredVariable[]) => {\r\n        \r\n        let monitoredVariable : MonitoredVariable[] = monVars.filter((monVar) => monVar.funcIdAssociated === parseInt(id))\r\n        \r\n        selectedMonitoredVariableGlobal = monitoredVariable;\r\n        \r\n        setSelectedMonitoredVariable(monitoredVariable)\r\n        \r\n    }\r\n    \r\n    useMountEffect(() => {\r\n        setFetching(true)\r\n        getOrDownloadMonitoredVariables(monitoredVariables)\r\n        .then((result: MonitoredVariable[]) => {\r\n            updateMonitoredVariables(result)\r\n            initializeMonitoredVariable(result)\r\n        })\r\n        .catch((e:RequestResponseState) => {\r\n            setError(e.msg)\r\n        })\r\n        .finally(() => setFetching(false))\r\n    })\r\n    \r\n    //Recuperar da base de dados os eventos que estão a ser monitorizados (MonitoredEvent)\r\n    const {data: monitoredEvents, dispatchAction: dispatchMonitoredEventActions} = useStore('monitoredEvents')\r\n    const updateMonitoredEvents = (monEv: MonitoredEvent[]) => dispatchMonitoredEventActions(MonitoredEventActions.updateMonitoredEvent(monEv))\r\n    \r\n    const [selectedMonitoredEvent, setSelectedMonitoredEvent] : [MonitoredEvent[], Function] = useState([])\r\n    \r\n    const initializeMonitoredEvent = (monEvs: MonitoredEvent[]) => {\r\n        \r\n        let monitoredEvent : MonitoredEvent[] = monEvs.filter((monEv) => monEv.funcIdAssociated === parseInt(id))\r\n        \r\n        setSelectedMonitoredEvent(monitoredEvent)\r\n        \r\n    }\r\n    \r\n    useMountEffect(() => {\r\n        \r\n        setFetching(true)\r\n        getOrDownloadMonitoredEvents(monitoredEvents)\r\n        .then((result: MonitoredEvent[]) => {\r\n            updateMonitoredEvents(result)\r\n            initializeMonitoredEvent(result)\r\n        })\r\n        .catch((e:RequestResponseState) => {\r\n            setError(e.msg)\r\n        })\r\n        .finally(() => setFetching(false))\r\n        \r\n    })\r\n    \r\n    // Cabeçalhos da tabela Variable + Funções Necessárias\r\n    const indexes_variable = [\r\n        {label: 'Variable', key: 'monitoredVariableName'},\r\n        {label: 'Function Block', key: 'id'},\r\n        {label: 'Smart Component', key: 'sc'},\r\n        {label: 'Current Value', key: 'currentValueData'},\r\n    ]\r\n    \r\n    // Cabeçalhos da tabela Event + Funções Necessárias\r\n    const indexes_event = [\r\n        {label: 'Event', key: 'monitoredEventName'},\r\n        {label: 'Function Block', key: 'fbAssociated'},\r\n        {label: 'Smart Component', key: 'scAssociated'},\r\n    ]\r\n    \r\n    const getDataMonitoredEvent = () =>  selectedMonitoredEvent.map((monitoredEvent: MonitoredEvent) => {    \r\n        \r\n        return {\r\n            ...monitoredEvent\r\n        }\r\n\r\n    })\r\n    \r\n    const deleteMonitoredVariableAction = (monVar: MonitoredVariableInstance) : Promise<any> => {\r\n        \r\n        return new Promise(async(res:Function,rej:Function) => {\r\n\r\n            let i = 0\r\n            let idMonitoredVariable: number | undefined = 0\r\n            \r\n            while(i < selectedMonitoredVariableGlobal.length) {\r\n                if((selectedMonitoredVariableGlobal[i].monitoredVariableName === monVar.monitoredVariableName) && (selectedMonitoredVariableGlobal[i].scAssociated === monVar.sc) && (selectedMonitoredVariableGlobal[i].fbAssociated === monVar.id)){\r\n                    idMonitoredVariable = selectedMonitoredVariableGlobal[i].idMonitoredVariable\r\n                }\r\n                i++\r\n            }\r\n            \r\n            if(!idMonitoredVariable) {\r\n                rej('Error')\r\n                return\r\n            }\r\n            \r\n            try {\r\n                const response : RequestResponseState = await deleteMonitoredVariable(idMonitoredVariable)\r\n                res(response)\r\n            }\r\n            \r\n            catch(err) {\r\n                rej(err)\r\n            }\r\n        })\r\n    }\r\n    \r\n    const deleteMonitoredEventAction = (monEv: MonitoredEvent) : Promise<any> => {\r\n        \r\n        return new Promise(async(res:Function,rej:Function) => {\r\n            \r\n            if(!monEv.idMonitoredEvent) {\r\n                rej('Error')\r\n                return\r\n            }\r\n            \r\n            try {\r\n                const response : RequestResponseState = await deleteMonitoredEvent(monEv.idMonitoredEvent)\r\n                res(response)\r\n            }\r\n            \r\n            catch(err) {\r\n                rej(err)\r\n            }\r\n        })\r\n    }\r\n    \r\n    // Variáveis e funções que permitem o redireccionamento para a página DigitalTwinMonitoring\r\n    const [redirectTo, setRedirectTo] : [string, Function] = useState(\"\")\r\n    \r\n    const redirectToList = () => {\r\n\r\n        socket.connect(() => {}, onDisconnect)\r\n        socket.emit(SOCKET_EVENT.OPCUA_DISCONNECT,\"OpcuaDisconnectSubscriptions\")\r\n        \r\n        setRedirectTo(routes.digitalTwinMonitoring)\r\n    }\r\n    \r\n    // Recuperar da base de dados as funcionalidades (Functionality)\r\n    const {data:functionalities, dispatchAction:dispatchFunctionalityActions} = useStore('functionalities')\r\n    const updateFunctionalities = (funcs: Functionality[]) => dispatchFunctionalityActions(FunctionalityActions.updateFunctionalities(funcs))\r\n    \r\n    useMountEffect(() => {\r\n        setTimeout(() => {\r\n            \r\n            setFetching(true)\r\n            getOrDownloadFunctionalities(functionalities)\r\n            .then((result: Functionality[]) => updateFunctionalities(result))\r\n            .catch((e:RequestResponseState) => setError(e.msg))\r\n            .finally(() => setFetching(false))\r\n        }, 0)\r\n    })\r\n    \r\n    //Recuperar dados da funcionalidade\r\n    let [functionalityName, setFunctionalityName] : [Functionality[], Function] = useState([])\r\n    \r\n    let i = 0;\r\n    while(i < functionalities.length){\r\n    \r\n        if(functionalities[i].funcId === parseInt(id)) {\r\n         \r\n            functionalityName = functionalities[i].funcName\r\n        }\r\n        i++\r\n    }\r\n    \r\n    const [monitoredVariableInstances,setMonitoredVariableInstances] : [MonitoredVariableWithCurrentValue[],Function] = useState([])\r\n    \r\n    const updateMonitoredVariableInstances = (monVars:MonitoredVariableInstance[]) => setMonitoredVariableInstances(getMonitoredVariablesWithCurrentValue(monVars))\r\n    \r\n    const updateMonitoredVariableInstance = (monVars: MonitoredVariableInstance[]) => { \r\n            \r\n            for(const monVar of monVars) {\r\n                \r\n                if(selectedMonitoredVariableGlobal.length === 0){\r\n                    return []\r\n                }\r\n\r\n                else{\r\n                    \r\n                    for(const selectedMonVar of selectedMonitoredVariableGlobal){\r\n                        \r\n                        if((selectedMonVar.monitoredVariableName === monVar.monitoredVariableName) && (selectedMonVar.scAssociated === monVar.sc) && (selectedMonVar.fbAssociated === monVar.id)){\r\n                            \r\n                            setMonitoredVariableInstances((prevMonitoredVariables: MonitoredVariableWithCurrentValue[]) => {\r\n                                \r\n                                let newMonVar = true\r\n                                \r\n                                const newMonitoredVariables = getMonitoredVariablesWithCurrentValue(prevMonitoredVariables.map((oMonVar:MonitoredVariableWithCurrentValue) => {\r\n                                    \r\n                                    if((oMonVar.monitoredVariableName === monVar.monitoredVariableName) && (oMonVar.sc === monVar.sc) &&  (oMonVar.id === monVar.id)) {\r\n                                        newMonVar = false\r\n                                        return monVar\r\n                                    }\r\n                                    return oMonVar\r\n                                    \r\n                                }))\r\n                                \r\n                                if(newMonVar){\r\n                                    return [...prevMonitoredVariables, addCurrentValueData(monVar)]\r\n                                }\r\n                                return newMonitoredVariables\r\n                                \r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n                \r\n            }\r\n        \r\n    }\r\n    \r\n    const getMonitoredVariablesWithCurrentValue = (monVars: MonitoredVariableInstance[]) : MonitoredVariableWithCurrentValue[] => {\r\n        \r\n        return monVars.map((monVar:MonitoredVariableInstance) => addCurrentValueData(monVar))\r\n        \r\n    }\r\n    \r\n    const addCurrentValueData = (monVar: MonitoredVariableInstance) : MonitoredVariableWithCurrentValue => {\r\n        \r\n        return (\r\n            {\r\n                ...monVar, \r\n                currentValueData:  {\r\n                    key: monVar.monitoredVariableName,\r\n                    data: monVar.currentValue\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    const onDisconnect = () => {\r\n        setError(\"Server error\")\r\n        setFetching(false)\r\n        setMonitoredVariableInstances([])\r\n    }\r\n\r\n    //Função de trigger --> manipulação de dados quando carrega no botão de trigger\r\n    const triggerEventAction = (monEv: MonitoredEvent) : Promise<any> => {\r\n        \r\n        return new Promise(async(res:Function,rej:Function) => {\r\n            \r\n            try {\r\n    \r\n                socket.connect(() => {}, onDisconnect)\r\n                socket.emit(SOCKET_EVENT.TRIGGER_EVENT,monEv)\r\n\r\n              }\r\n    \r\n            catch(err) {\r\n                rej(err)\r\n            }\r\n        })\r\n    }\r\n\r\n    if(redirectTo !== \"\") \r\n    return <Redirect to={redirectTo} push={true} />\r\n\r\n    return(\r\n    <Navigator title=\"Digital Twin Monitoring\">\r\n    <>\r\n        <Grid item>\r\n            <Card>\r\n                <CardHeader title={functionalityName} />\r\n                <Divider />\r\n                    <CardContent>\r\n                        <Grid item xs={12}>        \r\n                            <Grid item> \r\n                            <LazyComponent loaded={!fetching}>\r\n                                {error !== ''\r\n                                    ? <ConfirmAction {...confirmActionProps}/> \r\n                                    :    <JPTable\r\n                                        sortedkey=\"idMonitoredVariable\"\r\n                                        data={monitoredVariableInstances} \r\n                                        updateData={updateMonitoredVariableInstances} \r\n                                        indexes={indexes_variable} \r\n                                        tName='Monitored Variable'\r\n                                        extra = {{   \r\n                                            delete: {\r\n                                            action: deleteMonitoredVariableAction,\r\n                                            labelKey: 'idMonitoredVariable',\r\n                                            onSuccessDelete: () => {}\r\n                                    }}}\r\n                                />\r\n                                }\r\n                            </LazyComponent>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </CardContent>\r\n                    <CardContent>\r\n                        <Grid item xs={12}>        \r\n                            <Grid item>\r\n                                <JPTable\r\n                                    sortedkey=\"idMonitoredEvent\"\r\n                                    data={getDataMonitoredEvent()} \r\n                                    updateData={updateMonitoredEvents} \r\n                                    indexes={indexes_event} \r\n                                    tName='MonitoredEvent'\r\n                                    extra={{\r\n                                        trigger_button: {\r\n                                            action: triggerEventAction\r\n                                        },\r\n                                        delete: {\r\n                                            action: deleteMonitoredEventAction,\r\n                                            labelKey: 'monitoredEventName',\r\n                                            onSuccessDelete: () => {}\r\n                                        }\r\n                                    }} \r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </CardContent>\r\n            </Card>\r\n        </Grid>\r\n        <FunctionalityForm\r\n            cancel={{action: redirectToList, label: 'Cancel'}}\r\n        />\r\n    </>\r\n    \r\n    </Navigator>\r\n    )\r\n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/List/List.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Store/Store.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/SmartComponent/SmartComponent.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/EditFunctionBlock.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/List.tsx",["242"],"import React, { useState } from 'react'\nimport { Navigator } from '../../templates/Navigator/Navigator'\nimport { ConfirmAction, ConfirmActionState, ConfirmActionStateLabel, ConfirmActionProps } from '../../templates/ConfirmAction/ConfirmAction'\nimport { LazyComponent } from '../../templates/LazyComponent/LazyComponent'\nimport { JPTable } from '../../templates/Table/JPTable'\nimport { FBCategory, FunctionBlock } from '../../../model'\nimport { useMountEffect } from '../../../utils/main'\nimport { getOrDownloadFunctionBlockCategories } from '../../../utils/functionBlock'\nimport { useStore } from '../../templates/Store/Store'\nimport { FunctionBlockCategoriesActions } from '../../../redux/actions'\nimport { RequestResponseState } from '../../../services/api/api'\nimport { TextField, Grid, Button, Box, Dialog, DialogTitle, CircularProgress } from '@material-ui/core'\nimport { createFunctionBlockCategory, updateFunctionBlockCategory } from '../../../services/api/function-block'\nimport { deleteFunctionBlockCategory} from '../../../services/api/function-block'\nimport { useDialogStyles } from './style'\nimport { CheckCircle, Error } from '@material-ui/icons'\n\nconst NEW_CATEGORY_RE = /[a-zA-Z0-9]{3,}/\n\nlet categoryId = -1\n\nconst EditFBCategoryDialog = (props: {category: FBCategory, onGood: (newCategory: FBCategory) => void, onError: () => void, onCancel: () => void}) => {\n\n    const [newCategoryName, setNewCategoryName] : [string,Function] = useState(props.category.fbcName)\n\n    const classes = useDialogStyles()\n\n    const [sending, setSending] : [boolean, Function] = useState(false)\n\n    const [result, setResult] : [{done: boolean, good?: boolean, message?: string},Function] = useState({done:false})\n\n    const action = () => {\n\n        if(props.category.fbcId) {\n\n            if(!result.done) {\n\n                setSending(true)\n    \n                updateFunctionBlockCategory(props.category.fbcId, newCategoryName)\n\n                    .then((response: RequestResponseState) => {\n                        setResult({done:true, good: true, message: response.msg})\n                    })\n\n                    .catch((error: RequestResponseState) => {\n                        setResult({done: true, good: false, message: error.msg})\n                    })\n\n                    .finally(() => setSending(false))\n\n            }\n\n            else {\n\n                if(result.good)\n                    props.onGood({...props.category, fbcName: newCategoryName})\n                \n                else\n                    props.onError()\n\n            }\n\n        }\n\n    }\n\n    return (\n        <Dialog open={true}>\n            <DialogTitle>Edit Category</DialogTitle>\n            <Box className={classes.box}>\n                {\n                    !result.done \n                        ?\n                            <TextField \n                                disabled={sending}\n                                value={newCategoryName}\n                                onChange={(event) => setNewCategoryName(event.target.value)}\n                            />\n                        :    <Grid container justify=\"center\">\n                                <Grid item>\n                                    {\n                                        result.good \n                                            ?   <CheckCircle color=\"primary\" />\n                                            :   <Error color=\"error\" />\n                                    }\n                                </Grid>\n                                <Grid item>\n                                    <Box className={result.good ? classes.good : classes.error} textAlign=\"center\">{result.message}</Box>\n                                </Grid>\n                            </Grid> \n                }\n            </Box>\n            <Grid className={classes.buttons} container direction=\"row\" justify=\"space-between\">\n                <Grid item>\n                    {sending \n                        ? <CircularProgress color=\"primary\" />\n                        : <Button onClick={action}>Ok</Button>\n                    }\n                </Grid>\n                <Grid item>\n                    <Button disabled={sending} onClick={props.onCancel}>Cancel</Button>\n                </Grid>\n            </Grid>\n        </Dialog>\n    )\n\n}\n\nexport const FunctionBlockCategoryList = () => {\n\n    const [fetching,setFetching] = useState(true)\n    const [error,setError] = useState('')\n    const [newCategory,setNewCategory] = useState('')\n\n    const [confirmAddCategory,setConfirmAddCategory] : [boolean, Function] = useState(false)\n\n    const [validNewCategory, setValidNewCategory] : [boolean,Function] = useState(true)\n\n    const errorFetchngCategoriesState : ConfirmActionState = {\n        label: error,\n        state: ConfirmActionStateLabel.error,\n        positiveLabel: 'Ok'\n    }\n\n    const onCancel = () => setError('')\n\n    const {data: functionBlockCategories, dispatchAction:dispatchFunctionBlockCategoriesActions} = useStore('functionBlockCategories')\n\n    const updateFunctionBlockCategories = (categories: FBCategory[]) => dispatchFunctionBlockCategoriesActions(FunctionBlockCategoriesActions.updateFunctionBlockCategories(categories))\n    const addFunctionBlockCategory = () => dispatchFunctionBlockCategoriesActions(FunctionBlockCategoriesActions.addFunctionBlockCategory({fbcId: categoryId, fbcUserId:1, fbcName: newCategory}))\n\n    const [editingCategory, setEditingCategory] : [FBCategory | null,Function] = useState(null)\n\n\n    const indexes = [\n        {label: 'Name', key: 'fbcName'},\n        {label: 'Function Block List', key: 'fbList'}\n    ]\n\n    useMountEffect(() => {\n\n        setTimeout(() => {\n    \n          setFetching(true)\n          getOrDownloadFunctionBlockCategories(functionBlockCategories)\n              .then((result: FBCategory[]) => updateFunctionBlockCategories(result))\n              .catch((e:RequestResponseState) => setError(e.msg))\n              .finally(() => setFetching(false))\n    \n            \n        }, 0)\n    \n    })\n\n    const isCategoryValid = (category:string) => NEW_CATEGORY_RE.test(category)\n\n    const validateAndCreate = () => {\n\n        const validCategory = isCategoryValid(newCategory)\n\n        if(!validCategory)\n            setValidNewCategory(false)\n        else\n            setConfirmAddCategory(true)\n    \n    }\n\n    const addNewCategoryAction = () : Promise<string> => {\n\n        return new Promise<string>((res:Function, rej:Function)  => { \n            \n            createFunctionBlockCategory(newCategory.trim())\n\n                .then((result: RequestResponseState) => {\n                    categoryId = result.extra.lastInsertedId\n                    res('Category created')\n                })\n\n                .catch((e:RequestResponseState) => rej(e.msg))\n\n        })\n\n    }\n\n    const confirmCategoryCreationActionStates = {\n        start: {\n            label: `Confirm creation of new category: ${newCategory} ?`,\n            positiveLabel: 'Ok',\n            negativeLabel: 'Cancel',\n            state: ConfirmActionStateLabel.start\n        },\n        executing: {\n          label: '',\n          state: ConfirmActionStateLabel.executing,\n        },\n        success: {\n          label: 'Category Created',\n          state: ConfirmActionStateLabel.success,\n          positiveLabel: 'Ok'\n        },\n        error: {\n          label: 'Error Creating Category',\n          state: ConfirmActionStateLabel.error,\n          positiveLabel: 'Ok'\n        },\n      }\n    \n    const confirmActionProps : ConfirmActionProps = {\n\n        title: 'Add Category',\n        states: confirmCategoryCreationActionStates,\n        currentState: confirmCategoryCreationActionStates.start,\n        onCancel: () => setConfirmAddCategory(false),\n        onError: () => setConfirmAddCategory(false),\n        onSuccess: () => {\n            addFunctionBlockCategory()\n            setNewCategory('')\n        },\n        action: addNewCategoryAction,\n    }\n\n    const getData = () => functionBlockCategories.map((category: FBCategory) => {\n\n        return {\n            ...category,\n            fbList: {\n                key: category.functionBlocks?.length ?? 0,\n                data:  <Grid container direction=\"row\" spacing={2} wrap=\"wrap\"> {category.functionBlocks?.map((fb: string, index:number) => (\n                    <Grid key={index} item><Box fontStyle=\"italic\"> {fb} ; </Box></Grid>\n                ))} </Grid>\n            },\n            deleteDisabled: !!category.functionBlocks?.length ?? false\n        }\n\n    })\n\n    const deleteFunctionBlockCategoryAction = (category: FBCategory) : Promise<any> => {\n\n        return new Promise(async(res:Function,rej:Function) => {\n\n            if(!category.fbcId) {\n                rej('Error')\n                return\n            }\n\n            try {\n                const response : RequestResponseState = await deleteFunctionBlockCategory(category.fbcId)\n                res(response)\n              }\n    \n            catch(err) {\n                rej(err)\n            }\n        })\n\n    }\n\n    const cancelEditing = () => setEditingCategory(null)\n    const showEditing = (cat: FBCategory) => setEditingCategory(cat)\n\n    const onGoodEditing = (editingCat: FBCategory) => {\n\n        const newCats = functionBlockCategories.map((cat: FBCategory) => {\n\n            if(cat.fbcId === editingCat.fbcId)\n                return {...cat, fbcName: editingCat.fbcName}\n            return cat\n\n        })\n        \n        cancelEditing()\n        dispatchFunctionBlockCategoriesActions(FunctionBlockCategoriesActions.updateFunctionBlockCategories(newCats))\n\n    }\n\n    return (\n        <Navigator title=\"Function Block Categories\">\n        <> \n            {error !== ''\n                ? <ConfirmAction title='Fetching Function Blocks' currentState={errorFetchngCategoriesState} states={{error: errorFetchngCategoriesState}} onCancel={onCancel}/>\n                : null \n            }\n            <LazyComponent loaded={!fetching}>\n                <>\n                    {confirmAddCategory \n                        ? <ConfirmAction {...confirmActionProps} /> \n                        : editingCategory \n                            ?  <EditFBCategoryDialog \n                                onGood={onGoodEditing}\n                                category={editingCategory}\n                                onError={cancelEditing}\n                                onCancel={cancelEditing} />\n                            : null\n                    }\n                    <Grid container direction=\"column\" spacing={2}>\n                        <Grid item>\n                            <JPTable\n                                sortedkey=\"fbcName\"\n                                data={getData()} \n                                updateData={updateFunctionBlockCategories} \n                                indexes={indexes}\n                                tName='Function Block Category'\n                                extra={{\n                                    delete: {\n                                        action: deleteFunctionBlockCategoryAction,\n                                        labelKey: 'fbcName',\n                                        onSuccessDelete: () => {}\n                                    },\n                                    edit: {\n                                        action: showEditing\n                                    }\n                                }} \n                            />\n                        </Grid>\n                        <Grid item>\n                            <Grid container justify=\"flex-end\" spacing={1}>\n                                <Grid item xs={4}>\n                                    <TextField\n                                        helperText={!validNewCategory ? NEW_CATEGORY_RE.toString() : ''}\n                                        error={!validNewCategory}\n                                        required\n                                        onChange={(event) => {\n                                            setNewCategory(event.target.value)\n                                            if(!validNewCategory)\n                                                setValidNewCategory(isCategoryValid(event.target.value.trim()))\n                                        }}\n                                        fullWidth\n                                        value={newCategory}\n                                    />\n                                </Grid>\n                                <Grid item>\n                                    <Button\n                                        color=\"primary\"\n                                        variant=\"contained\"\n                                        onClick={validateAndCreate}\n                                    >\n                                        Add Category\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </>\n            </LazyComponent>\n        </>\n        </Navigator>\n    )\n\n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinMonitoring.tsx",["243","244","245","246","247","248"],"import React, { useState } from 'react'\r\nimport { Navigator } from '../templates/Navigator/Navigator'\r\nimport { ConfirmAction, ConfirmActionState, ConfirmActionStateLabel, ConfirmActionProps } from '../templates/ConfirmAction/ConfirmAction'\r\nimport { LazyComponent } from '../templates/LazyComponent/LazyComponent'\r\nimport { JPTable } from '../templates/Table/JPTable'\r\nimport { Functionality, DigitalTwin, AssociatedSmartComponent, MonitoredVariable, MonitoredEvent} from '../../model'\r\nimport { useMountEffect } from '../../utils/main'\r\nimport { getOrDownloadDigitalTwins, getOrDownloadFunctionalities, getOrDownloadMonitoredEvents, getOrDownloadMonitoredVariables} from '../../utils/digitalTwins'\r\nimport { getOrDownloadAssociatedSmartComponents } from '../../utils/associatedSmartComponents'\r\nimport { useStore } from '../templates/Store/Store'\r\nimport { FunctionalityActions , DigitalTwinActions, AssociatedSmartComponentActions, MonitoredVariableActions, MonitoredEventActions} from '../../redux/actions'\r\nimport { RequestResponseState } from '../../services/api/api'\r\nimport { TextField, Grid, Button, Box, Dialog, DialogTitle, CircularProgress , Select, InputLabel, MenuItem } from '@material-ui/core'\r\nimport { createFunctionality, createMonitoredEvent, createMonitoredVariable, deleteMonitoredEvent, deleteMonitoredVariable, updateFunctionality } from '../../services/api/digital-twin'\r\nimport { deleteFunctionality} from '../../services/api/digital-twin'\r\nimport { useDialogStyles } from '../FunctionBlockCategories/List/style'\r\nimport { useFunctionBlockStyles } from '../FunctionBlocks/FunctionBlock/style'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { CheckCircle, Error } from '@material-ui/icons'\r\n\r\nconst NEW_FUNCTIONALITY_RE = /[a-zA-Z0-9]{3,}/\r\nconst FUNCTION_BLOCK_RE = /[a-zA-Z0-9]{3,}/\r\nconst VARIABLE_RE = /[a-zA-Z0-9]{3,}/\r\nconst EVENT_RE = /[a-zA-Z0-9]{3,}/\r\n\r\nlet functionalityId = -1\r\nlet idMonitoredVariable = -1\r\nlet idMonitoredEvent = -1\r\nconst funcUserId = 1\r\n\r\nconst EditFunctionalityDialog = (props: {func: Functionality, onGood: (newFunc: Functionality) => void, onError: () => void, onCancel: () => void}) => {\r\n\r\n  const [newFuncName, setNewFuncName] : [string,Function] = useState(props.func.funcName)\r\n\r\n  const [sending, setSending] : [boolean, Function] = useState(false)\r\n\r\n  const [result, setResult] : [{done: boolean, good?: boolean, message?: string},Function] = useState({done:false})\r\n\r\n  const classes = useDialogStyles()\r\n  \r\n  const action = () => {\r\n\r\n    if(props.func.funcId) {\r\n\r\n        if(!result.done) {\r\n\r\n    \r\n              props.func.funcName = newFuncName\r\n\r\n              setSending(true)\r\n  \r\n              updateFunctionality(props.func)\r\n\r\n                  .then((response: RequestResponseState) => {\r\n                      setResult({done:true, good: true, message: response.msg})\r\n                  })\r\n\r\n                  .catch((error: RequestResponseState) => {\r\n                      setResult({done: true, good: false, message: error.msg})\r\n                  })\r\n\r\n                  .finally(() => setSending(false))\r\n\r\n          }\r\n\r\n          else {\r\n\r\n              if(result.good)\r\n                  props.onGood({...props.func, funcName: newFuncName})\r\n              \r\n              else\r\n                  props.onError()\r\n\r\n         }\r\n\r\n        }\r\n  }\r\n\r\n  return (\r\n       \r\n            <Dialog open={true}>\r\n            <DialogTitle>Edit Functionality</DialogTitle>\r\n            <Box className={classes.box}>\r\n                {\r\n                    !result.done \r\n                        ?\r\n                            <TextField \r\n                                disabled={sending}\r\n                                value={newFuncName}\r\n                                onChange={(event) => setNewFuncName(event.target.value)}\r\n                            />\r\n                        :    <Grid container justify=\"center\">\r\n                                <Grid item>\r\n                                    {\r\n                                        result.good \r\n                                            ?   <CheckCircle color=\"primary\" />\r\n                                            :   <Error color=\"error\" />\r\n                                    }\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Box className={result.good ? classes.good : classes.error} textAlign=\"center\">{result.message}</Box>\r\n                                </Grid>\r\n                            </Grid> \r\n                }\r\n            </Box>\r\n            <Grid className={classes.buttons} container direction=\"row\" justify=\"space-between\">\r\n                <Grid item>\r\n                    {sending \r\n                        ? <CircularProgress color=\"primary\" />\r\n                        : <Button onClick={action}>Ok</Button>\r\n                    }\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button disabled={sending} onClick={props.onCancel}>Cancel</Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Dialog>\r\n  )\r\n\r\n}\r\n\r\nconst AddFunctionalityDetails = (props: {func: Functionality, onGood: (newFunc: Functionality) => void, onError: () => void, onCancel: () => void}) => {\r\n\r\n    const [newFuncName, setNewFuncName] : [string,Function] = useState(props.func.funcName)\r\n  \r\n    const classes = useDialogStyles()\r\n  \r\n    const [sending, setSending] : [boolean, Function] = useState(false)\r\n  \r\n    const [result, setResult] : [{done: boolean, good?: boolean, message?: string},Function] = useState({done:false})\r\n\r\n    const [fetching,setFetching] = useState(true)\r\n    const {data: associatedSmartComponents, dispatchAction: dispatchAssociatedSmartComponentActions} = useStore('associatedSmartComponents')\r\n    const updateAssociatedSmartComponents = (assScs: AssociatedSmartComponent[]) => dispatchAssociatedSmartComponentActions(AssociatedSmartComponentActions.updateAssociatedSmartComponents(assScs))\r\n    const [error,setError] = useState('')\r\n    \r\n    const [availableSmartComponents, setAvailableSmartComponents] : [AssociatedSmartComponent[] , Function] = useState([])\r\n\r\n    // Recuperar da base de dados os Smart Components Associados ao Digital Twin associado\r\n    useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n\r\n    setFetching(true)\r\n    getOrDownloadAssociatedSmartComponents(associatedSmartComponents)\r\n        .then((result: AssociatedSmartComponent[]) =>  updateAssociatedSmartComponents(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n    })\r\n\r\n    let i = 0\r\n\r\n    while( i < associatedSmartComponents.length ) {\r\n        if(associatedSmartComponents[i].scDtId === props.func.funcdtId){\r\n            availableSmartComponents[i] = associatedSmartComponents[i]\r\n        }\r\n        i++\r\n    }\r\n\r\n    // Escolher um AssociatedSmartComponent de dentro dos disponíveis pelo DT respectivo \r\n    const [smartComponentChoice, setSmartComponentChoice] = useState('')\r\n    const [smartComponentIdChoice, setSmartComponentIdChoice] = useState(0)\r\n\r\n    const handleSmartComponentChoice = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n    setSmartComponentChoice(event.target.value as string);\r\n    let j = 0;\r\n    while(j < associatedSmartComponents.length)\r\n    {\r\n        if(associatedSmartComponents[j].scName === (event.target.value as string))\r\n        {\r\n            setSmartComponentIdChoice(associatedSmartComponents[j].scId)\r\n        }\r\n        j++;\r\n    }\r\n    };\r\n\r\n    //Variáveis e funções de apoio à escolha do Function Block\r\n    const [validFunctionBlock, setValidFunctionBlock] : [boolean,Function] = useState(true)\r\n    const [newFb,setNewFb] : [string,Function] = useState('')\r\n    const isFunctionBlockValid = (fb:string) => NEW_FUNCTIONALITY_RE.test(fb)\r\n\r\n    //Variáveis e funções de apoio à escolha da Variable\r\n    const [validVariable, setValidVariable] : [boolean,Function] = useState(true)\r\n    const [newVariable,setNewVariable] : [string,Function] = useState('')\r\n    const isVariableValid = (variable:string) => VARIABLE_RE.test(variable)\r\n\r\n    const buildMonitoredVariable = (funcId: number | undefined) : MonitoredVariable => ({  \r\n        monitoredVariableName: newVariable, fbAssociated: newFb, \r\n        funcIdAssociated: funcId , idMonitoredVariable: idMonitoredVariable,\r\n        scAssociated: smartComponentChoice\r\n    })\r\n\r\n    //Variáveis e funções de apoio à escolha do Event\r\n    const [validEvent, setValidEvent] : [boolean,Function] = useState(true)\r\n    const [newEvent,setNewEvent] : [string,Function] = useState('')\r\n    const isEventValid = (event:string) => EVENT_RE.test(event)\r\n  \r\n    const buildMonitoredEvent = (funcId: number | undefined) : MonitoredEvent => ({  \r\n        monitoredEventName: newEvent, fbAssociated: newFb, \r\n        funcIdAssociated: funcId , idMonitoredEvent: idMonitoredEvent,\r\n        scAssociated: smartComponentChoice\r\n    })\r\n\r\n    //Função de atualização da database com os dados escolhidos \r\n    const action = () => {    \r\n        \r\n        let funcId = props.func.funcId\r\n        const monitoredVariable: MonitoredVariable = buildMonitoredVariable(funcId)\r\n        const monitoredEvent: MonitoredEvent = buildMonitoredEvent(funcId)\r\n\r\n        if(props.func.funcId) {\r\n            \r\n            if(!result.done) {\r\n                \r\n                setSending(true)\r\n\r\n                updateFunctionality(props.func)\r\n  \r\n                    .then((response: RequestResponseState) => {\r\n                        setResult({done:true, good: true, message: response.msg})\r\n                    })\r\n                    .catch((error: RequestResponseState) => {\r\n                        setResult({done: true, good: false, message: error.msg})\r\n                    })\r\n  \r\n                if(newVariable!==''){\r\n\r\n                    createMonitoredVariable(monitoredVariable)\r\n                        .then((response: RequestResponseState) => {\r\n                            setResult({done:true, good: true, message: response.msg})\r\n                        })\r\n                        .catch((error: RequestResponseState) => {\r\n                            setResult({done: true, good: false, message: error.msg})\r\n                        })\r\n                }\r\n                \r\n\r\n                if(newEvent!==''){\r\n\r\n                    createMonitoredEvent(monitoredEvent)\r\n                        .then((response: RequestResponseState) => {\r\n                            setResult({done:true, good: true, message: response.msg})\r\n                        })\r\n                        .catch((error: RequestResponseState) => {\r\n                            setResult({done: true, good: false, message: error.msg})\r\n                        })\r\n                }\r\n\r\n\r\n            }\r\n  \r\n            else {\r\n  \r\n                if(result.good){\r\n                    props.onGood({...props.func, funcName: newFuncName})\r\n                    \r\n                }\r\n                else\r\n                    props.onError()\r\n            }\r\n        }\r\n\r\n        props.onCancel()\r\n        document.location.reload(true)\r\n    }\r\n\r\n    return (\r\n        <Dialog open={true}>\r\n            <DialogTitle>Add Functionality Details</DialogTitle>\r\n            <Box className={classes.box}>\r\n            <Grid item> \r\n\r\n                <Grid container item xs>\r\n                    <Grid className={classes.box} spacing={3} item container direction=\"column\" alignItems=\"flex-start\">\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InputLabel id={`smart-component-label-${availableSmartComponents}`}>DINASORE</InputLabel>\r\n                            <Select labelId={`smart-component-label-${availableSmartComponents}`} value={smartComponentChoice} onChange={handleSmartComponentChoice}>\r\n                            {(availableSmartComponents || []).map((sc: any) => {return <MenuItem key={sc.scId} value={sc.scName}>{`${sc.scAddress}, ${sc.scName}, ${sc.scPort}`}</MenuItem>})}\r\n                            </Select> \r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Function Block\"\r\n                                helperText={!validFunctionBlock ? FUNCTION_BLOCK_RE.toString() : ''}\r\n                                error={!validFunctionBlock}\r\n                                required\r\n                                onChange={(event) => {\r\n                                    setNewFb(event.target.value)\r\n                                    if(!validFunctionBlock)\r\n                                        setValidFunctionBlock(isFunctionBlockValid(event.target.value.trim()))\r\n                                    }}\r\n                                fullWidth\r\n                                value={newFb}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Variable\"\r\n                                helperText={!validVariable ? VARIABLE_RE.toString() : ''}\r\n                                error={!validVariable}\r\n                                required\r\n                                onChange={(event) => {\r\n                                    setNewVariable(event.target.value)\r\n                                    if(!validVariable)\r\n                                        setValidVariable(isVariableValid(event.target.value.trim()))\r\n                                    }}\r\n                                fullWidth\r\n                                value={newVariable}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                label= \"Event\"\r\n                                helperText={!validEvent ? EVENT_RE.toString() : ''}\r\n                                error={!validEvent}\r\n                                required\r\n                                onChange={(event) => {\r\n                                    setNewEvent(event.target.value)\r\n                                    if(!validEvent)\r\n                                        setValidEvent(isEventValid(event.target.value.trim()))\r\n                                    }}\r\n                                fullWidth\r\n                                value={newEvent}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid className={classes.buttons} container direction=\"row\" justify=\"space-between\">\r\n                <Grid item>\r\n                    {sending \r\n                        ? <CircularProgress color=\"primary\" />\r\n                        : <Button onClick={action}>Ok</Button>\r\n                    }\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button disabled={sending} onClick={props.onCancel}>Cancel</Button>\r\n                </Grid>\r\n            </Grid>\r\n         </Box>\r\n        </Dialog>\r\n    )\r\n  \r\n}\r\n\r\nexport const DigitalTwinMonitoring = () => {\r\n    \r\n  const classes = useFunctionBlockStyles()\r\n\r\n  const [fetching,setFetching] = useState(true)\r\n  const [error,setError] = useState('')\r\n  const [newFunc,setNewFunc] : [string,Function] = useState('')\r\n\r\n  const [confirmEditing,setConfirmEditing] : [boolean, Function] = useState(false)\r\n  const [confirmAddFunc,setConfirmAddFunc] : [boolean, Function] = useState(false)\r\n\r\n  const [validNewFunc, setValidNewFunc] : [boolean,Function] = useState(true)\r\n\r\n  const errorFetchingFunctionalityState : ConfirmActionState = {\r\n    label: error,\r\n    state: ConfirmActionStateLabel.error,\r\n    positiveLabel: 'Ok'\r\n  }\r\n\r\n  const [redirectTo, setRedirectTo] : [number, Function] = useState(-1)\r\n\r\n  const {data:functionalities, dispatchAction:dispatchFunctionalityActions} = useStore('functionalities')\r\n  const {data:digitalTwins, dispatchAction:dispatchDigitalTwinActions} = useStore('digitalTwins')\r\n  const {data:monitoredVariables, dispatchAction:dispatchMonitoredVariableActions} = useStore('monitoredVariables')\r\n  const {data:monitoredEvents, dispatchAction:dispatchMonitoredEventActions} = useStore('monitoredEvents')\r\n\r\n  const onCancel = () => setError('')\r\n\r\n  const updateFunctionalities = (funcs: Functionality[]) => dispatchFunctionalityActions(FunctionalityActions.updateFunctionalities(funcs))\r\n  const updateDigitalTwins = (dts: DigitalTwin[]) => dispatchDigitalTwinActions(DigitalTwinActions.updateDigitalTwins(dts))\r\n  const updateMonitoredVariables = (monVars: MonitoredVariable[]) => dispatchMonitoredVariableActions(MonitoredVariableActions.updateMonitoredVariable(monVars))\r\n  const updateMonitoredEvents = (monEvs: MonitoredEvent[]) => dispatchMonitoredEventActions(MonitoredEventActions.updateMonitoredEvent(monEvs))  \r\n  \r\n  const addFunc = () => dispatchFunctionalityActions(FunctionalityActions.addFunctionality({funcId: functionalityId, funcUserId: 1 , funcName: newFunc, funcdtId: 1}))\r\n \r\n  const [editingFunc, setEditingFunc] : [Functionality | null,Function] = useState(null)\r\n  const [addDetailsFunc, setAddDetailsFunc] : [Functionality | null,Function] = useState(null)\r\n\r\n  const indexes = [\r\n    {label: 'Functionality', key: 'funcName'},\r\n    {label: 'Digital Twin', key: 'dtName'},\r\n  ]\r\n\r\n  // Recuperar da base de dados as funcionalidades (Functionality)\r\n  useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n\r\n    setFetching(true)\r\n    getOrDownloadFunctionalities(functionalities)\r\n        .then((result: Functionality[]) => updateFunctionalities(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n  })\r\n\r\n  // Recuperar da base de dados os digital twins (DigitalTwin)\r\n  useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n\r\n    setFetching(true)\r\n    getOrDownloadDigitalTwins(digitalTwins)\r\n        .then((result: DigitalTwin[]) => updateDigitalTwins(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n  })\r\n\r\n  const isFunctionalityValid = (func:string) => NEW_FUNCTIONALITY_RE.test(func)\r\n\r\n  const validateAndCreate = () => {\r\n\r\n  const validFunc = isFunctionalityValid(newFunc)\r\n\r\n    if(!validFunc)\r\n        setValidNewFunc(false)\r\n    else{\r\n        setConfirmAddFunc(true)\r\n    }\r\n     \r\n    \r\n  }\r\n\r\n  const buildFunctionality = () : Functionality => ({\r\n    funcName: newFunc, funcId: functionalityId,\r\n    funcdtId: digitalTwinIdChoice , funcUserId, funcdtName: digitalTwinChoice\r\n  })\r\n\r\n  const addNewFunctionalityAction = () : Promise<string> => {\r\n\r\n    const functionality : Functionality = buildFunctionality()\r\n\r\n    return new Promise<string>((res:Function, rej:Function)  => {\r\n\r\n        createFunctionality(functionality)\r\n\r\n            .then((result: RequestResponseState) => {\r\n            functionalityId = result.extra.lastInsertedId\r\n                res('Functionality created')\r\n            })\r\n\r\n            .catch((e:RequestResponseState) => rej(e.msg))\r\n\r\n    })\r\n  }\r\n\r\n  const confirmFunctionalityCreationActionStates = {\r\n    start: {\r\n      label: `Confirm creation of new functionality: ${newFunc} ?`,\r\n      positiveLabel: 'Ok',\r\n      negativeLabel: 'Cancel',\r\n      state: ConfirmActionStateLabel.start\r\n    },\r\n    executing: {\r\n      label: '',\r\n      state: ConfirmActionStateLabel.executing,\r\n    },\r\n    success: {\r\n      label: 'Functionality Created',\r\n      state: ConfirmActionStateLabel.success,\r\n      positiveLabel: 'Ok'\r\n    },\r\n    error: {\r\n      label: 'Error Creating Functionality',\r\n      state: ConfirmActionStateLabel.error,\r\n      positiveLabel: 'Ok'\r\n    },\r\n  }\r\n\r\n  const confirmActionProps : ConfirmActionProps = {\r\n\r\n    title: 'Add Functionality',\r\n    states: confirmFunctionalityCreationActionStates,\r\n    currentState: confirmFunctionalityCreationActionStates.start,\r\n    onCancel: () => setConfirmAddFunc(false),\r\n    onError: () => setConfirmAddFunc(false),\r\n    onSuccess: () => {\r\n        addFunc()\r\n        setNewFunc('')\r\n        document.location.reload(true)\r\n    },\r\n    action: addNewFunctionalityAction,\r\n  }\r\n\r\n  const getDataFunctionality = () => functionalities.map((functionality: Functionality) => {\r\n\r\n    return {\r\n          ...functionality,\r\n    }\r\n  })\r\n\r\n   // Recuperar da base de dados os monitoredEvents (MonitoredEvent)\r\n   useMountEffect(() => {\r\n\r\n    setTimeout(() => {\r\n    \r\n    setFetching(true)\r\n    getOrDownloadMonitoredEvents(monitoredEvents)\r\n        .then((result: MonitoredEvent[]) => updateMonitoredEvents(result))\r\n        .catch((e:RequestResponseState) => setError(e.msg))\r\n        .finally(() => setFetching(false))\r\n    }, 0)\r\n\r\n    })\r\n\r\n    // Recuperar da base de dados as monitoredVariables (MonitoredVariable)\r\n      useMountEffect(() => {\r\n\r\n        setTimeout(() => {\r\n\r\n        setFetching(true)\r\n        getOrDownloadMonitoredVariables(monitoredVariables)\r\n            .then((result: MonitoredVariable[]) => updateMonitoredVariables(result))\r\n            .catch((e:RequestResponseState) => setError(e.msg))\r\n            .finally(() => setFetching(false))\r\n        }, 0)\r\n    })\r\n\r\n  const deleteFunctionalityAction = (func: Functionality) : Promise<any> => {\r\n\r\n    return new Promise(async(res:Function,rej:Function) => {\r\n\r\n        let monitoredVariablesToDelete = []\r\n        let monitoredEventsToDelete = []\r\n        let i = 0\r\n        \r\n        while(i < monitoredVariables.length) {\r\n            if(monitoredVariables[i].funcIdAssociated === func.funcId){\r\n                monitoredVariablesToDelete.push(monitoredVariables[i])\r\n            } \r\n            i++\r\n        }   \r\n\r\n        i=0\r\n\r\n        while(i < monitoredEvents.length) {\r\n            if(monitoredEvents[i].funcIdAssociated === func.funcId){\r\n                monitoredEventsToDelete.push(monitoredEvents[i])\r\n            } \r\n            i++\r\n        }  \r\n\r\n        if(!func.funcId) {\r\n            rej('Error')\r\n            return\r\n        }\r\n\r\n        try {\r\n\r\n            const response : RequestResponseState = await deleteFunctionality(func.funcId)\r\n            \r\n            i=0\r\n            while(i < monitoredVariablesToDelete.length){\r\n                const response1 : RequestResponseState = await deleteMonitoredVariable(monitoredVariablesToDelete[i].idMonitoredVariable)\r\n                res(response1)\r\n                i++\r\n            }\r\n\r\n            i=0 \r\n            while(i < monitoredEventsToDelete.length){\r\n                const response1 : RequestResponseState = await deleteMonitoredEvent(monitoredEventsToDelete[i].idMonitoredEvent)\r\n                res(response1)\r\n                i++\r\n            }\r\n\r\n            res(response)\r\n          }\r\n\r\n        catch(err) {\r\n            rej(err)\r\n        }\r\n    })\r\n  }\r\n\r\n  //Adicionar Detalhes à Funcionalidade\r\n  const cancelAddDetails = () => setAddDetailsFunc(null);\r\n  const showAddDetails = (func: Functionality) => setAddDetailsFunc(func)\r\n  \r\n  //Editar a Funcionalidade\r\n  const cancelEditing = () => setEditingFunc(null)\r\n  const showEditing = (func: Functionality) => setEditingFunc(func)\r\n\r\n  const onGoodEditing = (editingFunctionality: Functionality) => {\r\n      \r\n    const newFunctionalities = functionalities.map((func: Functionality) => {\r\n\r\n    if(func.funcId === editingFunctionality.funcId)\r\n        return {...func, funcName: editingFunctionality.funcName, funcdtId: editingFunctionality.funcdtId}\r\n    return func\r\n\r\n    })\r\n  \r\n    cancelEditing()\r\n    dispatchFunctionalityActions(FunctionalityActions.updateFunctionalities(newFunctionalities))\r\n  }\r\n\r\n  // Associar um digital twin à nova funcionalidade criada\r\n  const [digitalTwinChoice, setDigitalTwinChoice] = useState('')\r\n  const [digitalTwinIdChoice, setDigitalTwinIdChoice] = useState(0)\r\n\r\n  const handleDigitalTwinChoice = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n    setDigitalTwinChoice(event.target.value as string);\r\n    let i = 0;\r\n    while(i < digitalTwins.length)\r\n    {\r\n        if(digitalTwins[i].dtName === (event.target.value as string))\r\n        {\r\n            setDigitalTwinIdChoice(digitalTwins[i].dtId)\r\n        }\r\n        i++;\r\n    }\r\n   \r\n  };\r\n  \r\n  const redirectToList = (func : Functionality) => {\r\n      setRedirectTo(func.funcId)\r\n  }\r\n  \r\n  if(redirectTo !== -1) \r\n  return  <Redirect to={`/functionality-details/${redirectTo}`} push={true}/>\r\n  \r\n  return (\r\n    <Navigator title=\"Digital Twin Monitoring\">\r\n    <> \r\n        {error !== ''\r\n                ? <ConfirmAction title='Fetching Functionalities' currentState={errorFetchingFunctionalityState} states={{error: errorFetchingFunctionalityState}} onCancel={onCancel}/>\r\n                : null \r\n        }\r\n        <LazyComponent loaded={!fetching}>\r\n        <>\r\n            {confirmEditing\r\n                ? <ConfirmAction {...confirmActionProps} /> \r\n                : editingFunc\r\n                ? <EditFunctionalityDialog\r\n                    onGood={onGoodEditing}\r\n                    func={editingFunc}\r\n                    onError={cancelEditing}\r\n                    onCancel={cancelEditing} />\r\n                    : null\r\n            }\r\n            {confirmAddFunc \r\n                ? <ConfirmAction {...confirmActionProps} /> \r\n                : addDetailsFunc\r\n                ?  <AddFunctionalityDetails\r\n                    onGood={onGoodEditing}\r\n                    func={addDetailsFunc}\r\n                    onError={cancelAddDetails}\r\n                    onCancel={cancelAddDetails} />\r\n                    : null\r\n            }\r\n            <Grid container direction=\"column\" spacing={2}>\r\n                <Grid item>\r\n                    <JPTable\r\n                            sortedkey=\"funcName\"\r\n                            data={getDataFunctionality()} \r\n                            updateData={updateFunctionalities} \r\n                            indexes={indexes} \r\n                            tName='Functionality'\r\n                            extra={{\r\n                                delete: {\r\n                                    action: deleteFunctionalityAction,\r\n                                    labelKey: 'funcName',\r\n                                    onSuccessDelete: () => {}\r\n                                },\r\n                                edit: {\r\n                                    action: showEditing\r\n                                },\r\n                                details: {\r\n                                    action: redirectToList\r\n                                },\r\n                                add: {\r\n                                    action: showAddDetails\r\n                                }\r\n                            }} \r\n                    />\r\n                </Grid>\r\n                <Grid item xs>\r\n                    New Functionality\r\n                </Grid>\r\n                <Grid item> \r\n                    <Grid container item xs>\r\n                        <Grid className={classes.box} spacing={1} item container direction=\"row\">\r\n                            <Grid item xs={4}>\r\n                                <TextField\r\n                                    helperText={!validNewFunc ? NEW_FUNCTIONALITY_RE.toString() : ''}\r\n                                    error={!validNewFunc}\r\n                                    label=\"Insert new functionality name\" \r\n                                    required\r\n                                    onChange={(event) => {\r\n                                        setNewFunc(event.target.value)\r\n                                        if(!validNewFunc)\r\n                                            setValidNewFunc(isFunctionalityValid(event.target.value.trim()))\r\n                                    }}\r\n                                    fullWidth\r\n                                    value={newFunc}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={4}>\r\n                                <InputLabel id={`digital-twin-label-${newFunc}`}>Digital Twin</InputLabel>\r\n                                <Select labelId={`digital-twin-label-${newFunc}`} value={digitalTwinChoice} onChange={handleDigitalTwinChoice}>\r\n                                {(digitalTwins || []).map((digitalTwin: any) => {return <MenuItem key={digitalTwin.dtId} value={digitalTwin.dtName}>{digitalTwin.dtName}</MenuItem>})}\r\n                                </Select>\r\n                            </Grid>\r\n                            <Grid container justify=\"flex-end\" spacing={1}>\r\n                                <Grid item>\r\n                                    <Button\r\n                                    color=\"primary\"\r\n                                    variant=\"contained\"\r\n                                    onClick={validateAndCreate}\r\n                                    >\r\n                                    Add Functionality\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n        </LazyComponent>\r\n    </>\r\n    </Navigator>\r\n )\r\n}\r\n","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/digitalTwins.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/SmartComponents/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/functionBlock.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlockCategories/List/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/digital-twin.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/function-block.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/DigitalTwinForm.tsx",["249","250"],"import { useState, useCallback } from 'react'\nimport { TextField, Grid, Button } from '@material-ui/core'\nimport { SmartComponent } from '../../model'\nimport { useFunctionBlockStyles } from '../FunctionBlocks/FunctionBlock/style'\nimport { Done, Clear } from '@material-ui/icons'\nimport { ConfirmActionProps, ConfirmActionStateLabel, ConfirmActionAction, ConfirmAction } from '../templates/ConfirmAction/ConfirmAction'\nimport { SmartComponentActions } from '../../redux/actions'\nimport { useStore } from '../templates/Store/Store'\nimport { SmartComponentList } from './SmartComponent'\n\nconst updateOnRemoveSmartComponent = (smartComponents: SmartComponent[], smartComponentToRemove: SmartComponent ) : SmartComponent[] => {\n\n  const newSmartComponents : SmartComponent[] = [...smartComponents]\n  newSmartComponents.forEach((sc: SmartComponent) => {\n\n      //sc.scName = sc.scName.filter((smartComponent: SmartComponent) => smartComponent.scName !== smartComponentToRemove.scName)\n\n  })\n\n  return newSmartComponents\n\n}\n\ninterface DigitalTwinFormProps {\n\n    dtName: {\n        dtName: string\n        setDtName: Function\n    },\n    associatedSc: {\n        associatedSc: SmartComponent[]\n        setAssociatedSc: Function\n    }\n    cancel: {\n        label: string\n        action: () => void\n    },\n    confirmDialog: {\n        buttonTitle: string\n        title: string\n        initialState: ConfirmActionStateLabel\n        action: ConfirmActionAction\n        onSuccess : () => void\n        start? : {\n            label: string\n            positiveLabel: string\n            negativeLabel: string\n        }\n        success: {\n            label:string\n            positiveLabel: string\n        }\n        error: {\n            label: string\n            positiveLabel: string\n        }\n    },\n    order?: number,\n    newSc?: boolean,\n}\n\nexport const DigitalTwinForm = (props: DigitalTwinFormProps) => {\n\n    /**styles */\n    const classes = useFunctionBlockStyles()\n\n    /**Digital Twin*/\n    const {dtName, setDtName} = props.dtName\n    const [validDtName, setValidDtName] = useState(true)\n    const onChangeDtName = useCallback((event:any) => {\n\n        setDtName(event.target.value.trim())\n        setValidDtName(true)\n    \n      },[setDtName])\n\n    /* Buttons */\n\n    const onCancel = props.cancel.action\n    const cancelLabel = props.cancel.label\n\n    const confirmLabel = props.confirmDialog.buttonTitle\n\n    /* Confirmation */\n\n    const [confirm, setConfirm] : [boolean, Function] = useState(false)\n\n    const validateFields = () : boolean => {\n\n        const cValidDtName = dtName.trim() !== ''\n            \n        if(!cValidDtName) setValidDtName(cValidDtName)\n    \n        return cValidDtName \n    \n    }\n\n    const confirmButtonAction = () => {\n\n        if(validateFields())\n          setConfirm(true)\n    }\n\n    const confirmActionStates = {\n        start: {\n            label: props.confirmDialog.start?.label,\n            positiveLabel: props.confirmDialog.start?.positiveLabel,\n            negativeLabel: props.confirmDialog.start?.negativeLabel,\n            state: ConfirmActionStateLabel.start\n        },\n        executing: {\n          label: '',\n          state: ConfirmActionStateLabel.executing,\n        },\n        success: {\n          label: props.confirmDialog.success.label,\n          state: ConfirmActionStateLabel.success,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n        error: {\n          label: props.confirmDialog.error.label,\n          state: ConfirmActionStateLabel.error,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n      }\n    \n    const confirmActionProps : ConfirmActionProps = {\n\n        title: props.confirmDialog.title,\n        states: confirmActionStates,\n        currentState: confirmActionStates.executing,\n        onCancel: () => setConfirm(false),\n        onError: () => setConfirm(false),\n        onSuccess: props.confirmDialog.onSuccess,\n        action:props.confirmDialog.action,\n      \n    }\n  \n    //Associar um SmartComponent pelo frontend\n    \n    const {data:smartComponents, dispatchAction:dispatchSmartComponentActions} = useStore('smartComponents')\n    const updateSmartComponents = (scs: SmartComponent[]) => dispatchSmartComponentActions(SmartComponentActions.updateSmartComponent(scs))\n\n    const {associatedSc, setAssociatedSc} = props.associatedSc\n\n    const onSmartComponentRemoval = useCallback((smartComponentToRemove: SmartComponent) => {\n\n      setAssociatedSc((prevSmartComponents: SmartComponent[]) =>  updateOnRemoveSmartComponent(prevSmartComponents,smartComponentToRemove))\n\n  }, [setAssociatedSc])\n  \n  console.log(\"associatedSc:\", associatedSc)\n\n    return (\n      <Grid className={classes.box} spacing={2} container direction=\"column\" component=\"form\">\n        <> {confirm ? <ConfirmAction {...confirmActionProps} /> : null}\n          <Grid spacing={1} justify=\"space-between\" item xs container direction=\"row\">\n            <Grid item xs={6}>\n              <TextField\n                onChange={onChangeDtName} \n                value={dtName}\n                helperText=\"\"\n                error={!validDtName} \n                fullWidth required \n                label=\"New Digital Twin Name\" \n                id=\"dt-name\" \n                type=\"text\" />\n            </Grid>\n          </Grid>\n          <Grid item container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\n            {props.order ?\n            <Grid item xs={1}>\n                {props.order}\n            </Grid>\n            : null\n            }\n            <Grid className={classes.box} spacing={1} item container direction=\"row\">\n                <Grid item xs={6}>\n                  <SmartComponentList onSmartComponentRemoval={onSmartComponentRemoval} setSmartComponents={setAssociatedSc}  title=\"Smart Component\" smartComponents={associatedSc} />\n                </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs container direction=\"row\" justify=\"space-between\" alignItems=\"center\"> \n            <Grid item xs={6} container direction=\"row\" spacing={2} alignItems=\"center\" justify=\"flex-end\">\n              <Grid item>\n                  <Button onClick={onCancel} color=\"secondary\" variant=\"contained\"><Clear/>{cancelLabel}</Button>\n              </Grid>\n              <Grid>\n                <Button onClick={confirmButtonAction} color=\"primary\" variant=\"contained\"><Done/>{confirmLabel}</Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </>\n    </Grid>\n  ) \n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Navigator/Navigator.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/ConfirmAction.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/LazyComponent/LazyComponent.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/FunctionBlockForm.tsx",["251","252","253"],"import React, { useState, useCallback, useEffect } from 'react'\nimport { FormControl, InputLabel, TextField, Grid, Select, MenuItem, Box, Button,Typography, Chip } from '@material-ui/core'\nimport { FBGeneralCategory, Variable, InOutType, Event, EventVariable, FunctionBlock, FBCategory, ExternalDependency } from '../../../model'\nimport { useFunctionBlockStyles } from './style'\nimport { VariableList } from './Variable'\nimport { setSimpleField, useMountEffect } from '../../../utils/main'\nimport { EventList } from './Event'\nimport { Done, Clear } from '@material-ui/icons'\nimport { ReactComponent as UploadIcon } from '../../../icons/Upload.svg'\nimport { getFBfromFbtFile, getOrDownloadFunctionBlockCategories } from '../../../utils/functionBlock'\nimport { ConfirmActionProps, ConfirmActionStateLabel, ConfirmActionAction, ConfirmAction } from '../../templates/ConfirmAction/ConfirmAction'\nimport { useStore } from '../../templates/Store/Store'\nimport { FunctionBlockCategoriesActions } from '../../../redux/actions'\nimport { SmartComponentList } from '../../DigitalTwin/SmartComponent'\n\nconst DEFAULT_VALUES = {\n    eventType: 'Event'\n}\n\nconst updateEventVariablesOnRemoveVariable = (events:Event[], variableToRemove:Variable, ) : Event[] => {\n\n    const newEvents : Event[] = [...events]\n    newEvents.forEach((event: Event) => {\n\n        event.eventVariables = event.eventVariables.filter((ev: EventVariable) => ev.evVariableName !== variableToRemove.variableName)\n\n    })\n\n    return newEvents\n\n}\n\nconst updateEventVariablesOnUpdateVariable = (events:Event[], oldVariable:Variable,variableEdited:Variable) : Event[] => {\n\n    const newEvents : Event[] = [...events]\n    newEvents.forEach((event: Event) => {\n\n      event.eventVariables = event.eventVariables.map((ev: EventVariable) => {\n        if(ev.evVariableName === oldVariable.variableName)\n          return {\n            evVariableName: variableEdited.variableName,\n            evEventName: event.eventName\n          }\n        else\n          return ev\n      }) \n\n    })\n\n    return newEvents\n\n}\n\ninterface FunctionBlockFormProps {\n\n    fbType: {\n        fbType: string\n        setFbType: Function\n    },\n    fbGeneralCategory: {\n        fbGeneralCategory: '' | FBGeneralCategory\n        setfbGeneralCategory: Function\n    },\n    fbCategory: {\n      fbCategory: FBCategory\n      setFbCategory: Function\n    }\n    fbDescription: {\n        fbDescription: string\n        setFbDescription: Function\n    },\n    fbInputVariables: {\n        fbInputVariables: Variable[]\n        setFbInputVariables: Function\n    }\n    fbOutputVariables: {\n        fbOutputVariables: Variable[]\n        setFbOutputVariables: Function\n    },\n    fbInputEvents: {\n        fbInputEvents: Event[]\n        setFbInputEvents: Function\n    }\n    fbOutputEvents: {\n        fbOutputEvents: Event[]\n        setFbOutputEvents: Function\n    },\n    fbExternalDependencies: {\n      fbExternalDependencies: ExternalDependency[]\n      setFbExternalDependencies: Function\n    }\n    fbImplFile: {\n        fbImplFile: File\n        setFbImplFile: Function\n    },\n    cancel: {\n        label: string\n        action: () => void\n    },\n    confirmDialog: {\n        buttonTitle: string\n        title: string\n        initialState: ConfirmActionStateLabel\n        action: ConfirmActionAction\n        onSuccess : () => void\n        start? : {\n            label: string\n            positiveLabel: string\n            negativeLabel: string\n        }\n        success: {\n            label:string\n            positiveLabel: string\n        }\n        error: {\n            label: string\n            positiveLabel: string\n        }\n    },\n    byPassFields?: {\n      fbImplFile: boolean\n    }\n}\n\nexport const FunctionBlockForm = (props: FunctionBlockFormProps) => {\n\n    /**styles */\n    const classes = useFunctionBlockStyles()\n\n    /**list of categories */\n    const {data: functionBlockCategories, dispatchAction:dispatchFunctionBlockCategoriesActions} = useStore('functionBlockCategories')\n\n    const [validCategory,setValidCategory] : [boolean, Function] = useState(true)\n\n    /**Fb type */\n    const {fbType, setFbType} = props.fbType\n    const [validType, setValidType] = useState(true)\n    const onChangeFBType = useCallback((event:any) => {\n\n        setFbType(event.target.value.trim())\n        setValidType(true)\n    \n      },[setFbType])\n\n    /**FB General Category */\n    const {fbGeneralCategory, setfbGeneralCategory} = props.fbGeneralCategory\n    const [validGeneralCategory, setValidGeneralCategory] = useState(true)\n    const [generalCategoryNames,setGeneralCategoryNames] : [string[],Function] = useState([...Object.values(FBGeneralCategory), ''])\n    \n    /**Db Description */\n    const {fbCategory,setFbCategory} = props.fbCategory\n\n    /**Db Description */\n    const {fbDescription,setFbDescription} = props.fbDescription\n    const [validDescription, setValidDescription] = useState(true)\n\n    /* Variables and Events */\n    const {fbInputVariables, setFbInputVariables} = props.fbInputVariables\n    const {fbOutputVariables, setFbOutputVariables} = props.fbOutputVariables\n    \n    const getEmptyEvent = (type:InOutType) : Event => ({\n        eventId: -1,\n        eventOpcua: \"\",\n        eventInoutType: type,\n        eventName: '',\n        eventType:DEFAULT_VALUES.eventType,\n        eventVariables: [] \n    })\n\n    const [newInputEvent,setNewInputEvent] : [Event,Function] = useState(getEmptyEvent(InOutType.in))\n    const [newOutputEvent,setNewOutputEvent] : [Event,Function] = useState(getEmptyEvent(InOutType.out))\n\n    const {fbInputEvents, setFbInputEvents} = props.fbInputEvents\n    const {fbOutputEvents, setFbOutputEvents} = props.fbOutputEvents\n\n    /** Variable Update and Edition */\n    \n    const onInputVariableRemoval = useCallback((variableToRemove: Variable) => {\n\n        setFbInputEvents((prevEvents: Event[]) => updateEventVariablesOnRemoveVariable(prevEvents,variableToRemove))\n        setNewInputEvent((prevEvent:Event) => updateEventVariablesOnRemoveVariable([prevEvent],variableToRemove)[0])\n\n    }, [setFbInputEvents])\n\n    const onOutputVariableRemoval = useCallback((variableToRemove: Variable) => {\n\n        setFbOutputEvents((prevEvents: Event[]) => updateEventVariablesOnRemoveVariable(prevEvents,variableToRemove))\n        setNewOutputEvent((prevEvent: Event) => updateEventVariablesOnRemoveVariable([prevEvent],variableToRemove)[0])\n    \n    }, [setFbOutputEvents])\n\n\n    const onInputVariableEdition = useCallback((oldVariable:Variable, newVariable: Variable) => {\n\n        setFbInputEvents((prevEvents: Event[]) => updateEventVariablesOnUpdateVariable(prevEvents,oldVariable,newVariable))\n        setNewInputEvent((prevNewEvent: Event) => updateEventVariablesOnUpdateVariable([prevNewEvent],oldVariable,newVariable)[0])\n    \n    },[setFbInputEvents])\n    \n      const onOutputVariableEdition = useCallback((oldVariable:Variable, newVariable: Variable) => {\n    \n        setFbOutputEvents((prevEvents: Event[]) => updateEventVariablesOnUpdateVariable(prevEvents,oldVariable,newVariable))\n        setNewOutputEvent((pevEvent: Event) => updateEventVariablesOnUpdateVariable([pevEvent],oldVariable,newVariable)[0])\n    \n    },[setFbOutputEvents])\n\n\n    /* Event edition */\n\n    const addNewInputEvent = useCallback(() => {\n\n        setFbInputEvents((prevEvents: Event[]) => [...prevEvents, newInputEvent])\n        setNewInputEvent(getEmptyEvent(InOutType.in))\n    \n    },[newInputEvent, setFbInputEvents])\n    \n    const addNewOutputEvent = useCallback(() => {\n\n        setFbOutputEvents((prevEvents: Event[]) => [...prevEvents, newOutputEvent])\n        setNewOutputEvent(getEmptyEvent(InOutType.out))\n\n    },[newOutputEvent, setFbOutputEvents])\n    \n    const removeInputEvent = useCallback((eventToRemove: Event) => setFbInputEvents((prevEvents:Event[]) => prevEvents.filter((event:Event) => event !== eventToRemove)), [setFbInputEvents]) \n    const removeOutputEvent = useCallback((eventToRemove: Event) => setFbOutputEvents((prevEvents:Event[]) => prevEvents.filter((event:Event) => event !== eventToRemove)), [setFbOutputEvents]) \n    \n    const setEvent = (type:InOutType) => (event:Event,index:number) => {\n    \n        const setFunction = type === InOutType.in ? setFbInputEvents : setFbOutputEvents\n    \n        setFunction((prevEvents:Event[]) => {\n    \n          const newEvents : Event[] = [...prevEvents]\n          newEvents[index] = event\n          return newEvents\n        \n        })\n    \n    }\n\n    const setInputEvent = useCallback(setEvent(InOutType.in),[])\n    const setOutputEvent = useCallback(setEvent(InOutType.out),[])\n\n    /* Dependencies */\n\n    const {fbExternalDependencies, setFbExternalDependencies} = props.fbExternalDependencies\n    const [currentDependency, setCurrentDependency] : [string,Function] = useState('')\n\n    const addDependency = useCallback(() => {\n\n      setFbExternalDependencies((prevDependencies: ExternalDependency[]) => {\n\n        const name = currentDependency.trim()\n        setCurrentDependency('')\n        if(name === '' || prevDependencies.filter((ed: ExternalDependency) => ed.edName === name).length)\n          return prevDependencies\n        return [...prevDependencies, {edName: currentDependency}]\n      })\n\n    }, [setFbExternalDependencies, currentDependency])\n\n    const deleteDependency = useCallback((ed: ExternalDependency) => () => {\n\n      setFbExternalDependencies((prevDependencies: ExternalDependency[]) => prevDependencies.filter((cEd:ExternalDependency) => cEd.edName !== ed.edName))\n\n    }, [setFbExternalDependencies])\n\n    const onChangeCurrentDependency = useCallback((event: any) => setCurrentDependency(event.target.value), [])\n\n    /* Implementation File */\n\n    const {fbImplFile, setFbImplFile} = props.fbImplFile\n    const [validFile, setValidFile] = useState(true)\n\n    const changeImplFile = (event:any) => {\n\n        if(event.target.files.length > 0) {\n          setFbImplFile(event.target.files[0])\n          setValidFile(true)\n        }\n    \n    }\n\n    /* FBT file reading */\n\n    const [errorReadingFBT,setErrorReadingFBT] : [{msg:string, err: boolean, file:boolean},Function] = useState({msg:'', err: false, file:false})\n    \n    const loadFiles = useCallback((fileList: FileList) => {\n\n        if(fileList.length > 0) {\n    \n          let fbt: File | undefined = undefined\n          let py : File | undefined = undefined\n    \n          for(let i = 0; i < fileList.length; i++) {\n    \n            let file = fileList[i]\n    \n            if(/.*.(fbt|xml)$/.test(file.name)) \n              fbt = file\n            else if (/.*.py$/.test(file.name))\n              py = file\n             \n            if(fbt && py)\n              break\n          }\n\n          if(!fbt && !py) {\n            setErrorReadingFBT({file:true, err:true, msg:'Only .fbt and .xml files for fb definition or .py files for fb implementation'})\n            return\n          }\n    \n          else {\n    \n            if(fbt) {\n    \n              getFBfromFbtFile(fbt)\n                .then((result: FunctionBlock) => {\n        \n                  setFbType(result.fbType)\n                  setFbDescription(result.fbType)\n                  setfbGeneralCategory(result.fbGeneralCategory)\n                  setFbInputVariables(result.fbInputVariables)\n                  setFbOutputVariables(result.fbOutputVariables)\n                  setFbInputEvents(result.fbInputEvents)\n                  setFbOutputEvents(result.fbOutputEvents)\n        \n                  setValidType(true)\n                  setValidDescription(true)\n                  setValidGeneralCategory(!!result.fbGeneralCategory)\n                  setErrorReadingFBT({err:false,msg:'',file:true})\n        \n                })\n                .catch((error) => {\n                  console.error(error)\n                  setErrorReadingFBT({file:true,err: true, msg:error.toString()})\n        \n                })\n            }\n    \n            if(py) {\n              setFbImplFile(py)\n              setValidFile(true)\n    \n            }\n    \n          }\n        }\n    \n    }, [setFbDescription,setFbImplFile,setFbInputEvents,setFbInputVariables,setFbOutputEvents,setFbOutputVariables,setFbType,setfbGeneralCategory])\n\n    const onChangeFBTFile = useCallback((event:any) => loadFiles(event.target.files),[loadFiles])\n\n    /* Dropping Files */\n    const addPreventWindowToOpenFile = () => {\n        window.addEventListener('dragover', preventDefaultAction)\n        window.addEventListener('drop',preventDefaultAction)\n    }\n    \n    const removePreventWindowToOpenFile = () => {\n        window.removeEventListener('dragover', preventDefaultAction)\n        window.removeEventListener('drop',preventDefaultAction)\n    } \n     \n    const preventDefaultAction = (event:any) => event.preventDefault()\n    const changeGeneralCategory = useCallback((category: FBGeneralCategory | \"\") => {\n\n      const valid = category !== ''\n\n      if(valid)  \n        setGeneralCategoryNames(Object.values(FBGeneralCategory))\n      \n      setfbGeneralCategory(category)\n      setValidGeneralCategory(true)\n\n    },[setfbGeneralCategory])\n      \n    useMountEffect(() => {\n      \n      addPreventWindowToOpenFile()\n      getOrDownloadFunctionBlockCategories(functionBlockCategories)\n        .then((result: FBCategory[]) => {\n          dispatchFunctionBlockCategoriesActions(FunctionBlockCategoriesActions.updateFunctionBlockCategories(result))\n        })\n        .catch((err) => console.error(err))\n\n    },removePreventWindowToOpenFile)\n    useEffect(() => changeGeneralCategory(fbGeneralCategory),[changeGeneralCategory,fbGeneralCategory])\n\n    const onDropFiles = useCallback((event:any) => loadFiles(event.dataTransfer.files),[loadFiles])\n\n    /* Buttons */\n\n    const onCancel = props.cancel.action\n    const cancelLabel = props.cancel.label\n\n    const confirmLabel = props.confirmDialog.buttonTitle\n\n    /* Confirmation */\n\n    const [confirm, setConfirm] : [boolean, Function] = useState(false)\n\n    const validateFields = () : boolean => {\n\n        const cValidType = fbType.trim() !== ''\n        const cValidDescription = fbDescription.trim() !== ''\n        const cValidGeneralCategory = !!fbGeneralCategory\n        const cValidCategory = fbCategory.fbcId !== -1\n        const cValidFile = !!props.byPassFields?.fbImplFile || fbImplFile.name !== ''  \n            \n        if(!cValidType) setValidType(cValidType)\n        if(!cValidDescription) setValidDescription(cValidDescription)\n        if(!cValidGeneralCategory) setValidGeneralCategory(cValidGeneralCategory)\n        if(!cValidCategory) setValidCategory(cValidCategory)\n        if(!cValidFile) setValidFile(cValidFile)\n    \n        return cValidType && cValidGeneralCategory && cValidCategory && cValidDescription && cValidFile\n    \n    }\n\n    const confirmButtonAction = () => {\n\n        if(validateFields())\n          setConfirm(true)\n    }\n\n    const confirmActionStates = {\n        start: {\n            label: props.confirmDialog.start?.label,\n            positiveLabel: props.confirmDialog.start?.positiveLabel,\n            negativeLabel: props.confirmDialog.start?.negativeLabel,\n            state: ConfirmActionStateLabel.start\n        },\n        executing: {\n          label: '',\n          state: ConfirmActionStateLabel.executing,\n        },\n        success: {\n          label: props.confirmDialog.success.label,\n          state: ConfirmActionStateLabel.success,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n        error: {\n          label: props.confirmDialog.error.label,\n          state: ConfirmActionStateLabel.error,\n          positiveLabel: props.confirmDialog.success.positiveLabel\n        },\n      }\n    \n    const confirmActionProps : ConfirmActionProps = {\n\n        title: props.confirmDialog.title,\n        states: confirmActionStates,\n        currentState: confirmActionStates.executing,\n        onCancel: () => setConfirm(false),\n        onError: () => setConfirm(false),\n        onSuccess: props.confirmDialog.onSuccess,\n        action:props.confirmDialog.action,\n      \n    }\n\n    return (\n        <> {confirm ? <ConfirmAction {...confirmActionProps} /> : null}\n          <Grid onDrop={onDropFiles} spacing={2} container direction=\"column\" component=\"form\">\n            <Grid item container alignItems=\"center\" justify={errorReadingFBT.file ? 'space-between' : 'flex-end'} direction=\"row\">\n              {errorReadingFBT.file ?\n              <Grid item>\n                {errorReadingFBT.err ? <Typography color=\"error\">{errorReadingFBT.msg}</Typography> : <Done fontSize=\"small\" />}\n              </Grid>\n              : null}\n              <Grid item>\n                <input onChange={onChangeFBTFile} value=\"\" accept=\".xml,.fbt\" type=\"file\" id=\"raised-button-file\" hidden />\n                  <label htmlFor=\"raised-button-file\">\n                    <Button variant=\"outlined\" component=\"span\" size=\"small\">\n                      Choose fbt file for form auto completion\n                    </Button>\n                  </label> \n              </Grid>\n            </Grid>\n            <Grid spacing={1} justify=\"space-between\" item xs container direction=\"row\">\n              <Grid item xs={6}>\n                <TextField\n                  onChange={onChangeFBType} \n                  value={fbType}\n                  helperText=\"\"\n                  error={!validType} \n                  fullWidth required \n                  label=\"Type\" \n                  id=\"fb-type\" \n                  type=\"text\" />\n              </Grid>\n              <Grid item xs>\n                <FormControl fullWidth required>\n                  <InputLabel error={!validCategory} id=\"category-label\">Category</InputLabel>\n                  <>\n                    <Select\n                      error={!validCategory}\n                      labelId=\"category-label\"\n                      value={fbCategory.fbcName}\n                      onChange={(event) => {\n                        setValidCategory(true)\n                        setFbCategory(functionBlockCategories.filter((cat:FBCategory) => event.target.value === cat.fbcName)[0])\n                      }} \n                    >\n                      {functionBlockCategories.map((cat:FBCategory, index:number) => <MenuItem key={index} value={cat.fbcName}>{cat.fbcName}</MenuItem>)}\n                    </Select>\n                   \n                  </>\n                </FormControl>\n              </Grid>\n              <Grid item xs>\n                <FormControl fullWidth required>\n                  <InputLabel error={!validGeneralCategory} id=\"gen-category-label\">General Category</InputLabel>\n                  <Select\n                    error={!validGeneralCategory} \n                    labelId=\"gen-category-label\"\n                    value={fbGeneralCategory || ''}\n                    onChange={(event:any) => {\n                      setValidGeneralCategory(true)\n                      changeGeneralCategory(event.target.value)\n                    }}\n                  >\n                    {generalCategoryNames.map((cat:any, index:number) => <MenuItem key={index} value={cat}>{cat}</MenuItem>)}\n                  </Select>\n                </FormControl>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              <TextField \n                helperText=\"\" \n                variant=\"standard\" \n                fullWidth \n                required \n                multiline \n                rowsMax=\"4\" \n                label=\"Description\" \n                id=\"description\" \n                type=\"text\"\n                error={!validDescription} \n                onChange={setSimpleField(setFbDescription, () => setValidDescription(true))} \n                value={fbDescription}/>\n            </Grid>\n            <Grid item xs>\n              Variables\n            </Grid>\n            <Grid container item xs>\n              <Grid className={classes.box} spacing={1} item container direction=\"row\">\n                <Grid item xs={6}>\n                  <VariableList onVariableEdition={onInputVariableEdition} onVariableRemoval={onInputVariableRemoval} setVariables={setFbInputVariables} inOutType={InOutType.in} title=\"Input\" variables={fbInputVariables} />\n                </Grid>\n                <Grid item xs={6}>\n                  <VariableList onVariableEdition={onOutputVariableEdition} onVariableRemoval={onOutputVariableRemoval} setVariables={setFbOutputVariables} inOutType={InOutType.out} title=\"Output\" variables={fbOutputVariables} />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              Events\n            </Grid>\n            <Grid container item xs>\n              <Grid className={classes.box} spacing={1} item container direction=\"row\">\n                <Grid item xs={6}>\n                  <EventList setEvent={setInputEvent} removeEvent={removeInputEvent} addNewEvent={addNewInputEvent} setEvents={setFbInputEvents} newEvent={newInputEvent} setNewEvent={setNewInputEvent} variables={fbInputVariables} inOutType={InOutType.in} title=\"Input\" events={fbInputEvents} />\n                </Grid>\n                <Grid item xs={6}>\n                  <EventList setEvent={setOutputEvent} removeEvent={removeOutputEvent} addNewEvent={addNewOutputEvent} setEvents={setFbOutputEvents} newEvent={newOutputEvent} setNewEvent={setNewOutputEvent} variables={fbOutputVariables} inOutType={InOutType.out} title=\"Output\" events={fbOutputEvents} />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              Dependencies\n            </Grid>\n            <Grid container xs item>\n              <Grid item container className={classes.box} alignItems=\"center\" justify=\"space-between\">\n                <Grid item container direction=\"row\" spacing={1} alignItems=\"flex-end\">\n                  <Grid item xs={6}>\n                    <TextField\n                        onChange={onChangeCurrentDependency} \n                        value={currentDependency}\n                        helperText=\"\"\n                        fullWidth \n                        label=\"New Dependency\" \n                        id=\"fb-new-dependency\" \n                        type=\"text\" />\n                  </Grid>\n                  <Grid item>\n                    <Button onClick={addDependency} className={classes.varEvButton} size=\"small\" variant=\"contained\">+</Button>\n                  </Grid>\n                </Grid>\n                <Grid container className={`${classes.box} ${classes.dependenciesBox}`} item>\n                  {fbExternalDependencies.length ?\n                    fbExternalDependencies.map((ed: ExternalDependency, index: number) => (\n                      <Chip key={index} className={classes.dependency} label={ed.edName} onDelete={deleteDependency(ed)} />\n                    )) : 'No Dependencies'\n                  }\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs container direction=\"row\" justify=\"space-between\" alignItems=\"center\"> \n              <Grid item xs={6}>\n                  <input onChange={changeImplFile} value=\"\" required accept=\".py\" type=\"file\" id=\"button-file\" hidden />\n                  <label htmlFor=\"button-file\">\n                    <TextField\n                      className={classes.tfFile}\n                      label=\"Implementation File\"\n                      required={!props.byPassFields?.fbImplFile}\n                      error={!validFile}\n                      disabled={true}\n                      value={fbImplFile.name} \n                      InputProps={{\n                        startAdornment: (\n                          <Box pb={1} mr={1}>\n                            <Button variant=\"outlined\" component=\"span\">\n                              <UploadIcon className={classes.icon} />\n                            </Button>\n                          </Box> \n                        )\n                      }} />\n                  </label>\n              </Grid>\n              <Grid item xs={6} container direction=\"row\" spacing={2} alignItems=\"center\" justify=\"flex-end\">\n                <Grid item>\n                    <Button onClick={onCancel} color=\"secondary\" variant=\"contained\"><Clear/>{cancelLabel}</Button>\n                </Grid>\n                <Grid>\n                  <Button onClick={confirmButtonAction} color=\"primary\" variant=\"contained\"><Done/>{confirmLabel}</Button>\n                </Grid>\n              </Grid>\n            </Grid>\n            \n          </Grid>\n        </>\n      )\n}","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Table/JPTable.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Gauge.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/Bars.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/api.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Charts/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Event.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/ConfirmAction/style.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/FunctionBlocks/FunctionBlock/Variable.tsx",["254"],"import React, { useEffect, useState, useCallback } from 'react'\nimport { useFunctionBlockStyles } from \"./style\"\nimport { Variable, DataType, InOutType } from \"../../../model/index\"\nimport { Grid, TextField, FormControl, InputLabel, Select, Button, MenuItem } from \"@material-ui/core\"\n\ninterface VariableProps {\n  setVariables: Function\n  variables: Variable[]\n  title: string\n  inOutType: InOutType\n  onVariableRemoval: (variable: Variable) => void\n  onVariableEdition: (oldVariable: Variable, newVariable: Variable) => void\n}\n\nexport const VariableList = React.memo((props: VariableProps) => {\n  \n  const {variables,setVariables,onVariableRemoval,onVariableEdition} = props\n\n  const classes = useFunctionBlockStyles()\n\n  const newVar : Variable = {\n    variableId: -1,\n    variableDataType: DataType.dtString,\n    variableOpcua: \"\",\n    variableInoutType: props.inOutType,\n    variableName: \"\",\n  }\n\n  const [newVariable,setNewVariable] : [Variable,Function] = useState(newVar)\n\n  const setVariable = useCallback((variable:Variable,index:number) => {\n\n    setVariables((prevVars: Variable[]) => {\n\n      const oldVariable : Variable = prevVars[index]\n      const newVariables : Variable[] = [...prevVars]\n      newVariables[index] = variable\n      onVariableEdition(oldVariable,variable)\n      return newVariables\n\n    }) \n\n  },[onVariableEdition, setVariables])\n\n  const addVariable = useCallback((varToAdd: Variable) => {\n    \n    setVariables((prevVariables: Variable[]) =>[...prevVariables, varToAdd])\n    setNewVariable(newVar)\n\n  }, [setVariables,newVar]) \n\n  const removeVariable = useCallback((variableToRemove:Variable) => {\n    setVariables((prevVars: Variable[]) => prevVars.filter((variable:Variable,index:number) => variable !== variableToRemove))\n    onVariableRemoval(variableToRemove)\n  },[onVariableRemoval,setVariables]) \n\n  return (\n    <Grid container direction=\"column\">\n      <Grid item>{props.title}</Grid>\n      <Grid item className={classes.box}>\n        {variables.map((variable:Variable, index:number) => <VariableRow key={index} index={index} addRemoveVariable={removeVariable} setVariable={setVariable} variable={variable} newVar={false} />)}\n        <VariableRow index={-1} addRemoveVariable={addVariable} setVariable={setNewVariable} variable={newVariable} newVar={true}  />\n      </Grid> \n    </Grid>\n  )\n})\n\ninterface VariableRowProps {\n  index: number \n  addRemoveVariable: (variable: Variable) => void\n  setVariable:Function\n  variable: Variable\n  newVar: boolean\n  order?: number\n}\n  \nconst VariableRow = React.memo((props: VariableRowProps) => {\n\n  const classes = useFunctionBlockStyles()\n\n  const [validName,setValidName] = useState(\"\")\n\n  const action = () => {\n\n    if(!isValid() && props.newVar) \n      setValidName(\"Mandatory\")\n    \n    else\n      props.addRemoveVariable(props.variable)\n    \n  }\n\n  const isValid = useCallback(() => props.variable.variableName !== '', [props.variable])\n\n  const validate = useCallback(() => {\n    \n    !isValid() ? setValidName(\"Mandatory\") : setValidName('')\n\n  },[isValid]) \n\n  useEffect(() => {if(!props.newVar) validate()}, [props.variable.variableName, props.newVar, validate])\n\n  const updateField = (field:string) => (event:any) => {\n\n    setValidName('')\n    props.setVariable({...props.variable, [field]: event.target.value},props.index)\n  \n  }\n\n  return (\n    <Grid item container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\n      { props.order ?\n      <Grid item xs={1}>\n          {props.order}\n      </Grid>\n      : null\n      }\n      <Grid item xs={4}>\n        <TextField \n          value={props.variable.variableName} \n          onChange={updateField('variableName')}\n          helperText={validName} fullWidth \n          required\n          error={validName !== ''} \n          label=\"Name\" \n          type=\"text\" />\n      </Grid>\n      <Grid item xs={2}>\n        <TextField \n          value={props.variable.variableOpcua || ''}\n          onChange={updateField('variableOpcua')} \n          helperText=\"\" \n          fullWidth \n          label=\"OPCUA\" \n          type=\"text\" />\n      </Grid>\n      <Grid item xs={3}>\n        <FormControl fullWidth required>\n          <InputLabel id={`data-type-label-${props.variable.variableName}`}>Data Type</InputLabel>\n          <Select\n            labelId={`data-type-label-${props.variable.variableName}`}\n            value={props.variable.variableDataType}\n            onChange={updateField('variableDataType')}\n          >\n            {Object.values(DataType).map((dt:any, index:number) => <MenuItem key={index} value={dt}>{dt}</MenuItem>)}\n\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid item xs={1}>\n        <Button \n          className={classes.varEvButton} \n          size=\"small\" \n          variant=\"contained\"\n          onClick={action}\n        >\n        {props.newVar ? '+' : 'x' }</Button>\n      </Grid>\n    </Grid>\n  )\n}\n ,(prevProps:VariableRowProps, nextProps: VariableRowProps) => prevProps.variable === nextProps.variable\n)","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/index.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/templates/Search/SearchableList.tsx",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/DigitalTwin.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/Tables.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/User.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/FunctionBlock.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/SmartComponent.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/EventVariable.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/Error.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/smartComponents.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/services/api/smart-component.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/AssociatedSmartComponent.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/utils/associatedSmartComponents.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/SmartComponent.tsx",["255","256","257","258","259"],"import React, { useEffect, useState, useCallback } from 'react'\nimport { useFunctionBlockStyles } from \"../FunctionBlocks/FunctionBlock/style\"\nimport { SmartComponent } from \"../../model/index\"\nimport { Grid, FormControl, InputLabel, Select, Button, MenuItem } from \"@material-ui/core\"\nimport { useMountEffect } from '../../utils/main'\nimport { getOrDownloadSmartComponents } from '../../utils/smartComponents'\nimport { RequestResponseState } from '../../services/api/api'\nimport { useStore } from '../templates/Store/Store'\nimport { SmartComponentActions } from '../../redux/actions'\n\ninterface SmartComponentProps {\n  setSmartComponents: Function\n  smartComponents: SmartComponent[]\n  title: string\n  onSmartComponentRemoval: (smartComponent: SmartComponent) => void\n}\n\nexport const SmartComponentList = React.memo((props: SmartComponentProps) => {\n  \n  const {smartComponents,setSmartComponents,onSmartComponentRemoval} = props\n\n  const classes = useFunctionBlockStyles()\n\n  const newSc : SmartComponent = {\n    scId: -1,\n    scName: \"\",\n    scAddress: \"\",\n    scPort: -1,\n  }\n\n  const [newSmartComponent,setNewSmartComponent] : [SmartComponent,Function] = useState(newSc)\n\n  const setSmartComponent = useCallback((smartComponent: SmartComponent , index:number) => {\n\n    setSmartComponents((prevScs: SmartComponent[]) => {\n      console.log(\"entrei aqui\")\n      const oldSmartComponent : SmartComponent = prevScs[index]\n      const newSmartComponents : SmartComponent[] = [...prevScs]\n      newSmartComponents[index] = smartComponent\n      return newSmartComponents\n\n    }) \n\n  },[setSmartComponents])\n\n  const addSmartComponent = useCallback((scToAdd: SmartComponent) => {\n    console.log(\"entrei aqui 1\")\n\n    setSmartComponents((prevSmartComponents: SmartComponent[]) =>[...prevSmartComponents, scToAdd])\n    setNewSmartComponent(newSc)\n\n  }, [setSmartComponents,newSc]) \n\n  const removeSmartComponent = useCallback((smartComponentToRemove:SmartComponent) => {\n    console.log(\"entrei aqui 2\")\n    setSmartComponents((prevSmartComponents: SmartComponent[]) => prevSmartComponents.filter((smartComponent:SmartComponent,index:number) => smartComponent !== smartComponentToRemove))\n    console.log(smartComponentToRemove)\n    onSmartComponentRemoval(smartComponentToRemove)\n  },[onSmartComponentRemoval,setSmartComponents]) \n  \n  console.log(\"newSc\", newSmartComponent)\n  console.log(\"smartComponents:\", smartComponents)\n \n  return (\n    <Grid container direction=\"column\">\n      <Grid item>{props.title}</Grid>\n      <Grid item className={classes.box}>\n        {smartComponents.map((smartComponent:SmartComponent, index:number) => <SmartComponentRow key={index} index={index} addRemoveSmartComponent={removeSmartComponent} setSmartComponent={setSmartComponent} smartComponent={smartComponent} newSc={false} />)}\n        <SmartComponentRow index={-1} addRemoveSmartComponent={addSmartComponent} setSmartComponent={setNewSmartComponent} smartComponent={newSmartComponent} newSc={true}  />\n      </Grid> \n    </Grid>\n  )\n})\n\ninterface SmartComponentRowProps {\n  index: number \n  addRemoveSmartComponent: (smartComponent: SmartComponent) => void\n  setSmartComponent:Function\n  smartComponent: SmartComponent\n  newSc: boolean\n  order?: number\n}\n\nconst SmartComponentRow = React.memo((props: SmartComponentRowProps) => {\n\n  const classes = useFunctionBlockStyles()\n\n  const [validName,setValidName] = useState(\"\")\n\n  const [fetching,setFetching] = useState(true)\n  const {data:smartComponents, dispatchAction:dispatchSmartComponentActions} = useStore('smartComponents')\n  const updateSmartComponents = (scs: SmartComponent[]) => dispatchSmartComponentActions(SmartComponentActions.updateSmartComponent(scs))\n  const [error,setError] = useState('')\n\n  const isValid = useCallback(() => props.smartComponent.scName !== '', [props.smartComponent])\n\n  const action = () => {\n\n    if(!isValid() && props.newSc) \n      setValidName(\"Mandatory\")\n    \n    else\n      props.addRemoveSmartComponent(props.smartComponent)\n    \n  }\n  \n  //Verifica se o nome é válido\n  const validate = useCallback(() => {\n    \n    !isValid() ? setValidName(\"Mandatory\") : setValidName('')\n\n  },[isValid]) \n\n  useEffect(() => {if(!props.newSc) validate()}, [props.smartComponent.scName, props.newSc, validate])\n\n  const updateField = (fieldScId:string, fieldScName:string, fieldScAddress:string, fieldScPort:string) => (event:any) => {\n  \n    props.setSmartComponent({...props.smartComponent, [fieldScId]: event.target.value, [fieldScName]: event.target.value.scName, [fieldScAddress]: event.target.value.scAddress, [fieldScPort]: event.target.value.scPort}, props.index)\n  \n  }\n\n  // Recuperar diretamente da comunicação OPC-UA os smart_components disponíveis (SmartComponent)\n  useMountEffect(() => {\n\n    setTimeout(() => {\n  \n      setFetching(true)\n      getOrDownloadSmartComponents(smartComponents)\n          .then((result: SmartComponent[]) => updateSmartComponents(result))\n          .catch((e:RequestResponseState) => setError(e.msg))\n          .finally(() => setFetching(false))\n      }, 0)\n  })\n\n  return (\n    <Grid item xs={12} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\n      { props.order ?\n      <Grid item xs={12}>\n          {props.order}\n      </Grid>\n      : null\n      }\n      <Grid item xs={6}>\n        <FormControl fullWidth required>\n          <InputLabel id={`smart-component-label-${props.smartComponent.scName}`}></InputLabel>\n            <Select\n              labelId={`smart-component-label-${props.smartComponent.scName}`}\n              value={props.smartComponent.scId}\n              onChange={updateField('scId', 'scName','scAddress','scPort')}\n            >\n              {(smartComponents || []).map((smartComponent: any) => {return <MenuItem key={smartComponent} value={smartComponent}>{`${smartComponent.scAddress}, ${smartComponent.scName}, ${smartComponent.scPort}`}</MenuItem>})}\n            </Select>\n        </FormControl>\n      </Grid>\n      <Grid item xs={1}>\n        <Button \n          className={classes.varEvButton} \n          size=\"small\" \n          variant=\"contained\"\n          onClick={action}\n        >\n        {props.newSc ? '+' : 'x' }</Button>\n      </Grid>\n    </Grid>\n  )\n  }\n ,(prevProps:SmartComponentRowProps, nextProps: SmartComponentRowProps) => prevProps.smartComponent === nextProps.smartComponent\n)\n","/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/MonitoredVariable.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/model/model/MonitoredEvent.ts",[],"/media/maria/96ae9a87-ebe3-48cb-a2c1-fae5fe76b9e7/maria/Marketplace-JurassicPark/backend/web/src/components/DigitalTwin/FunctionalityForm.tsx",["260","261","262","263","264","265"],"import { useState } from 'react'\r\nimport { Grid, Button} from '@material-ui/core'\r\nimport { useFunctionBlockStyles } from '../FunctionBlocks/FunctionBlock/style'\r\nimport { BackspaceOutlined } from '@material-ui/icons'\r\nimport { useStore } from '../templates/Store/Store'\r\n\r\ninterface FunctionalityFormProps {\r\n\r\n    cancel: {\r\n        label: string\r\n        action: () => void\r\n    },\r\n}\r\n\r\nexport const FunctionalityForm = (props: FunctionalityFormProps) => {\r\n\r\n    /**styles */\r\n    const classes = useFunctionBlockStyles()\r\n\r\n    /**list of digital-twins */\r\n    const {data: digitalTwins, dispatchAction:dispatchDigitalTwinsActions} = useStore('digitalTwins')\r\n    const [validDt,setValidDt] : [boolean, Function] = useState(true)\r\n\r\n    /* Buttons */\r\n\r\n    const onCancel = props.cancel.action\r\n    const cancelLabel = props.cancel.label\r\n\r\n\r\n    return (\r\n            <Grid item xs container direction=\"row\" justify=\"space-between\" alignItems=\"center\"> \r\n              <Grid item xs={6} container direction=\"row\" spacing={2} alignItems=\"center\" justify=\"flex-end\">\r\n                <Grid item>\r\n                <Button onClick={onCancel} style={{minWidth:0}} variant=\"text\" size=\"medium\"><BackspaceOutlined fontSize=\"large\"/></Button>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n      )\r\n}",{"ruleId":"266","replacedBy":"267"},{"ruleId":"268","replacedBy":"269"},{"ruleId":"270","severity":1,"message":"271","line":12,"column":22,"nodeType":"272","endLine":12,"endColumn":24,"suggestions":"273"},{"ruleId":"274","severity":1,"message":"275","line":1,"column":10,"nodeType":"276","messageId":"277","endLine":1,"endColumn":14},{"ruleId":"278","severity":1,"message":"279","line":90,"column":19,"nodeType":"280","messageId":"281","endLine":92,"endColumn":14},{"ruleId":"274","severity":1,"message":"282","line":91,"column":15,"nodeType":"276","messageId":"277","endLine":91,"endColumn":41},{"ruleId":"274","severity":1,"message":"283","line":76,"column":12,"nodeType":"276","messageId":"277","endLine":76,"endColumn":37},{"ruleId":"274","severity":1,"message":"284","line":230,"column":29,"nodeType":"276","messageId":"277","endLine":230,"endColumn":49},{"ruleId":"274","severity":1,"message":"285","line":6,"column":22,"nodeType":"276","messageId":"277","endLine":6,"endColumn":35},{"ruleId":"274","severity":1,"message":"286","line":124,"column":25,"nodeType":"276","messageId":"277","endLine":124,"endColumn":39},{"ruleId":"274","severity":1,"message":"287","line":132,"column":12,"nodeType":"276","messageId":"277","endLine":132,"endColumn":20},{"ruleId":"274","severity":1,"message":"288","line":135,"column":12,"nodeType":"276","messageId":"277","endLine":135,"endColumn":17},{"ruleId":"274","severity":1,"message":"289","line":137,"column":38,"nodeType":"276","messageId":"277","endLine":137,"endColumn":65},{"ruleId":"274","severity":1,"message":"290","line":163,"column":12,"nodeType":"276","messageId":"277","endLine":163,"endColumn":34},{"ruleId":"274","severity":1,"message":"291","line":355,"column":25,"nodeType":"276","messageId":"277","endLine":355,"endColumn":42},{"ruleId":"274","severity":1,"message":"292","line":141,"column":17,"nodeType":"276","messageId":"277","endLine":141,"endColumn":32},{"ruleId":"274","severity":1,"message":"293","line":142,"column":11,"nodeType":"276","messageId":"277","endLine":142,"endColumn":32},{"ruleId":"274","severity":1,"message":"294","line":14,"column":10,"nodeType":"276","messageId":"277","endLine":14,"endColumn":28},{"ruleId":"270","severity":1,"message":"295","line":241,"column":27,"nodeType":"276","endLine":241,"endColumn":38},{"ruleId":"270","severity":1,"message":"295","line":242,"column":28,"nodeType":"276","endLine":242,"endColumn":39},{"ruleId":"270","severity":1,"message":"296","line":21,"column":9,"nodeType":"297","endLine":27,"endColumn":4},{"ruleId":"270","severity":1,"message":"298","line":24,"column":9,"nodeType":"297","endLine":29,"endColumn":4},{"ruleId":"274","severity":1,"message":"299","line":37,"column":13,"nodeType":"276","messageId":"277","endLine":37,"endColumn":47},{"ruleId":"274","severity":1,"message":"300","line":88,"column":10,"nodeType":"276","messageId":"277","endLine":88,"endColumn":19},{"ruleId":"274","severity":1,"message":"287","line":90,"column":10,"nodeType":"276","messageId":"277","endLine":90,"endColumn":18},{"ruleId":"274","severity":1,"message":"288","line":93,"column":10,"nodeType":"276","messageId":"277","endLine":93,"endColumn":15},{"ruleId":"274","severity":1,"message":"301","line":18,"column":11,"nodeType":"276","messageId":"277","endLine":18,"endColumn":18},{"ruleId":"274","severity":1,"message":"302","line":21,"column":18,"nodeType":"276","messageId":"277","endLine":21,"endColumn":30},{"ruleId":"274","severity":1,"message":"303","line":21,"column":47,"nodeType":"276","messageId":"277","endLine":21,"endColumn":74},{"ruleId":"274","severity":1,"message":"304","line":22,"column":12,"nodeType":"276","messageId":"277","endLine":22,"endColumn":19},{"ruleId":"274","severity":1,"message":"305","line":22,"column":20,"nodeType":"276","messageId":"277","endLine":22,"endColumn":30},{"ruleId":"274","severity":1,"message":"306","line":27,"column":11,"nodeType":"276","messageId":"277","endLine":27,"endColumn":22},"no-native-reassign",["307"],"no-negated-in-lhs",["308"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'actionOnMount' and 'actionOnUnmount'. Either include them or remove the dependency array. If 'actionOnMount' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["309"],"@typescript-eslint/no-unused-vars","'argv' is defined but never used.","Identifier","unusedVar","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'idAssociatedSmartComponent'.","ArrowFunctionExpression","unsafeRefs","'idAssociatedSmartComponent' is assigned a value but never used.","'selectedMonitoredVariable' is assigned a value but never used.","'setFunctionalityName' is assigned a value but never used.","'FunctionBlock' is defined but never used.","'setNewFuncName' is assigned a value but never used.","'fetching' is assigned a value but never used.","'error' is assigned a value but never used.","'setAvailableSmartComponents' is assigned a value but never used.","'smartComponentIdChoice' is assigned a value but never used.","'setConfirmEditing' is assigned a value but never used.","'smartComponents' is assigned a value but never used.","'updateSmartComponents' is assigned a value but never used.","'SmartComponentList' is defined but never used.","React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","The 'newVar' object makes the dependencies of useCallback Hook (at line 50) change on every render. To fix this, wrap the initialization of 'newVar' in its own useMemo() Hook.","VariableDeclarator","The 'newSc' object makes the dependencies of useCallback Hook (at line 52) change on every render. To fix this, wrap the initialization of 'newSc' in its own useMemo() Hook.","'oldSmartComponent' is assigned a value but never used.","'validName' is assigned a value but never used.","'classes' is assigned a value but never used.","'digitalTwins' is assigned a value but never used.","'dispatchDigitalTwinsActions' is assigned a value but never used.","'validDt' is assigned a value but never used.","'setValidDt' is assigned a value but never used.","'cancelLabel' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"310","fix":"311"},"Update the dependencies array to be: [actionOnMount, actionOnUnmount]",{"range":"312","text":"313"},[308,310],"[actionOnMount, actionOnUnmount]"]